/*! Thrive Themes 2020-05-04
* http://www.thrivethemes.com/
* Copyright (c) 2020 Thrive Themes */

"use strict";function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(c){var u,m,o,p,T,s={".js":[],".json":[],".css":[],".html":[]},l="function"==typeof require?require:null;return p=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},T=function(e,t,n){var i,o;if("function"==typeof e[t+n])return t+n;for(i=0;o=s[n][i];++i)if("function"==typeof e[t+o])return t+o;return null},u=function(e,t,n,i,o,s){var a,r,c,l,d,h;for("."!==(a=(n=n.split("/")).pop())&&".."!==a||(n.push(a),a="");null!=(r=n.shift());)if(r&&"."!==r&&(".."===r?(e=t.pop(),s=s.slice(0,s.lastIndexOf("/"))):(t.push(e),e=e[r],s+="/"+r),!e))throw p(i);if(a&&"function"!=typeof e[a]&&((h=T(e,a,".js"))||(h=T(e,a,".json")),h||(h=T(e,a,".css")),h||(h=T(e,a,".html")),h?a=h:2!==o&&"object"===_typeof(e[a])&&(t.push(e),e=e[a],s+="/"+a,a="")),!a)return 1!==o&&e[":mainpath:"]?u(e,t,e[":mainpath:"],i,1,s):u(e,t,"index",i,2,s);if(!(d=e[a]))throw p(i);return d.hasOwnProperty("module")?d.module.exports:(c={},d.module=l={exports:c,id:s+"/"+a},d.call(c,c,l,m(e,t,s)),l.exports)},o=function(e,t,n,i){var o,s=n,a=n.charAt(0),r=0;if("/"===a){if(s=s.slice(1),!(e=c["/"])){if(l)return l(n);throw p(n)}i="/",t=[]}else if("."!==a){if(o=s.split("/",1)[0],!(e=c[o])){if(l)return l(n);throw p(n)}i=o,t=[],(s=s.slice(o.length+1))||(r=(s=e[":mainpath:"])?1:(s="index",2))}return u(e,t,s,n,r,i)},(m=function(t,n,i){return function(e){return o(t,[].concat(n),e,i)}})(c,[],"")}({workspace:{inc:{assets:{js:{architect:{main:{actions:{"_includes.js":function(e,t,n){var i=[],o={main:n("./general"),social:n("./social"),symbol:n("./symbol"),post_list:n("./post-list"),theme_section:n("./theme-section"),skin_colors:n("./skin-colors"),skin_gradients:n("./skin-gradients")};_.each(o,function(e){_.each(e,function(e,t){i.push({tag:t,callback:e})})}),t.exports=i},"general.js":function(e,t,n){!function(a){n("../models/layout"),n("../models/section");var i=n("../switch-editor");t.exports={"tcb-ready":function(){TVE.Theme.template.is_singular()&&TVE.inner.$body.find(TVE.identifier("post_content")).each(function(e,t){var n=TVE.inner_$(t);0===n.text().trim().length&&0===n.find(".thrv_wrapper").length&&0===n.closest(TVE.identifier("post_list")).length&&n.html(TVE.tpl("theme-main/empty-post-content-placeholder")({contentType:TVE.Theme.template.secondary()}))})},"tve.lazyload.done":function(e){if(_.each(_objectSpread({},e.theme_sections,{},e.headers_and_footers),function(e){void 0===TVE.Theme.data.local[e.type]&&(TVE.Theme.data.local[e.type]={}),TVE.Theme.data.local[e.type][e.id]=e}),TVE.Theme.template.is_singular()&&e.custom_fields&&TVE.CONST.inline_shortcodes["Custom fields"]){var t=_.findIndex(TVE.CONST.inline_shortcodes["Custom fields"],function(e){return"Custom Fields Global"===e.name});Object.assign(TVE.CONST.inline_shortcodes["Custom fields"][t].input.id,_.pick(e.custom_fields,["value","real_data","labels"])),void 0!==TVE.CONST.dynamic_links["Custom Fields Global"]&&(TVE.CONST.dynamic_links["Custom Fields Global"].links=e.custom_fields.links)}},"tcb.element.remove":function(e){var t=e.attr("data-selector");if(t&&0===TVE.Theme.$wrapper.find(t).length)for(var n,i,o,s,a=TVE.main.all_media(),r=0;s=a[r++];)for(o=TVE.CSS_Rule_Cache.media_rule(s),n=0;i=o.cssRules[n];)0===TVE.inner_$(i.selectorText).length?o.deleteRule(n):n++},"tcb.after-insert":function(e){var o,s;e.find(".thrive-shortcode-content").each(function(e,t){if(s=a(t),o=s.attr("data-id"),TVE.PostList.posts&&o){var n=TVE.PostList.utils.getArticleID(s);if(!n)return!1;var i=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+o,TVE.PostList.posts[n][o],TVE.PostList.posts[n],s));s.html(i.text())}});var t=e.closest(TVE.identifier("article"));if(TVE.Theme.template.is_singular()&&0===t.length&&(!TVE.FLAGS.$dragged_element||TVE.FLAGS.$dragged_element.static_element)){var n=TVE.Elements[TVE._type(e)];if(!n)return void console.warn("Corresponding element not found inside TVE.Elements for:"+e);n.shortcode&&TVE.PostList.content.replaceShortcodeWithData(n.shortcode,e,TVE.Theme.CONST.ID)}TVE.Theme.content.init_selectors(e)},"tcb.element.focus":function(n){n.is(TVE.Theme.selectors.editor.no_drag.join(","))&&TVE.drag.hide_handle(),TVE.Theme.$wrapper.find("."+TVE.PostList.constants.SIMILAR_EDIT_CLASS).removeClass(TVE.PostList.constants.SIMILAR_EDIT_CLASS);var i=TVE._type(n);_.each(TVE.Theme.selectors.haveDynamicPrefix,function(e,t){e.includes(i)&&n.closest(TVE.identifier(t)).find(TVE.identifier(i)).addClass(TVE.PostList.constants.SIMILAR_EDIT_CLASS)})},"tcb.dragstart":function(e){TVE.FLAGS.dragFromSectionInstance=TVE.Theme.utils.getSectionInstance(e)},"tcb.show_icons":function(e,t,n){TVE.state()!==TVE.STATE_EDIT&&e.is(TVE.Theme.selectors.editor.no_drag.join(","))&&n&&n.$drag_handle.hide()},icon_element_changed:function(n,e){var t=n.closest(".thrive-dynamic-styled-list-item");t.length&&(t.parents(".thrive-dynamic-list").attr("data-icon",n.find("svg").data("id")),t.siblings().each(function(e,t){a(t).find(".thrv_icon").html(n.html())}))},"tcb.image.change":function(e){TVE.ActiveElement.width()>TVE.Theme.utils.getSectionInstance(TVE.ActiveElement).$content.width()&&TVE.ActiveElement.head_css({width:"100%"})},"tcb.link.linkchange":function(e){TVE.ActiveElement.find(".tcb-button-link").removeAttr("data-dynamic-link"),TVE.PostList.utils.checkForPostListSync(TVE.ActiveElement)},"tcb.link.linkreplace":function(e){var t=TVE.ActiveElement.find(".tcb-button-link");t.attr("href")&&!t.attr("href").startsWith("[thrive_")&&(t.removeAttr("data-dynamic-link"),e.unset("dynamic_link")),TVE.PostList.utils.checkForPostListSync(TVE.ActiveElement)},"tcb.component.after_init.button":function(i){var e=i.$('span[data-fn="open_button_search_settings"]'),o=i.$("#tcb-button-link-search-control");e.hide(),e.before(TVE.tpl("theme-main/dynamic-link-buttons")()),o.before(TVE.tpl("theme-main/dynamic-link-dropdown")());var s=i.$("#tcb-button-link-dynamic-control");i.switch_link_settings=function(e,t){var n=t.dataset.link_settings;i.$('span[data-fn="switch_link_settings"]').removeClass("blue-text"),i.$('span[data-link_settings="'+n+'"]').addClass("blue-text"),o.toggle("static"===n),s.toggle("dynamic"===n)},i.select_dynamic_link=function(e,t){var n=TVE.ActiveElement.find(".tcb-button-link"),i=TVE.apply_filters("theme.set_dynamic_link",t.options[t.selectedIndex].value);n.attr("href",TVE.Theme.utils.applyBrackets(i)),n.attr("data-dynamic-link",i.replace(/[\[\]']+/g,"")),TVE.PostList.utils.checkForPostListSync(TVE.ActiveElement)},i.after_update=function(){var e=TVE.ActiveElement.find(".tcb-button-link").attr("data-dynamic-link");e?(s.find("select").val(TVE.Theme.utils.extractShortcodeName(e)),i.$('span[data-link_settings="dynamic"]').click()):(i.$('span[data-link_settings="static"]').click(),s.find("select").val("#"))}},"tcb.component.after_init.animation":function(i){var n=i.views.link.$("#a-link-main");n.before(TVE.tpl("theme-main/dynamic-link")());var o=i.views.link.$(".dynamic-link-select"),s=i.views.link.$(".tcb-link-search"),e=i.views.link.dom;i.views.link.dom=function(){e.apply(this),i.views.link.switch_link_settings(null,{value:"static"})};var a=i.edit;i.edit=function(e,t){a.apply(this,[e,t]);var n=this.views.link.$element.attr("data-dynamic-link");n&&(o.val(TVE.Theme.utils.extractShortcodeName(n)),i.views.link.switch_link_settings(null,{value:"dynamic"}))},i.views.link.switch_link_settings=function(e,t){var n=t.value;this.data.href||(this.data.href="#"),s.toggle("static"===n),o.toggle("dynamic"===n),i.views.link.$('.link-type[value="'+n+'"]').attr("checked",!0)},i.views.link.linkType=function(e,t){this.data.href="#",n.toggle("static"===t.value).find("input").val(this.data.href),this.$element&&("static"===t.value?this.$element.removeAttr("data-dynamic-link"):this.data.href=this.$element.attr("data-dynamic-link")?TVE.Theme.utils.extractShortcodeName(this.$element.attr("data-dynamic-link")):o.find("option:first").val()),o.toggle("dynamic"===t.value).val(this.data.href)},i.views.link.dynamicLink=function(e,t){this.data.href=TVE.apply_filters("theme.set_dynamic_link",TVE.Theme.utils.applyBrackets(t.value)),this.data.dynamic_link=!0}},"tcb.element.selected":function(e,t){var n="";switch(t){case"header":case"footer":n="theme-hf";break;case"theme_section":case"template-wrapper":case"template-content":n=t}n&&_.each(TVE.Elements[t].components,function(e,t){TVE.Components[t].toggleDropdown("docked",t===n)}),"post_content"!==t&&i.resetCounter()},"tcb.element.duplicate":function(e,t){var n=TVE._type(e);if(TVE.Theme.selectors.haveDynamicPrefix.hasOwnProperty(n)){t.hasClass("tcb-clear")&&(t=t.find(TVE.identifier(n)));var i=TVE.CSS_Rule_Cache.uniq_id(t,!0);TVE.head_css_copy(e.attr("data-css"),i)}},"tcb.inline_shortcodes.init":function(e){TVE.Theme.utils.inline_shortcodes_init(e)},"tcb.froala.element_editor_init":function(e,t){var o="shortcode.popup";e.froalaEditor(t).on("froalaEditor.popups.show.".concat(o),function(e,t){var n=t.popups.get(o);if(TVE.Theme.template.is_singular()&&TVE.Theme.template.secondary()===TVE.Theme.constants.templates.PAGE){var i=0<TVE.ActiveElement.closest(TVE.identifier("post_list")).length;n.find('option[value="Taxonomies"]').toggle(i)}})},tcb_after_cloud_template:function(e){TVE.Theme.utils.inline_shortcodes_init(e),TVE.Theme.utils.image_shortcodes_init(e),TVE.Theme.content.init_selectors(e)},"tcb.link_apply":function(e,t){t.dynamic_link&&e.attr("data-dynamic-link",t.href.replace(/[\[\]']+/g,""))},"tcb.component.after_init.VideoControls":function(e){"video"===TVE.Theme.template.format()&&n("../controls/dynamic-video").init(e)},tcb_before_global_style_save:function(e,t){e&&e.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))&&e.attr("data-button-style",t.cls)},"tcb.element.selected.thrive_taxonomy_term_description":function(e){e.find(".tcb-no-taxonomy").length&&TVE.Theme.utils.disable_components(!0)},"tcb.dynamic_image.source_changed":function(e,t){0===e.closest(TVE.identifier("post_list")).length&&e.toggleClass("thrive-dynamic-source",t)},"tcb.editorActions.init":function(){TVE.CONST.theme.is_theme_template&&_.each(_objectSpread({main:TVE.Theme.$main,template_content:TVE.Theme.$content,wrapper:TVE.Theme.$wrapper},TVE.Theme.$sections),function(e){return e.removeClass("tve-droppable")}),TVE.$body.append('<div id="tt-loading-wrapper"></div>')},"tcb.page-map.after_update":function(e,s){var t;if(e&&e.length&&(TVE.Theme.models.HFSection.is(e)?t=".thrv_".concat(e.attr("data-section")):TVE.Theme.models.Section.is(e)?t=".".concat(e.attr("data-section"),"-section .section-content"):"content"===e.attr("id")&&(t="#content .main-content-background"),t)){var n=s.$('[data-section="'.concat(t,'"]'));n.length&&(n.addClass("tsp-selected"),n.toggleClass("tsp-dynamic",!!e.attr("data-id")))}Object.values(TVE.Theme.$sections).forEach(function(e){var t=e.attr("data-section"),n=s.$(".tsp-"+t).toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,e.hasClass("hide-section"));if("top"===t||"bottom"===t){var i=e.parent().is(TVE.Theme.$content),o=s.$(".tsp-wrapper");i?o["top"===t?"prepend":"append"](n):o["top"===t?"before":"after"](n)}}),s.$(".tsp-columns").toggleClass("reverse-columns",TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS))},"tcb.page-map.extend":function(e){e.visibilityToggle=function(e,t,n){var i=TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[e]);i&&i.toggle(n)}},"tcb.symbol.before_save_logic":function(e){e||(e=TVE.ActiveElement),e.find("[data-selector]").removeAttr("data-selector")},"tcb.element.click":function(e){var t=TVE.inner_$(e.currentTarget);"post_content"===TVE._type(t)?i.elementClick(t):TVE.main.sidebar_extra.$el.find(".tar-redirect-tooltip").removeClass("tooltip-active")},"component.update.toc.toc":function(e){var t=e.$(".ttb-dynamic-toc").hide();TVE.CONST.theme.is_theme_template&&TVE.Theme.template.is_singular()&&(t.length||(t=a(TVE.tpl("theme-main/toc-dynamic-info")()).insertAfter(e.$('[data-fn="refresh"]'))),t.toggle(0===TVE.ActiveElement.parents("#tve_editor").length))}}}(jQuery)},"post-list.js":function(e,t,n){var i=function(){TVE.Theme.template.is_singular()&&TVE.Theme.utils.allowPostContentDelete()};t.exports={"tcb-ready":i,"tcb.after-insert":i,"tcb.element.remove":i,"tcb.element.duplicate":i,"tcb.component.after_init.blog_list":function(e){TVE.Theme.template.is_singular()&&(TVE.main.sidebar_toggle_elements(_.map(TVE.Elements,function(e){return e.tag}),!0),TVE.PostList.utils.onlyPostListElements(!1))},"tcb.edit_mode.exit":function(e){e.is(TVE.identifier("post_list"))&&TVE.Theme.template.is_singular()&&(TVE.main.sidebar_toggle_elements(_.map(TVE.Elements,function(e){return e.tag}),!0),TVE.PostList.utils.onlyPostListElements(!1))},"tcb.post_list.posts_loaded":function(){for(var e=TVE.stylesheet.cssRules,t=0;t<e.length;t++)if(e[t].type===CSSRule.MEDIA_RULE)for(var n=0;n<e[t].cssRules.length;n++){var i=e[t].cssRules[n];if(!i.selectorText.includes(TVE.identifier("post_list"))&&TVE.Theme.utils.isDynamicCss(i.cssText)){var o=TVE.Theme.$wrapper.find(i.selectorText.replace(TVE.Theme.utils.pseudoSelectorsRegex(),"")),s=TVE.PostList.utils.getArticleID(o),a=TVE.PostList.dynamicImage.replaceDynamicImage(s,i.cssText);a!==i.cssText&&(e[t].deleteRule(n),e[t].insertRule(a,n))}}},"theme.section.load":function(e,t){t.$element.find(TVE.identifier("post_list")).each(function(e,t){var n=TVE.inner_$(t),i=n.attr("data-pagination-type");"numeric"!==i&&"load_more"!==i||TVE.PostList.content.renderPaginationForPostList(n),TVE.PostList.layout.applyLayout(n,!0);var o=_.uniq(n.find(TVE.identifier("article")).map(function(e,t){return parseInt(t.dataset.id)})).filter(function(e){return void 0===TVE.PostList.posts[e]});o.length&&TVE.PostList.utils.fetchPosts({get_initial_posts:!0,post_ids:o})})}}},"skin-colors.js":function(e,t,n){jQuery,t.exports={"tcb.favorite_colors.after_render":function(e){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.colors.length&&e.color_picker.options.showGlobals){var t=n("../views/theme-style-panel/skin-colors");e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-colors")()),e.skin_color_view=new t({el:e.$("#tcb-skin-color-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_color_view}},"tcb.favorite_colors.reset_html":function(t){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.colors.length&&t.color_picker.options.showGlobals){var n="";_.each(TVE.CONST.theme.skin_variables.colors,function(e){n+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.colors_prefix,css_prop:"background-color",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".tcb-skin-colors-container").html(n.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}}}},"skin-gradients.js":function(e,t,n){jQuery,t.exports={"tcb.favorite_gradients.after_render":function(e){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length){var t=n("../views/theme-style-panel/skin-gradient");e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-gradients")()),e.skin_gradient_view=new t({el:e.$("#skin-gradient-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_gradient_view}},"tcb.favorite_gradients.reset_html":function(t){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length){var n="";_.each(TVE.CONST.theme.skin_variables.gradients,function(e){n+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.gradients_prefix,css_prop:"background-image",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.gradients_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".skin-gradients-container").html(n.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}},"tcb.gradient_picker.toggle_gradient_controls":function(e,t){TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length&&e.css_variable&&e.$(".fav-colors .tcb-skin-toggle-content").toggleClass("tcb-disabled",t&&!e.edit_css_variable)}}},"social.js":function(e,t,n){var a;a=jQuery,t.exports={"tcb.component.after_init.social":function(n){TVE.add_filter("tcb.element_selected",function(e,t){return"social"===t&&n.controls.selector.$(".ig_share-label, .yt_share-label").hide(),e})},"tcb.after_social_style_change":function(e,t){!function(e,i,o){var t=e.closest(TVE.identifier("article"));if(0<t.length){var s=t.find(TVE.identifier("thrive_author_follow")).index(e);-1!==s&&TVE.Theme.$wrapper.find(TVE.identifier("article")).each(function(e,t){var n=a(t).find(TVE.Elements.thrive_author_follow.identifier).eq(s);i.renderer.set_config(o)._render_to(n,!0)})}}(e,t,{style:t.model.selected})}}},"storage.js":function(e,t,n){t.exports={"theme_section.remove":function(e){var t=e.type,n=e.id;if(void 0!==TVE.Theme.data.local[t][n]){var i=TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[t]);i&&parseInt(i.ID)===parseInt(n)&&i.unlink(!0),delete TVE.Theme.data.local[t][n],TVE.Theme.modals.sectionTemplates.visible()&&TVE.Theme.modals.sectionTemplates.section.type===t&&(TVE.Theme.modals.sectionTemplates.setSections(),TVE.Theme.modals.sectionTemplates.build_preview())}}}},"symbol.js":function(e,t,n){var i=function(){TVE.drag.editorActions(TVE.Theme.$wrapper),TVE.Editor_Page.selection_manager.init(TVE.Theme.$wrapper),TVE.Editor_Page.editor=TVE.Theme.$wrapper,TVE.froala.init()};n("../models/layout");t.exports={"tcb.symbol.after_save":function(e){e.find(".tcb-shortcode").each(function(e,t){var n=t.dataset.shortcode,i=TVE.inner_$(t),o=TVE.PostList.utils.getArticleID(i);if(n&&o&&TVE.PostList.posts[o][n]){var s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync.".concat(n),TVE.PostList.posts[o][n],TVE.PostList.posts[o],i));i.html(s.html())}})},"tcb.symbol.close_edit_mode":i,"tcb.header-footer.edit":i,"tcb.after_insert_symbol":function(e){TVE.Theme.content.init_selectors(e)}}},"theme-section.js":function(e,t,n){n("../models/layout");var d=n("../models/section");t.exports={"tcb.symbol.before_preview":function(e){TVE.CONST.theme.is_theme_template&&TVE.Theme.utils.getSectionInstance(TVE.Theme["$".concat(e.element_type)]).startPreview()},"tcb.symbol.after_preview":function(e,t){TVE.CONST.theme.is_theme_template&&TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections["".concat(t.element_type)]).applyPreview(e.data)},"tcb.element.click":function(e){var t=TVE.Theme.utils.getSectionInstance(TVE.inner_$(e.currentTarget));t&&t.isDynamic()&&!t.inEditMode()&&!t.$element.hasClass("section-no-overlay")&&new TVE.Theme.views.SectionOverlay({section:t})},"tcb.element.selected.theme_section":function(e){d.getInstance(e).toggleComponents()},"tcb.edit_mode.exit":function(e){d.is(e)&&(d.getInstance(e).update(),TVE.Editor_Page.focus_element(e))},"tcb.after-insert":function(e){var t=TVE.Theme.utils.getSectionInstance(e);if(t&&!t.isDynamic()&&TVE.FLAGS.dragFromSectionInstance){var n=TVE.FLAGS.dragFromSectionInstance;if(n.selector!==t.selector){for(var i=TVE.stylesheet.cssRules,o=TVE.Theme.utils.escapedRegEx,s=0;s<i.length;s++)if(i[s].type===CSSRule.MEDIA_RULE)for(var a=0;a<i[s].cssRules.length;a++){var r=i[s].cssRules[a];if(r.selectorText.includes(n.selector)){var c=r.selectorText.replace(TVE.Theme.utils.pseudoSelectorsRegex(),"").replace(o(TVE.Theme.CONST.body_class,"g"),"").replace(o(n.selector,"g"),"").replace(o(n.constructor.backgroundSelector,"g"),"").replace(o(n.constructor.contentSelector,"g"),"").replace(o(TVE.CONST.global_css_prefix,"g"),"").trim();if(c.length&&0===c.split(",").map(function(e){return e.trim()}).filter(function(e){return d.typographySuffix.includes(e)}).length&&t.$element.find(c).length){var l=r.cssText.replace(o(n.selector,"g"),t.baseSelector);i[s].deleteRule(a),i[s].insertRule(TVE.remove_extra_spaces(l),a)}}}e.is(TVE.identifier("post_list"))&&TVE.PostList.dynamicImage.regeneratePostListStyleNodes(e)}TVE.FLAGS.dragFromSectionInstance=null}},"tcb.wordfence.whitelist":function(e,t){var n=e.match(/sections\/(\d*)/);if(2===n.length){var i=TVE.Theme.$wrapper.find(".thrive-section-".concat(n[1]));i.length&&d.getInstance(i).update(!0)}},"tcb.inner_actions.hide_right":function(e){e.$hide_sidebar.hide(),e.$show_sidebar.hide()},tcb_after_cloud_template:function(e,t){"fancy-divider"===t&&e.hasClass("section-background")&&e.removeAttr("data-ct-name data-ct").attr("data-element-name","".concat(TVE.ucFirst(e.attr("data-section"))," Section"))}}}},components:{"_includes.js":function(e,t,n){t.exports={BlogList:n("./blog-list"),NoResults:n("./no-results"),BreadcrumbsSeparator:n("./breadcrumbs/breadcrumbs-separator"),Breadcrumbs:n("./breadcrumbs/breadcrumbs"),BreadcrumbsLeaf:n("./breadcrumbs/breadcrumbs-leaf"),CommentSection:n("./comments/comment-section"),CommentForm:n("./comments/comment-form"),CommentList:n("./comments/comment-list"),CommentFormInput:n("./comments/comment-form-input"),CommentFormLabel:n("./comments/comment-form-label"),CommentFormSubmit:TVE.Views.Components.LeadGenerationSubmit,DynamicList:n("./dynamic-list"),ThemeSection:n("./theme-section"),MainContainer:n("./main-container"),ThemeHF:n("./theme-hf"),ThemeButton:n("./theme-button"),AuthorBox:n("./author-box"),WidgetArea:n("./widget-area"),ThemeLayout:n("./theme-layout"),ThriveAuthorLinks:n("./author-links"),ThriveAuthorFollow:n("./author-follow")}},"author-box.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){TVE.add_action("tcb.edit_mode.exit",function(e){e.is(TVE.identifier("thrive_author_box"))&&(TVE.Editor_Page.focus_element(e),setTimeout(function(){TVE.ElementEditIcons.show_icons(e)},50),TVE.Components.thrive_author_box.show(),TVE.Components.cloud_templates.show())}),TVE.add_action("tcb.element.selected",function(e){e.is(TVE.identifier("thrive_author_box"))&&TVE.main.EditMode.in_edit()&&TVE.ElementEditIcons.hide_icons()}),TVE.add_filter("tcb.get_dropzone_target",function(e){return void 0===TVE.FLAGS.$dragged_element&&TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("thrive_author_box"))&&(e=TVE.main.EditMode.element().children().last()),e})},editMode:function(){TVE.main.EditMode.enter(!1,{show_overlay:!0,show_default_message:!0,can_insert_elements:!0,element_selectable:!1,hidden_elements:[TVE.Elements.thrive_author_box.tag]}),TVE.Components.thrive_author_box.hide(),TVE.Components.cloud_templates.hide()},placeholder_action:function(){this.open_modal()},open_modal:function(){return TVE.modal_open("cloud-templates",{element:TVE.ActiveElement}),!1}})},"author-follow.js":function(e,t,n){var i=new TVE.BaseCollection;t.exports=TVE.Views.Components.Social.extend({controls_init:function(n){TVE.Views.Components.Social.prototype.controls_init.call(this,n),TVE.add_filter("tcb.after-social-render",function(e){return"thrive_author_follow"===TVE._type(e)&&e.find(".tve_s_item ").each(function(e,t){var n=TVE.inner_$(t).find("a"),i=t.dataset.s.replace("_share",""),o="[thrive_author_follow_urls url='".concat(i,"']");n.removeClass("tve_s_link").attr({target:"_blank",href:o})}),e}),TVE.add_filter("tcb.element_selected",function(e,t){return"thrive_author_follow"===t&&n.selector.$(".ig_share-label, .yt_share-label").hide(),e})},get_collection:function(){return i},open_edit_panel:function(){return!1}})},"author-links.js":function(e,t,n){var i=new TVE.BaseCollection,o=TVE.Views.Controls.DropPanel.extend({template:TVE.tpl("theme-main/controls/business-links-panel"),onOpen:function(e,t,n){var i=t.dataset.key;this.key=i,this.$link=e.find(".tve_s_".concat(i," a")),this.isDynamic=this.$link.hasClass("tve-dynamic-link"),this.updateUI()},updateUI:function(){this.$('[type="text"]').val(this.$link.attr("href")),this.$('[type="checkbox"]').prop("checked",this.isDynamic).trigger("change")},changeTab:function(e,t){this.isDynamic=t.checked,this.$(".link-option-panel .static-option").toggle(!this.isDynamic),this.$(".link-option-panel .dynamic-option").toggle(this.isDynamic)},apply:function(e,t){var n={renderAll:!1,setDynamic:this.isDynamic,href:this.isDynamic?"":this.$('[type="text"]').val()};TVE.renderers.thrive_author_links.renderItem(this.key,e,n)},cancel:function(){}});t.exports=TVE.Views.Components.Social.extend({controls_init:function(e){this.dropPanel=new o({}),TVE.Views.Components.Social.prototype.controls_init.call(this,e)},get_collection:function(){return i},open_edit_panel:function(e,t){return this.dropPanel.open(TVE.ActiveElement,t),!1}})},"blog-list.js":function(e,t,n){t.exports=TVE.Views.Components.post_list.extend({controls_init:function(e){TVE.Views.Components.post_list.prototype.controls_init.call(this,e)},getStates:function(){return TVE.Theme.template.isSearch()?TVE.Theme.constants.blog_list.states:[]},stateChange:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t&&TVE.main.EditMode.exit();var n=TVE.inner_$(TVE.Theme.constants.blog_list.no_results.selector),i=TVE.inner_$(TVE.Theme.constants.blog_list.no_results.affected_selectors);"no_results"===e?(i.addClass("tcb-permanently-hidden"),n.removeClass("tcb-permanently-hidden").trigger("click",{emulate:!0})):"blog_list"===e&&(n.addClass("tcb-permanently-hidden"),i.removeClass("tcb-permanently-hidden"),TVE.inner_$("#main.tcb-post-list").trigger("click",{emulate:!0})),t&&TVE.Components[e].editMode()},filterBlog:function(){TVE.Components.post_list.filterPosts()}})},breadcrumbs:{"breadcrumbs-leaf.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(i){i.CharactersTruncate.input=function(e,t){var n=e.find("span"),i=parseInt(t.value);this.applyElementCss({"max-width":i+"ch"},n),e.parent().mediaAttr("data-leaf-chars",t.value)},i.CharactersTruncate.update=function(e){var t=e.parent().mediaAttr("data-leaf-chars");this.setValue(parseInt(t))},i.EnableTruncateChars.input=function(e,t){var n=t.checked?i.CharactersTruncate.getValue()+"ch":"none";this.applyElementCss({"max-width":n+" !important"},e.find("span")),e.parent().attr("data-enable-truncate-chars",t.checked?1:0),i.CharactersTruncate.$el.toggleClass("tcb-hidden",!t.checked)},i.EnableTruncateChars.update=function(e){var t="1"===e.parent().attr("data-enable-truncate-chars");i.CharactersTruncate.$el.toggleClass("tcb-hidden",!t),this.setChecked(t)}}})},"breadcrumbs-separator.js":function(e,t,n){var l;l=jQuery,t.exports=TVE.Views.Base.component.extend({controls_init:function(e){this.initializeSeparatorControls(e)},initializeSeparatorControls:function(n){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"breadcrumbs_icon";return TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e).find(TVE.identifier(t))}n.SeparatorSize.update=function(e){var t=o(e);this.setValue(t.head_css("font-size",!1,"",!0,TVE.main.EditMode.in_edit()?this.config.css_prefix:""))},n.SeparatorSize.input=function(e,t){var n="".concat(t.value).concat(this.getUM()),i="";TVE.main.EditMode.in_edit()&&(n+="!important",i=this.config.css_prefix),this.applyElementCss({"font-size":n,width:n,height:n},o(e),this.config.css_suffix,i),e.is(TVE.identifier("thrive_breadcrumbs"))&&(this.applyElementCss({"font-size":n},o(e,"breadcrumbs_path"),this.config.css_suffix,i),this.applyElementCss({"font-size":n},o(e,"breadcrumbs_leaf"),this.config.css_suffix,i))},n.SeparatorSize.change=function(e,t){var n=TVE.main.EditMode.in_edit()?o(e):TVE.ActiveElement;this.input(n,t),TVE.Editor_Page.reposition_icons()},n.SeparatorSize.onChange=function(e,t){var n=o(e),i=parseInt(t.value);(i=isNaN(i)?0:i)>parseInt(this.model.config.max)&&(t.value=this.model.config.max),i<parseInt(this.model.config.min)&&(t.value=this.model.config.min),this.setValue(t.value+this.getUM()),TVE.SkipUpdate=!1,this.change(n,t)},n.SeparatorColor.update=function(e){var t=o(e);this.setValue(t.head_css("color",!1,"",!0,TVE.main.EditMode.in_edit()?this.config.css_prefix:""))},n.SeparatorColor.input=function(e){var t=this.applyTo(),n={color:e},i="";TVE.main.EditMode.in_edit()&&(n.color+="!important",i=this.config.css_prefix),this.applyElementCss(n,o(t),this.config.css_suffix,i),t.is(TVE.identifier("thrive_breadcrumbs"))&&(this.applyElementCss(n,o(t,"breadcrumbs_path"),this.config.css_suffix,i),this.applyElementCss(n,o(t,"breadcrumbs_leaf"),this.config.css_suffix,i))},n.IconPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),n.IconPicker.input=function(e,t){var n,i,o=t.defaultIcon&&0<t.defaultIcon.length,s=o?t.defaultIcon:t.icon.data("cls"),a=TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e);if(o||t.icon.is(".tve-svg-icon")){var r=l("symbol#"+s,"svg","editor"),c=r.attr("id");n=c||r.find("> title").first().text(),i=TVE.svg_icon({path:r.html(),viewBox:r[0].getAttribute("viewBox"),name:n,id:c})}else n=s.replace("icon-",""),i='<span class="tve_sc_icon '.concat(s,' " data-name="').concat(n,'" ></span>');a.attr("data-icon-name",s).find(TVE.identifier("breadcrumbs_icon")).html(i),this.update(e)},n.IconPicker.update=function(e){var t=TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e).attr("data-icon-name");t&&0<t.length?(this.updateValue(t.replace("icon-","")),n.SeparatorColor.update(e),n.SeparatorSize.update(e)):this.updateValue("None")},n.CharacterInput.onInput=function(e,t){this.input(e,t)},n.CharacterInput.input=function(e,t){TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e).attr("data-separator",t.value).find(TVE.identifier("breadcrumbs_icon")).text(t.value)},n.CharacterInput.update=function(e){var t=TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e).attr("data-separator");t&&0!==t.length||(t=this.config.config.default),this.setValue(t)}},getBreadcrumbsElement:function(e){var t=TVE.identifier("thrive_breadcrumbs");return e.is(t)?e:e.closest(t)},after_update:function(){var e=this.getBreadcrumbsElement(TVE.ActiveElement).attr("data-separator-type");this.toggleSeparatorControls(e)},toggleSeparatorControls:function(e){this.$(".separator-type-controls").hide(),this.$('.separator-type-controls[data-separator="'.concat(e,'"]')).show(),this.$(".tcb-hide-if-no-separator").toggle("none"!==e)}})},"breadcrumbs.js":function(e,t,n){var a=function(e){return e.find(TVE.identifier("breadcrumbs_icon"))};t.exports=TVE.Views.Base.component.extend({breadcrumbsLabels:["home","blog","search","author","archive"],after_init:function(){var e=this;this.categoriesTooltip=new TVE.Views.Controls.Tooltip({tooltipPosition:"top",no_buttons:!0,template:TVE.tpl("theme-main/breadcrumbs-categories"),anim_duration:300,no_callback:!0,validate:function(){return!e.categoriesTooltip.FORCE_CLOSE}})},controls_init:function(o){var s=this;setTimeout(function(){TVE.Components.breadcrumbs_separator.initializeSeparatorControls.call(s,o)},1e3),o.SeparatorType.change=function(t,e){var n=e.dataset.value,i=a(t);switch(n){case"icon":TVE.Components.breadcrumbs_separator.controls.IconPicker.input(i,{defaultIcon:"icon-arrow-alt-right-light"});break;case"character":TVE.Components.breadcrumbs_separator.controls.CharacterInput.setValue(" / ",!0);break;case"none":i.text("")}TVE.head_css_remove(TVE.identifier("breadcrumbs_icon"),"_ALL",!0),t.attr("data-separator-type",n),TVE.Components.breadcrumbs_separator.toggleSeparatorControls.call(this.component,n),["ItemSpacing","SeparatorSize","SeparatorColor","IconPicker"].forEach(function(e){o[e].update(t)})},o.SeparatorType.update=function(e){var t=e.attr("data-separator-type");this.setActive(t),TVE.Components.breadcrumbs_separator.toggleSeparatorControls.call(this.component,t)},o.ItemSpacing.update=function(e){this.setValue(a(e).head_css("margin-left",!1,"",!0))},o.ItemSpacing.input=function(e,t){this.applyElementCss({"margin-left":t.value+this.getUM(),"margin-right":t.value+this.getUM()},a(e))},o.Alignment.change=function(e,t){e.head_css({"justify-content":t.value+"!important"})},o.Alignment.update=function(e){var t=e.head_css("justify-content")||"flex-start";this.setValue(t)},void 0!==o.ShowCategoriesInPath&&(o.ShowCategoriesInPath.update=function(e){this.setChecked("show"===e.attr("data-show-categories"))},o.ShowCategoriesInPath.input=function(e,t){e.find(".thrive-breadcrumb-category").toggleClass("thrive-hidden-element",!t.checked),e.attr("data-show-categories",t.checked?"show":"hide")}),this.breadcrumbsLabels.forEach(function(i){o["".concat(i,"Label")].update=function(e){this.setValue(TVE.CONST.theme.breadcrumbs_labels[i])},o["".concat(i,"Label")].onInput=function(e,t){TVE.CONST.theme.breadcrumbs_labels[i]=t.value;var n=s.getBreadcrumbLabelElement(i,e);n.length&&n.find("span").html(t.value)},o["".concat(i,"Label")].change=s.saveBreadcrumbsLabels})},saveBreadcrumbsLabels:function(){TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/meta"),type:"POST",data:{id:TVE.CONST.theme.skin_id,key:"breadcrumbs_labels",value:TVE.CONST.theme.breadcrumbs_labels},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}})},getBreadcrumbLabelElement:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:TVE.ActiveElement,n=[],i=TVE.Theme.template.isBlog();return"home"===e||"blog"===e&&!i?n=t.find(".".concat(e,"-label")):("blog"===e&&i||"search"===e&&TVE.Theme.template.isSearch()||"author"===e&&TVE.Theme.template.isAuthor()||"archive"===e&&TVE.Theme.template.isArchive()&&""===TVE.Theme.template.secondary())&&(n=t.find(".archive-label")),n},editBreadcrumbsElements:function(){var e=TVE.ActiveElement;TVE.main.EditMode.enter(e,{blur:!0,show_default_message:!0,restore_state:!0,element_selectable:!1,callbacks:{exit:function(){TVE.Editor_Page.focus_element(e)}}})},openTooltip:function(){return this.categoriesTooltip.isOpen()?this.categoriesTooltip.onCancel():this.categoriesTooltip.open(null,this.$(".tve-switch-info")),!1}})}},comments:{"comment-form-input.js":function(e,t,n){jQuery,t.exports=TVE.Views.Base.component.extend({controls_init:function(t){t.PlaceholderInput.input=function(e,t){e.is("textarea")||0<e.find("textarea").length?e=TVE.main.EditMode.element().find("textarea"):e.is("input")||(e=e.find("input")),e.attr("placeholder",t.value)},t.PlaceholderInput.update=function(e){(e=e.filter(".edit_mode")).is("textarea, input")||(e=e.find("textarea, input")),this.setValue(e.attr("placeholder")||"")},t.TextareaHeight.input=function(e,t){this.prepareValue(t.value,this.getUM()),this.applyElementCss({"min-height":t.value+this.getUM()})},t.TextareaHeight.update=function(e){var t=parseInt(e.head_css("min-height",!1,"",!0));t||(t=e.outerHeight()),this.setValue(t)},t.TextareaHeight.before_update=function(e){t.TextareaHeight.$el.toggleClass("control-hide",e.is(TVE.identifier("comment-form-input")))}}})},"comment-form-label.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){e.Label.input=function(e,t){e.html(t.value+(this.isRequired?' <span class="required">*</span>':""))},e.Label.update=function(e){this.isRequired=!!e.find(".required").length;var t=e.filter(".edit_mode");t.find("small").remove(),this.setValue(t.html().replace('<span class="required">*</span>',"").trim())}}})},"comment-form.js":function(e,t,n){var o,s,i;o=jQuery,s=new Backbone.Collection({}),i=n("../../controls/comments/edit-item"),t.exports=TVE.Views.Base.component.extend({controls_init:function(e){var a=this;this.editFormItem=new i({component:this}),this.controls.FieldsControl.attach_collection(s),this.controls.FieldsControl.update=function(e){var t=e.filter(".edit_mode").find(".comment-form-text, .comment-form-item, .comment-form-cookies-consent"),i=[];_.each(t,function(e,t){var n=o(e);i.push({item:n,label:n.find("textarea").length?n.find("textarea").attr("placeholder"):n.find("label").text().replace("*","").trim()})}),s.reset(i)},this.controls.FieldsControl.on("item_click",function(e,t){if(a.editFormItem.isOpen())return a.editFormItem.onCancel(),!1;var n=e.get("item"),i=void 0!==n.find("input, textarea").attr("placeholder"),o=0<n.find("label").length,s=new TVE.BaseModel({isRequired:void 0!==n.find("input, textarea").attr("required"),hasPlaceholder:i,placeholder:i?n.find("input, textarea").attr("placeholder"):"",hasLabel:o,label:o?n.find("label").html().replace('<span class="required">*</span>',"").trim():""});return a.listenTo(s,"change",function(e){var t=n.find("input, textarea");0<n.find("textarea").length&&(t=TVE.main.EditMode.element().find("textarea")),t.attr("placeholder",e.get("placeholder")),e.get("hasLabel")&&n.find("label").html(e.get("label")+(e.get("isRequired")?' <span class="required">*</span>':""))}),s.saveState(),a.editFormItem.reset(s),a.editFormItem.open(null,t),!1}),this.controls.AddRemoveLabels.update=function(e){var t="none"!==e.head_css("display",!1," .theme-c-form-field-label"),n=!!e.find(".theme-c-form-field-label").length;this.component.$(".control-add-remove-label-hr")[n?"show":"hide"](),this.setChecked(t),this.toggle(n,!0)},this.controls.AddRemoveLabels.change=function(e,t){e.head_css({display:t.checked?"":"none !important"},!1," .theme-c-form-field-label")}},getFieldsControl:function(){return TVE.Views.Controls.PreviewList}})},"comment-list.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({after_init:function(){this.hooks()},controls_init:function(e){e.ReplySpacing.input=function(e,t){this.applyElementCss({"margin-left":t.value+this.getUM()})},e.ReplySpacing.update=function(e){this.setValue(e.head_css("margin-left","","",!1))}},isCommentsButton:function(e){return[TVE.Theme.constants.COMMENT_SUBMIT_TYPE,TVE.Theme.constants.COMMENT_REPLY_TYPE].includes(TVE._type(e))},hooks:function(){var r=this;TVE.add_action("tcb.froala.blur",function(e,t){var n=TVE.ActiveElement;void 0!==n&&n.is(TVE.TEXT_ALL)&&0<n.closest(TVE.identifier("thrive_comments")).length&&r.syncCommentsText(n,t.$el)}),TVE.add_action("icon_element_changed",function(e){var t=e.closest(".theme-button");0<t.length&&(r.isCommentsButton(t)&&TVE.Components.theme_button.getSyncedElements(t).find(TVE.identifier("icon")).html(e.html()))}),TVE.add_action("theme.selectors.init",function(e){e.find(".comment-content").attr("data-selector",".comment-content p")}),TVE.add_filter("tcb.button.default_icon",function(e){var t=TVE.ActiveElement;return r.isCommentsButton(t)&&(e=TVE.tpl("theme-main/icons/comment-submit"),setTimeout(function(){TVE.Theme.content.init_selectors(TVE.ActiveElement.parent())},100)),e}),TVE.add_filter("theme.save_shortcodes",function(e){var t=e.find("#comments");if(TVE.Theme.template.is_singular()&&t.length){var n=t.find(".comment-respond:not(.closed, .visitor)").first(),i=t.find(".comment-respond.visitor"),o=n.find(".comment-form-submit"),s=t.find(".comment-list .reply").first(),a=_objectSpread({author:i.find(".comment-form-author").attr("data-css"),email:i.find(".comment-form-email").attr("data-css"),url:i.find(".comment-form-url").attr("data-css")},r.getSubmitAttr(o),{},r.getReplyAttr(s));_.each(a,function(e,t){"string"==typeof e&&(a[t]=e.trim())}),TVE.Theme.CONST.comments.labels=_objectSpread({},TVE.Theme.CONST.comments.labels,{},a),TVE.Theme.CONST.comments.icons=_objectSpread({},TVE.Theme.CONST.comments.icons,{},r.getIcons(o,s)),t.replaceWith("[thrive_comments]")}return e})},updateCommentsBtnTexts:function(e,t){0<e.find(".fr-element").length?e.find(".fr-element").html(t):e.html(t)},syncCommentsText:function(e,t){var n=this,i=e.closest(".theme-button");if(i.length){var o=t.text(),s=TVE.Components.theme_button.getSyncedElements(i);0<t.closest(".tcb-secondary-text").length?_.each(s.find(".tcb-secondary-text"),function(e){n.updateCommentsBtnTexts(TVE.inner_$(e),o)}):0<t.closest(".tcb-button-text").length&&_.each(s.find(".tcb-button-text"),function(e){n.updateCommentsBtnTexts(TVE.inner_$(e),o)})}},getIcons:function(e,t){return{submit_icon:this.getIconName(e.find("svg.tcb-icon")),reply_icon:this.getIconName(t.find("svg.tcb-icon"))}},getIconName:function(e){var t=e.attr("data-id")||e.attr("data-name");return void 0===t?"":t},getSubmitAttr:function(e){return{submit_icon_flip:e.hasClass("tcb-flip")?"tcb-flip":"","submit-button-style":e.attr("data-button-style"),"submit-button_layout":e.attr("data-button_layout"),"submit-button-size":e.attr("data-button-size"),submit_label:e.find(".tcb-button-text").first().text(),submit_secondary_label:e.find(".tcb-secondary-text").first().text(),submit_id:e.attr("id")}},getReplyAttr:function(e){return{reply_icon_flip:e.hasClass("tcb-flip")?"tcb-flip":"","reply-button-style":e.attr("data-button-style"),"reply-button_layout":e.attr("data-button_layout"),"reply-button-size":e.attr("data-button-size"),reply_label:e.find(".tcb-button-text").first().text(),reply_secondary_label:e.find(".tcb-secondary-text").first().text()}}})},"comment-section.js":function(e,t,n){TVE.CommentsErrorMessages=n("../../modals/comments-error-messages"),t.exports=TVE.Views.Base.component.extend({after_init:function(){var t=this;TVE.main.sidebar_extra.on("drawer_opened",function(e){if("elements"===e){var t=TVE.Elements.thrive_comments,n=!!TVE.inner_$(t.identifier).length;TVE.main.sidebar_toggle_elements([t.tag],!n)}}),TVE.add_action("tcb.froala.blur",function(e,i){[".comment-form-reply-title-wrapper",'button[type="submit"]'].forEach(function(e){if(0<i.$oel.closest("#comments").length&&i.$oel.is(e)){var t=i.html.get(),n=i.$oel.closest("#comments").find(e).filter(":hidden");TVE.froala.disable(n),n.html(t)}})}),TVE.add_action("tcb.submit_element_icon.input",function(e){e.is(".comment-form-submit")&&(e.find(".thrv_icon").attr("data-selector",".comment-form-submit .thrv_icon"),e.closest("#comments").find(".comment-form-submit").filter(":hidden").prepend(e.find(".thrv_icon")[0].outerHTML))}),TVE.add_action("tcb.submit_element_icon.remove",function(){TVE.ActiveElement&&TVE.ActiveElement.is(".comment-form-submit")&&TVE.ActiveElement.closest("#comments").find(".comment-form-submit .thrv_icon").remove()}),TVE.add_filter("tcb.cloud_templates.apply_callback",function(e){return TVE.ActiveElement&&TVE.ActiveElement.length&&TVE.ActiveElement.is("#comments")&&(t.removeCommentsSelectorRules(),e=t.applyCommentsCloudTemplate),e})},removeCommentsSelectorRules:function(){for(var e,t=TVE.main.all_media(),n=new RegExp(".comment-form|.comment-respond|#comments|theme-comments|.comment-reply|.comment-author|.comment-metadata|.comment-content|.reply","g"),i=0;e=t[i++];)TVE.CSS_Rule_Cache.removeRuleByMatchingSelector(e,n)},applyCommentsCloudTemplate:function(t){var n,e=TVE.ActiveElement,i={};TVE.ElementSnapshot(function(){var e=TVE.inner_$(t.content);this.applyTo.find(".comment-respond.visitor").html(e.find(".comment-respond.visitor").html()),this.applyTo.find(".comment-respond.no-comments").html(e.find(".comment-respond.no-comments").html()),this.applyTo.find(".comment-respond.logged").html(e.find(".comment-respond.logged").html()),this.applyTo=e.is(".thrv_wrapper")?e:e.find("> .thrv_wrapper").first(),this.applyTo.attr({"data-ct-name":t.name,"data-ct":t.type+"-"+t.id}),e.find("[data-css]").each(function(){this.dataset.css&&(void 0===i[this.dataset.css]?i[this.dataset.css]=TVE.CSS_Rule_Cache.uniq_id(this,!0):this.dataset.css=i[this.dataset.css])}),TVE.drag.bind_element(this.applyTo),TVE.Editor_Page.reposition_icons()},this.applyTo,this),n=t.head_css,jQuery.each(i,function(e,t){n=n.replace(new RegExp("("+e+")","g"),t)}),TVE.Theme.utils.inline_shortcodes_init(e),TVE.Editor_Page.content_manager.insert_head_css(n).done(function(){TVE.Editor_Page.blur(),TVE.Editor_Page.focus_element(e)})},afterEnterEditMode:function(e){TVE.Editor_Page.focus_element(e.find(".state:visible")),e.find("input").attr("readonly","readonly"),TVE.main.$(".add-element").addClass("tve-disabled")},dragEnterBubble:function(e,t){return 0===TVE.inner_$(t.target).closest(".comment-respond.no-comments").length&&(e=!1),e},editSectionElements:function(){var e=this,n=TVE.ActiveElement;TVE.add_action("tcb.edit_mode.enter",this.afterEnterEditMode),TVE.add_filter("tcb.dragenter.bubble",this.dragEnterBubble),TVE.add_filter("tcb.get_dropzone_target",this.getDropzoneTarget),TVE.main.EditMode.enter(!1,{show_default_message:!0,element_selectable:!1,can_insert_elements:!0,states:TVE.Theme.constants.comments.states,hidden_elements:TVE.Theme.constants.comments.hiddenElements,callbacks:{exit:function(){n.find(".state").hide(),n.find(".state.logged").show(),TVE.remove_action("tcb.edit_mode.enter",e.afterEnterEditMode),TVE.remove_filter("tcb.dragenter.bubble",e.dragEnterBubble),TVE.remove_filter("tcb.get_dropzone_target",e.getDropzoneTarget),n.find("input").removeAttr("readonly"),TVE.main.$(".add-element").removeClass("tve-disabled"),TVE.Editor_Page.focus_element(n)},state_change:function(e){var t=n.find(".state.".concat(e));n.find(".state").hide(),TVE.main.$(".add-element").toggleClass("tve-disabled","closed"!==e),t.show(),TVE.Editor_Page.focus_element(t),TVE.main.EditMode.refresh()}}})},getDropzoneTarget:function(e){return void 0!==TVE.FLAGS.$dragged_element||TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is("div#comments")&&(e=TVE.main.EditMode.element().find(".no-comments").children().last()),e},manageErrorMsg:function(){var e=new Backbone.Model(JSON.parse(TVE.ActiveElement.find(".thrive-theme-comments-error-msg").html())),t=new TVE.CommentsErrorMessages({el:TVE.modal.get_element("cf-error-messages"),model:e});t.render_errors(),t.before_save=function(){var i=[];this.invalid_inputs=i,this.is_valid=function(e){var t=!0;for(var n in e.attributes)e.get(n).length<=0&&(i.push(n),t=!1);return t}(this.model),this.is_valid&&TVE.ActiveElement.find(".thrive-theme-comments-error-msg").html(JSON.stringify(this.model.toJSON()))},t.open()}})}},"dynamic-list.js":function(e,t,n){var r,i;r=jQuery,i=TVE.Views.InlinePanel.extend({template:TVE.tpl("inline/content-templates"),after_initialize:function(){this.$(".drop-panel").addClass("small-pad tcb-autocomplete"),this.autocomplete()},autocomplete:function(){var n=this,i=TVE.CONST.theme.dynamic_list_types.map(function(e){return{id:e.value,label:e.name,title:e.name}});this.$input=this.$(".tcb-search").autocomplete({minLength:0,appendTo:this.$(".popup-content"),source:function(e,t){t(TVE.inner_$.ui.autocomplete.filter(i,e.term).slice(0,10))},select:function(e,t){return n.on_select(t.item.id,t.item.value),e.stopPropagation(),!1}}),this.$input.data("ui-autocomplete")._renderItem=function(e,t){var n=new RegExp(this.term,"i");return e.addClass("tcb-suggest"),r("<li></li>").data("item.autocomplete",t).append('<a href="#" class="tcb-truncate">'+t.label.replace(n,'<span class="highlight">'+this.term+"</span>")+"</a>").appendTo(e)}},onOpen:function(){this.$input.val("").focus().autocomplete("search")}}),t.exports=TVE.Views.Base.component.extend({controls_init:function(a){var n=this;this.hooks(),this.listSelector=new i({component:this,minWidth:300,no_buttons:!0,on_select:function(e,t){TVE.ActiveElement.attr("data-type",e),n.fetch_list(TVE.ActiveElement)}}),a.list_type.change=function(e,t){e.attr("data-type",t.value),n.fetch_list(e),a.Limit.update(e)},a.Limit.input=function(e,t){e.attr("data-limit",t.value),n.fetch_list(e)},a.Limit.update=function(e){var t=e.attr("data-limit");void 0===t&&(t=5),this.setValue(t),this.toggle("meta_list"!==e.attr("data-type"))},a.list_type.update=function(e){this.setValue(e.attr("data-type"))},a.ListLayout.change=function(e,t){var n=t.dataset.value,i=parseInt(a.ListSpacing.getValue(!1));e.attr("data-layout",n),e.toggleClass("dynamic-inline-list","horizontal"===n),"horizontal"===n&&i<10&&(i=10),a.ListSpacing.setValue(i,!0)},a.ListLayout.update=function(e){this.setActive("horizontal"===e.attr("data-layout")?"horizontal":"vertical")},a.EnableIcons.change=function(e,t){var i=TVE.tpl("theme-main/icons/dynamic"),n=e.find(".thrive-dynamic-styled-list-item");n.toggleClass("dynamic-item-with-icon",t.checked),a.ModalPicker.toggle(t.checked),!0===t.checked&&n.each(function(e,t){var n=r(t);0===n.find(".dynamic-list-icon").length&&n.find(".tcb-styled-list-icon").append(i)}),this.component.element_data_icon(n,"check")},a.EnableIcons.update=function(e){var t=e.attr("data-icon").length;this.setChecked(t),a.ModalPicker[t?"show":"hide"]()},a.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),a.ModalPicker.input=function(e,t){var n,i;if(t.icon.is(".tve-svg-icon")){var o=r("symbol#"+t.icon.data("cls")),s=o.attr("id");n=TVE.svg_icon({path:o.html(),viewBox:o[0].getAttribute("viewBox"),name:o.find("> title").text(),id:s}),i=s||o.find("> title").text()}else n='<span data-name="'+t.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+t.icon.data("cls")+'"></span>',i=t.icon.data("cls").replace("icon-","");e.attr("data-icon",i).find(".thrv_icon").html(n),a.ModalPicker.update(e)},a.ModalPicker.update=function(e){var t=e.attr("data-icon"),n=t?t.replace("icon-",""):"angle-right-light";this.updateValue(n)},a.ListSpacing.input=function(e,t){var n=t.value+this.getUM()+" !important",i=e.hasClass("dynamic-inline-list")?{"padding-right":n}:{"padding-bottom":n};this.applyElementCss(i,e,this.config.css_suffix,this.config.css_prefix)},a.ListSpacing.update=function(e){var t=e.hasClass("dynamic-inline-list")?"right":"bottom",n=e.head_css("padding-".concat(t),null,!1,!0,this.config.css_prefix);this.setValue(n||0)}},placeholder_action:function(e){this.listSelector.open(e,e.find(".tcb-inline-placeholder-action"))},hooks:function(){TVE.main.on("element_selected",function(e){e.hasClass("thrive-dynamic-styled-list-item")&&(TVE.ActiveElement=e.siblings().addBack())}),TVE.add_filter("set_new_css_id",function(e){return void 0!==TVE.ActiveElement&&TVE.ActiveElement.is(TVE.identifier("thrive_dynamic_list"))&&(e=!1),e})},element_data_icon:function(e,t){e.hasClass("dynamic-item-with-icon")||(t=""),e.closest(".thrive-dynamic-list").attr("data-icon",t)},fetch_list:_.debounce(function(t){var n=this,i=t.find(".thrv_icon"),o=i.length?i[0].innerHTML:"",e={css:t.attr("data-css"),icon:t.attr("data-icon"),limit:t.attr("data-limit"),shortcode:t.attr("data-shortcode"),type:t.attr("data-type")};t.addClass("tcb-el-loading"),TVE.Theme.utils.fetch_list(e,function(e){t.html(r(e.content).html()).removeClass("tcb-elem-placeholder"),i.length&&t.find(".thrv_icon").html(o),t.removeClass("tcb-el-loading"),n.listSelector.hide(t,{}),TVE.Editor_Page.focus_element(t)})},300),editListElements:function(){var e=TVE.ActiveElement;TVE.main.EditMode.enter(e,{blur:!0,show_default_message:!0,restore_state:!0,element_selectable:!1,callbacks:{exit:function(){TVE.Editor_Page.focus_element(e)}}})}})},"main-container.js":function(e,t,n){n("../models/layout");t.exports=TVE.Views.Base.component.extend({after_init:function(){var n=this;TVE.main.on("device_change",function(e){var t=e.device;n.controls.Wrap.toggle("mobile"!==t)})},controls_init:function(n){var i=_.throttle(TVE.PostList.layout.masonryRedo,500),o=function(){return TVE.Theme.$sections.sidebar.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)};n.Position.change=function(e,t){e.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,"left"===t.value),n.PageMap.update(e),TVE.Theme.content.updateResizeHandlersPosition()},n.Position.update=function(){this.setValue(TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?"left":"right"),this.$el.toggleClass("tcb-disabled",o())},n.Wrap.update=function(e){var t="wrap"===e.css("flex-wrap");this.setChecked(t),e.attr("data-wrap",t?1:0),this.$el.toggleClass("tcb-disabled",o())},n.Wrap.input=function(e,t){TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!0,e.head_css({"flex-wrap":t.checked?"wrap":""}),e.head_css({width:t.checked?"100%":""},!1," div".concat(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR)),TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!1,e.attr("data-wrap",t.checked?1:0)},n.Gutter.input=function(e,t){TVE.Theme.$main.tcbCss("--separator-size",t.value+this.getUM()),i()},n.Gutter.change=function(e,t){TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!0,TVE.Theme.$main.head_css({"--separator-size":t.value+this.getUM()}),TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!1,TVE.Theme.$main.tcbCss("--separator-size",""),TVE.Theme.content.updateResizeHandlersPosition(t.value)},n.Gutter.update=function(e){this.setValue(e.find(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR).css(n.Wrap.getValue()?"height":"width")),this.$el.toggleClass("tcb-disabled",o())},n.SidebarVisibility.update=function(){this.setChecked(!o())},n.SidebarVisibility.change=function(e,t){TVE.Theme.$sections.sidebar.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,!t.checked),n.PageMap.update(TVE.Theme.$sections.sidebar),TVE.Theme.content.updateResizeHandlersPosition(),TVE.PostList.layout.masonryRedo(),n.Position.update(TVE.Theme.$sections.sidebar),n.Gutter.update(TVE.Theme.$main),n.Wrap.update(TVE.Theme.$main)}}})},"no-results.js":function(e,t,n){jQuery,t.exports=TVE.Views.Components.ContentBox.extend({controls_init:function(e){TVE.Views.Components.ContentBox.prototype.controls_init.call(this,e),TVE.add_filter("tcb.elem.type",function(e,t){return"contentbox"===e&&t.is(TVE.Theme.constants.blog_list.no_results.selector)&&(e=TVE.Theme.constants.blog_list.no_results.type),e})},getDropzoneTarget:function(e){return void 0!==TVE.FLAGS.$dragged_element||TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.Theme.constants.blog_list.no_results.selector)&&(e=TVE.main.EditMode.element().find(".tve-cb:first").children().last()),e},editMode:function(){var e=this;TVE.add_filter("tcb.get_dropzone_target",this.getDropzoneTarget),TVE.main.EditMode.enter(!1,{show_default_message:!0,element_selectable:!0,can_insert_elements:!0,states:_.clone(TVE.Theme.constants.blog_list.states).reverse(),callbacks:{before_exit:TVE.Views.Controls.DropPanel.close_all,state_change:TVE.Components.blog_list.stateChange,exit:function(){return setTimeout(function(){TVE.remove_filter("tcb.get_dropzone_target",e.getDropzoneTarget),TVE.Components.blog_list.stateChange("blog_list",!1)})}}})}})},"theme-button.js":function(e,t,n){var o=new TVE.Views.Base.control({model:{},config:{}});o.input=o.update=o.setChecked=jQuery.noop,t.exports=TVE.Views.Components.Button.extend({after_init:function(){this.hooks()},after_update:function(){var e=this.controls.ButtonSize.config.config.name;this.controls.ButtonSize.$el.find(".button-group-name").text(e)},controls_init:function(e){var i=this.getSyncedElements.bind(this);e.SecondaryText=o,TVE.Views.Components.Button.prototype.controls_init.call(this,e),e.ButtonIcon.change=function(e,t){var n=i(e);TVE.Components.button.controls.ButtonIcon.change.call(this,n,t)}},getSyncedElements:function(e){e=e.closest(".theme-button");var t,n=TVE._type(e);return TVE.Components.thrive_comments_list.isCommentsButton(e)&&(t=e.closest(TVE.identifier("thrive_comments")).find(TVE.identifier(n))),t||e},hooks:function(){TVE.add_filter("tcb.button.styles_templates",function(e){return TVE.ActiveElement.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))&&(e=""),e})}})},"theme-hf.js":function(e,t,n){var i=n("./theme-section");t.exports=i.extend({controls_init:function(e){i.prototype.controls_init.call(this,e,!1),e.HeaderPosition.change=function(e,t){var n={position:"","z-index":"",top:""};"over"===t.dataset.value&&(n={position:"absolute!important","z-index":9999,top:0}),e.head_css(n)},e.HeaderPosition.update=function(e){var t="absolute"===e.css("position")?"over":"push";this.setActive(t)}},isBackgroundFullWidth:function(e){return TVE.Theme.$content.outerWidth()===e.find(".symbol-section-out").outerWidth()},after_update:function(){var e=this.section.inEditMode();this.sectionSelect.update(),this.$(".edit-section").html("Edit ".concat(this.section.type)),this.$(".dropdown-header").html("".concat(TVE.ucFirst(this.section.type)," Options")),this.$(".section-type").html(this.section.type),this.$(".default-section-options").toggle(!e),this.$(".section-edit-options").toggle(e||!this.section.isDynamic()),this.controls.ContentWidth.$el.toggle(!e&&!this.section.inheritsContent()),this.controls.StretchContent.$el.toggle(!e&&!this.section.inheritsContent()),this.controls.PageMap.$el.toggle(!e),this.controls.LayoutVisibility.$el.toggle(!e),this.controls.HeaderPosition.$el.toggle("header"===this.section.type)}})},"theme-layout.js":function(e,t,n){var s=n("../models/layout");t.exports=TVE.Views.Base.component.extend({after_init:function(){this.$BoxedControl=this.$(".full-width-control")},controls_init:function(e){var i=_.throttle(TVE.PostList.layout.masonryRedo,500),o=_.throttle(TVE.inner.window.TCB_Front.resizePageSection,50);e.ContentWidth.input=function(e,t){s.setWidth(t.value+this.getUM(),"content",!0),o(),i()},e.ContentWidth.change=function(e,t){s.setWidth(t.value+this.getUM(),"content",!1)},e.ContentWidth.update=function(){this.setValue(s.getWidth("content")),this.originalConfig.max=TVE.Theme.$wrapper.innerWidth()},e.LayoutWidth.input=function(e,t){var n=t.value+this.getUM();s.setWidth(n,"content",!0).setWidth(n,"background",!0),o(),i()},e.LayoutWidth.change=function(e,t){var n=t.value+this.getUM();s.setWidth(n,"content",!1).setWidth(n,"background",!1)},e.LayoutWidth.update=function(){this.setValue(s.getWidth("background")),this.originalConfig.max=TVE.inner.$body.innerWidth()}},after_update:function(){this.toggleWidthSettings(!s.isFullWidth())},toggleWidthSettings:function(e){this.controls.ContentWidth.$el.toggleClass("tcb-hidden",e),this.controls.LayoutWidth.$el.toggleClass("tcb-hidden",!e),this.$BoxedControl.find(".active").removeClass("active"),this.$BoxedControl.find('button[data-boxed="'.concat(e?1:0,'"]')).addClass("active")},toggleFullWidth:function(e,t){var n=!parseInt(t.dataset.boxed)?"100%":"1080px";s.setWidth(n,"content",!1).setWidth(n,"background",!1),this.update(),this.controls.PageMap.update(TVE.Theme.$main),TVE.Editor_Page.reposition_icons(),TVE.inner.window.TCB_Front.resizePageSection(),TVE.PostList.layout.masonryRedo()}})},"theme-section.js":function(e,t,n){var r=n("../models/layout"),i=n("../controls/section-select");t.exports=TVE.Views.Base.component.extend({after_init:function(){this.sectionSelect=new i({el:this.$(".section-select")})},before_update:function(){return this.section=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement),this.sectionSelect.setSection(this.section),this},controls_init:function(s){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=_.throttle(TVE.inner.window.TCB_Front.resizePageSection,10),o=_.throttle(TVE.PostList.layout.masonryRedo,500),a=this;e&&(s.Position.change=function(e,t){var n=t.value;TVE.Theme.$main.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,"left"===n),s.PageMap.update(e)},s.Position.update=function(e){var t=TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?"left":"right";this.setValue(t),this.$el.toggleClass("tcb-disabled","sidebar"===a.section.type&&!a.section.isVisible())},s.MinWidth.input=function(e,t){this.applyElementCss({"min-width":t.value+this.getUM()}),o()},s.MinWidth.update=function(e){var t=parseInt(e.css("min-width"));this.setValue(isNaN(t)?0:t),this.$el.toggleClass("tcb-disabled","sidebar"===a.section.type&&!a.section.isVisible()),this.originalConfig.max=TVE.Theme.$main.width()}),s.Visibility.change=function(e,t){a.section.toggle(t.checked),TVE.ElementEditIcons.hide_icons()},s.Visibility.update=function(){this.setChecked(a.section.isVisible())},s.StretchBackground.input=function(e,t){var n=t.checked;a.section.setWidth(n?"100%":"","background",!0);var i=a.section.$background.css("width");if(!n&&parseInt(a.section.$content.css("width"))>parseInt(i)){var o="";a.section.inheritsContent()||(o=i),a.section.setWidth(o,"content",!0)}"top"!==a.section.type&&"bottom"!==a.section.type||TVE.Theme.utils.toggleSectionFullWidth(e,n),s.PageMap.update(e),s.ContentWidth.update(),s.StretchContent.update()},s.StretchBackground.update=function(){this.setChecked(a.section.hasFullWidthBackground()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())},s.ContentWidth.input=function(e,t){a.section.setWidth(t.value+this.getUM(),"content",!1),i(),o()},s.ContentWidth.change=function(e,t){a.section.setWidth(t.value+this.getUM(),"content",!0)},s.ContentWidth.update=function(){var e=a.section.$content.css("width"),t=parseInt(a.section.$background.css("width"));this.$el.toggleClass("tcb-disabled",a.section.hasFullWidthContent()||!a.section.isVisible()),this.originalConfig.max=t,this.setValue(e)},s.StretchContent.input=function(e,t){a.section.setWidth(t.checked?"100%":"","content",!0),i(),o(),s.ContentWidth.update()},s.StretchContent.update=function(){this.setChecked(a.section.hasFullWidthContent()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible()||!a.section.hasFullWidthBackground())},s.InheritContentSize.input=function(e,t){var n=t.checked;a.section.setWidth(n?"":r.getWidth("content"),"content",!0),n||(s.ContentWidth.update(),s.StretchContent.update()),s.ContentWidth.$el.toggle(!n),s.StretchContent.$el.toggle(!n),i(),o()},s.InheritContentSize.update=function(e){this.setChecked(a.section.inheritsContent()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())},s.SectionHeight.input=function(e,t){this.applyElementCss({"min-height":"".concat(t.value).concat(this.getUM(),"!important")})},s.SectionHeight.update=function(e){var t=parseInt(e.css("min-height"));this.setValue(t||0),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())},s.VerticalPosition.change=function(e,t){var n={"justify-content":t.dataset.value,display:"block","flex-direction":""};""!==t.dataset.value&&(n.display="flex",n["flex-direction"]="column"),e.head_css(n)},s.VerticalPosition.update=function(e){this.setActive(e.css("justify-content")||""),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())}},after_update:function(){var e=!this.section.isDynamic(),t=this.section.inEditMode(),n="sidebar"===this.section.type||"content"===this.section.type;this.controls.PageMap.$el.toggle(!t),this.controls.LayoutVisibility.$el.toggle(!t),this.controls.Position.$el.toggle("sidebar"===this.section.type),this.controls.MinWidth.$el.toggle(n),this.controls.InheritContentSize.$el.toggle(!n&&!t),this.controls.ContentWidth.$el.toggle(!n&&!t&&!this.section.inheritsContent()),this.controls.StretchContent.$el.toggle(!t&&!n&&(this.section.hasFullWidthBackground()||r.isFullWidth())&&!this.section.inheritsContent()),this.controls.StretchBackground.$el.toggle(!n&&!t),this.controls.Visibility.$el.toggle(!n&&!t||"sidebar"===this.section.type),this.controls.SectionHeight.$el.toggle(t||e),this.controls.VerticalPosition.$el.toggle(t||e),this.sectionSelect.update()}})},"widget-area.js":function(e,t,n){var i=TVE.Views.InlinePanel.extend({template:TVE.tpl("inline/content-templates"),after_initialize:function(){this.$(".drop-panel").addClass("small-pad tcb-autocomplete"),this.autocomplete()},autocomplete:function(){var n=this,i=TVE.CONST.theme.sidebars.map(function(e){return{id:e.value,label:e.name,title:e.name}});this.$input=this.$(".tcb-search").autocomplete({minLength:0,appendTo:this.$(".popup-content"),source:function(e,t){t(TVE.inner_$.ui.autocomplete.filter(i,e.term).slice(0,5))},select:function(e,t){return n.on_select(t.item.id,t.item.value),e.stopPropagation(),!1}}),this.$input.data("ui-autocomplete")._renderItem=function(e,t){var n=new RegExp(this.term,"i");return e.addClass("tcb-suggest"),jQuery("<li></li>").data("item.autocomplete",t).append('<a href="#" class="tcb-truncate">'+t.label.replace(n,'<span class="highlight">'+this.term+"</span>")+"</a>").appendTo(e)}},onOpen:function(){this.$input.val("").focus().autocomplete("search")}});t.exports=TVE.Views.Base.component.extend({controls_init:function(e){var n=this;this.placeholder_panel=new i({component:this,minWidth:300,no_buttons:!0,on_select:function(e,t){n.get_sidebar(e,t)}}),e.Sidebars.change=function(e,t){n.get_sidebar(t.value,t.text,e)},e.Sidebars.update=function(e){this.setValue(e.attr("data-id"))},e.Orientation.change=function(e,t){e.head_css({"flex-direction":t.dataset.value})},e.Orientation.update=function(e){this.setValue(e.css("flex-direction"))}},placeholder_action:function(e){this.placeholder_panel.open(e,e.find(".tcb-inline-placeholder-action"))},get_sidebar:function(t,n,i){var o=this;void 0===i&&(i=TVE.ActiveElement),i.addClass("tve-loading"),TVE.$.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},data:{id:t},url:TVE.CONST.theme.routes.sidebar,method:"GET",success:function(e){e.active?(i.html(e.html).removeClass("tcb-elem-placeholder tcb-sidebar-placeholder tve-loading").attr("data-id",t),TVE.Theme.content.init_selectors(i.parent()),o.placeholder_panel.hide(),TVE.Editor_Page.focus_element(i.removeClass("edit_mode"))):TVE.page_message("There are no widgets added to <b>".concat(n,"</b>."),!1,5e3)},error:function(e){console.error(e)}})}})}},"constants.js":function(e,t,n){var i=[".search-submit .thrv_icon",".search-submit .tcb-button-text.thrv-inline-text"];t.exports={identifiers:{EDITOR_CLASS:"thrive-theme-builder",FLIP_SECTIONS_CLASS:"flip-sections",HIDE_SECTION_CLASS:"hide-section",MAIN_COLUMNS_SEPARATOR:".main-columns-separator"},templates:{error404:"error404",ARCHIVE:"archive",ARCHIVE_BASE:"archive-base",BLOG:"blog",PAGE:"page",POST:"post",SEARCH:"search",AUTHOR:"author",SINGULAR:"singular",HOME:"home",PRODUCT:"product"},theme_button:{layout:"button_layout"},blog_list:{no_results:{type:"no_results",selector:".main-no-results",affected_selectors:".tcb-post-list#main,.tcb-pagination,.tcb-featured-list"},states:[{value:"blog_list",label:"Search results found"},{value:"no_results",label:"No results found"}]},comments:{states:[{value:"logged",label:"Logged In User View"},{value:"visitor",label:"Visitor View"},{value:"closed",label:"Comments are Closed"}],hiddenElements:["thrive_author_box","thrive_author_links","thrive_breadcrumbs","thrive_calendar_widget","thrive_widget_area","thrive_comments","thrive_dynamic_list","post_author_picture","post_content","post_thumbnail","contentblock","symbol","post_list","ct_symbol","tl_shortcode","quiz","ultimatum_countdown","ovation_capture","ovation_display","tcb_post_author_bio","thrive_author_follow","tcb_post_author_name","tcb_post_author_picture","tcb_post_categories","tcb_post_content","tcb_post_published_date","tcb_post_comments_number","tcb_post_tags","tcb_post_featured_image","tcb_post_title","tcb_post_read_more","thrive_post_meta"]},search_dynamic_selectors:i,text_dynamic_selectors:[".comment-form-reply-title",".comment-form-comment-notes"],dynamic_selectors:[].concat(i,[".comment-form-submit .thrv_icon",".comment-form-submit .tcb-button-text.thrv-inline-text",".comment-reply-link .thrv_icon",".comment-reply-link .tcb-button-text.thrv-inline-text"]),dynamicVideo:{placeholderTemplate:"theme-main/video-overlay-placeholder",RESPONSIVE_VIDEO_CONTAINER:".tve_responsive_video_container",THUMBNAIL_UPLOAD_BUTTON_CLASS:".tve-video-thumbnail-control",THUMBNAIL:{STATIC:"static",DYNAMIC:"dynamic",NONE:"none"}},taxonomyShortcodes:["thrive_archive_name","thrive_archive_description","thrive_archive_parent_name"],DEFAULT_EXCERPT_WORDS:55,DEFAULT_READ_MORE:"...",content_switch:{blog_index_text:"Blog Index"},COMMENT_SUBMIT_TYPE:"thrive_comments_form_submit",COMMENT_REPLY_TYPE:"thrive_comment_reply_button",SIDEBAR_CROPPED_HEIGHT:600,HORIZONTAL_LAYOUT_WIDTH:700,HORIZONTAL_LAYOUT_PADDING:60,VERTICAL_LAYOUT_WIDTH:350,VERTICAL_LAYOUT_PADDING:50,defaultPreviewOptions:{imageTypeCallback:"toJpeg",quality:1,fixWindowWidth:!1,bgcolor:"white",style:{top:0,left:0,right:0,bottom:0}},THEME_CONTEXT:"ttb",ARCHITECT_CONTEXT:"tar"}},"content.js":function(e,t,n){var a,s,i,o,r,c;a=jQuery,s=n("./models/content"),i=n("./models/section"),o=n("./models/hf-section"),r={},c={},["top","content","sidebar","bottom"].forEach(function(e){return r[e]="".concat(i.identifier,".").concat(e,"-section ").concat(i.contentSelector)}),["header","footer"].forEach(function(e){return c[e]="".concat(e,".thrv_symbol ").concat(o.contentSelector)}),t.exports={save:function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];n||TVE.main.overlay();var i=new s(TVE.Theme.$wrapper),o={action:"update_template",template:JSON.stringify(i.data())};o=TVE.apply_filters("theme.update_template",o),a.ajax({url:"".concat(TVE.CONST.theme.routes.templates,"/").concat(TVE.CONST.post.ID),type:"POST",data:o,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){n||TVE.page_message("Template <b>".concat(TVE.CONST.post.post_title,"</b> saved successfully!"),!1,5e3),window.onbeforeunload=null,"function"==typeof t&&t(e)}).error(function(e){TVE.wordfenceResponse(e)||TVE.page_message("Template was not saved",!0,5e3)}).always(function(){TVE.main.overlay("close"),TVE.Editor_Page.disableSaveWarning(),TVE.Editor_Page.enableSaveWarning()}),e&&setTimeout(this.previewSavedTemplate,10)},init_selectors:function(t){void 0===t&&(t=TVE.Theme.$wrapper),_.each(TVE.Theme.selectors.shortcodes,function(o,s){t.find(s).addBack(s).each(function(e,t){var n=a(t),i=n.closest(TVE.identifier("post_list"));i.length?TVE.PostList.content.initShortcode(i,s,o):(0===n.parents(".thrv_text_element, .thrv_heading").length&&(t.classList.add(TVE.PostList.constants.TCB_SHORTCODE_CLASS,"thrive-shortcode","thrv_wrapper"),t.setAttribute("data-shortcode",o),TVE.Elements[o]&&TVE.Elements[o].has_selector&&t.setAttribute("data-selector",s)),TVE.Theme.template.is_singular()&&TVE.Theme.CONST&&0===n.find(".theme-empty-post-content-placeholder").length&&TVE.PostList.content.replaceShortcodeWithData(o,n,TVE.Theme.CONST.ID))})}),""===TVE.CONST.symbol_type&&TVE.CONST.theme.is_theme_template&&[TVE.Theme.$sections.header,TVE.Theme.$sections.footer].forEach(function(e){var t=TVE.Theme.models.HFSection.getInstance(e);e.addClass(["tcb-shortcode","thrive-shortcode","tve_no_icons"].join(" ")).attr({draggable:!1,"data-tcb-elem-type":t.type,"data-element-name":TVE.ucFirst(t.type)}),t.updateAttr()}),TVE.Components.menu.setDataSelectors(),_.each(TVE.Theme.selectors.editor.have_selector,function(e){t.find(e).addBack(e).addClass("thrv_wrapper").attr("data-selector",e)}),_.each(TVE.Theme.constants.text_dynamic_selectors,function(e){t.find(e).attr("data-selector",e)}),TVE.Theme.$wrapper.attr("data-selector","#wrapper"),TVE.Theme.selectors.editor.no_drag.forEach(function(e){return t.find(e).addBack(e).removeClass("tve-droppable")}),TVE.do_action("theme.selectors.init",t)},getSectionDropzoneTarget:function(e){if(!TVE.CONST.theme.is_theme_template||void 0!==TVE.FLAGS.$dragged_element)return e;var t,n=TVE.main.EditMode.element();if(n&&n.length?(TVE.Theme.models.Section.is(n)||TVE.Theme.models.HFSection.is(n))&&(t=n):t=TVE.Theme.utils.getDropTargetSection(),t&&t.length){var i=TVE.Theme.utils.getSectionInstance(t),o=i.$content.children();o.length?e=o.last():(e=TVE.inner_$("<div></div>").appendTo(i.$content),setTimeout(function(){e.remove()},100))}return e},previewSavedTemplate:function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.inner.$body;var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:TVE.CONST.post.ID,i=TVE.Theme.content.getTemplateContentToPreview(),e=_objectSpread({},TVE.Theme.constants.defaultPreviewOptions,{},{quality:.1});TVE.generateElementPreview(i,function(e){i.remove();var t={url:"".concat(TVE.CONST.theme.routes.templates,"/").concat(n,"/preview"),action:"template_preview",image:e,ID:TVE.CONST.post.ID};TVE.Theme.utils.savePreviewImage(t)},a.extend(!0,{},e),!0)},getTemplateContentToPreview:function(){var e=TVE.inner.$body,t=TVE.Theme.utils.filterContentByHeight,n=e.clone(),i=this.getTemplatePreviewHeight();n.find(".edit_mode, .layout-highlight").removeClass("edit_mode layout-highlight"),n.find(".section-overlay-actions").remove(),n.children(":not(#wrapper):not(style)").remove().end(),TVE.Theme.utils.fixClonedImageHeights(n,e),n.css({position:"absolute",top:"-100000px",left:0,right:0,"margin-left":"auto","margin-right":"auto"}).insertAfter(e);var o=i=t(n.find("".concat(c.header,", ").concat(r.top)),i),s=i;return o=t(n.find("".concat(r.content)),o),1===parseInt(TVE.Theme.$main.attr("data-wrap"))&&(s=o),s=t(n.find("".concat(r.sidebar)),s),i=Math.min(o,s),i=t(n.find("".concat(r.bottom)),i),0<(i=t(n.find("".concat(r.footer)),i))&&n.height(e.width()),n},getTemplatePreviewHeight:function(){return TVE.inner.$body.width()},renderers:{thrive_breadcrumbs:{render_default:function(){var t=TVE.inner_$("<div>".concat(TVE.inner_$("#tve-theme-editor-thrive_breadcrumbs").html(),"</div>"));return TVE.Components.thrive_breadcrumbs.breadcrumbsLabels.forEach(function(e){TVE.Components.thrive_breadcrumbs.controls["".concat(e,"Label")].onInput(t,{value:TVE.CONST.theme.breadcrumbs_labels[e]})}),t.html()}},thrive_comments:{render_default:function(){return TVE.inner_$("#tve-theme-editor-thrive_comments").html()}},thrive_taxonomy_term_description:{render_default:function(){return TVE.Theme.CONST.archive_description}}},updateResizeHandlersPosition:_.debounce(function(e){void 0===e&&(e=TVE.Theme.$wrapper.find(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR).width()),(e=parseInt(e))&&(TVE.Theme.$sections.sidebar.find(".ui-resizable-w").css("left",-(e/2+3)+"px"),TVE.Theme.$sections.sidebar.find(".ui-resizable-e").css("right",-(e/2+3)+"px"))},100)}},controls:{"_includes.js":function(e,t,n){t.exports={LayoutVisibility:n("./layout-visibility"),DynamicVideoThumbnail:n("./dynamic-video-thumbnail"),BeautifulSelect:n("./beautiful-select"),SectionSelect:n("./section-select")}},"beautiful-select.js":function(e,t,n){var s="tve-beautiful-select-option";t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("theme-main/controls/beautiful-select"),onClick:function(e,t){this.setValue(t.dataset.value,!0),this.toggle(!1)},getValue:function(){var e=this.$(".".concat(s));return e.length?e.attr("data-value"):null},setValue:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.renderSelected(parseInt(e)),t&&this.change(this.applyTo(),e)},renderSelected:function(t){var e=TVE.CONST.theme.layouts.find(function(e){return e.ID===t}),n=this.$(".".concat(s)),i=s;TVE.Theme.models.Layout.hasUnsavedChanges()&&(i+=" has-changes");var o=TVE.tpl("theme-main/controls/beautiful-select-option")({classes:i,fn:"hideSelect",value:t,icon:this.getOptionIcon(t),name:e.post_title,dropDownIcon:1<TVE.CONST.theme.layouts.length});0<n.length?n.html(o):this.$el.prepend(o)},getOptionIcon:function(e){return""},options:function(){return this.get_config("options")},isOpen:function(){return this.$el.hasClass("open")},toggle:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.$el.toggleClass("open",e)},hideSelect:function(){this.toggle(!this.isOpen())}})},comments:{"edit-item.js":function(e,t,n){t.exports=TVE.Views.Controls.DropPanel.extend({template:TVE.tpl("theme-main/controls/edit-c-form-item"),after_render:function(){this.$placeholderInput=this.$(".c-f-placeholder"),this.$labelInput=this.$(".c-f-label"),this.$labelWrapper=this.$("#c-f-label-wrapper"),this.$placeholderWrapper=this.$("#c-f-placeholder-wrapper")},reset:function(e){this.model=e,this.updateControls()},updateControls:function(){var e=this.model.get("hasLabel"),t=this.model.get("hasPlaceholder");this.$labelWrapper.toggleClass("tcb-hidden",!e),this.$placeholderWrapper.toggleClass("tcb-hidden",!t),e&&this.$labelInput.val(this.model.get("label")),t&&this.$placeholderInput.val(this.model.get("placeholder"))},changeSetting:function(e,t){var n={};n[t.getAttribute("data-setting")]=t.value,this.model.set(n)},cancel:function(){this.model.restoreState()},apply:function(){this.component.controls.FieldsControl.update(TVE.ActiveElement)}})}},"dynamic-video-thumbnail.js":function(e,t,n){var o=TVE.Theme.constants.dynamicVideo.THUMBNAIL,s=TVE.Theme.constants.dynamicVideo.RESPONSIVE_VIDEO_CONTAINER,a=TVE.Theme.constants.dynamicVideo.THUMBNAIL_UPLOAD_BUTTON_CLASS,r="data-thumbnail-type",c={input:function(e,t){var n=TVE.ActiveElement,i=t.value===o.DYNAMIC?c.getFeaturedImage():"";n.find(s).attr(r,t.value),c.renderOverlay(n,i),TVE.Components.responsivevideo.$el.find(a).toggleClass("tcb-hidden",t.value!==o.STATIC)},update:function(e){var t=TVE.Components.responsivevideo.$el,n=e.find(s).attr(r);n||(n=o.STATIC),t.find(".v-thumbnail-type").val(n),t.find(a).toggleClass("tcb-hidden",n!==o.STATIC),t.find(".tcb-responsive-video-thumbnail").removeClass("tcb-hidden")},reset:function(e){e.find(s).attr(r,o.STATIC),c.update(e),c.renderOverlay(e)},renderOverlay:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";t&&t.length?(e.attr("overlay",1),e.find(".video_overlay").addClass("video_overlay_image").html('<span class="overlay_play_button">'+TVE.Components.responsivevideo.controls.responsive_video.videoOverlaySVG+"</span>").css({"background-image":"url('"+t+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center"})):e.find(s).show().html(TVE.tpl(TVE.Theme.constants.dynamicVideo.placeholderTemplate)())},getFeaturedImage:function(){var e=TVE.PostList.posts[TVE.Theme.CONST.ID].featured_image_sizes;return _.isEmpty(e)?_.isEmpty(TVE.Theme.CONST.featured_image_sizes)?TVE.Theme.CONST.post_image.featured:TVE.Theme.CONST.featured_image_sizes.full.source_url:e.full.source_url}};t.exports=c},"dynamic-video.js":function(e,t,n){var i="dynamic",o=n("../controls/dynamic-video-thumbnail"),s=TVE.VideoProviders.Base.extend({show:function(){var e=TVE.Components.responsivevideo.$el,t=TVE.ActiveElement;return t.removeClass("tcb-elem-placeholder"),t.find(".tcb-inline-placeholder-action").remove(),e.find(".responsive-video-time-label").addClass("tcb-hidden"),e.find(".info-text").addClass("tcb-hidden"),this}}),a={init:function(e){var t=e.$(".v-source");t.append('<option value="dynamic">Dynamic Source</option>'),t.on("change",function(e){var t=e.currentTarget.value,n=TVE.ActiveElement;a.toggleDynamicThumbnailControls(t===i),t===i&&o.reset(n)}),e.$(".tcb-responsive-video-thumbnail").before(TVE.tpl("theme-main/controls/video-thumbnail-type-select")()),e.dynamicThumbnailInput=o.input,e.dynamicThumbnailUpdate=o.update,e.providers.dynamic=new s({el:e.$("#v-settings-dynamic")[0],key:i,control:e}),this.hooks()},toggleDynamicThumbnailControls:function(e){var t=TVE.Components.responsivevideo.$(".tve-advanced-controls");t.find(".ttd-video-thumbnail-type").toggleClass("tcb-hidden",!e),t.find(".tcb-responsive-video-thumbnail .label.full-width").toggleClass("tcb-hidden",e),e||t.find(TVE.Theme.constants.dynamicVideo.THUMBNAIL_UPLOAD_BUTTON_CLASS).removeClass("tcb-hidden")},hooks:function(){TVE.add_filter("theme.save_shortcodes",this.saveShortcode),TVE.add_filter("tcb.element_selected",this.elementSelectedCallback)},saveShortcode:function(e){return e.find('.thrv_responsive_video[data-type="dynamic"]').each(function(e,t){var n=TVE.inner_$(t),i="",o=n.find(".tve_responsive_video_container").attr("data-thumbnail-type");o||(o=TVE.Theme.constants.dynamicVideo.THUMBNAIL.STATIC);var s={"thumbnail-type":o,"is-floating":n.find(".tcb-video-float-container").length?1:0};if(o===TVE.Theme.constants.dynamicVideo.THUMBNAIL.STATIC){var a=n.find(".video_overlay").css("background-image");(i=TVE.Theme.utils.getImageUrlFromCss(a))&&(s["thumbnail-url"]=i)}var r="[thrive_dynamic_video";_.each(s,function(e,t){"string"==typeof e&&(e=e.trim()),r+=" "+t+'="'+e+'"'}),r+="]",t.innerHTML=r}),e},elementSelectedCallback:function(e){if(e.is(TVE.Elements.responsivevideo.identifier)){var t=e.attr("data-type");a.toggleDynamicThumbnailControls(t===i),t===i&&o.update(e)}return e}};t.exports=a},"layout-visibility.js":function(e,t,n){var i=n("../models/layout"),o=n("../models/content"),s=n("../modals/layout-templates"),a=n("./beautiful-select");t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("theme-main/layout/layout-visibility"),before_initialize:function(){var e=this;TVE.add_action("theme.layout.after_update",function(){e.layoutSelect.update(),e.toggleInnerDropdown()})},after_render:function(){this.initLayoutSelect()},initLayoutSelect:function(){this.layoutSelect=new a({el:this.$(".layout-select"),model:{config:{name:"Choose Layout",options:TVE.CONST.theme.layouts.map(function(e){return{name:e.post_title,value:e.ID}})}},component:this.component}),this.layoutSelect.input=function(e,t){var n=this;i.load(t,o.getLayoutId(),function(){n.update()})},this.layoutSelect.update=function(){this.render(),this.renderSelected(o.getLayoutId())},this.layoutSelect.getOptionIcon=function(t){var e=TVE.CONST.theme.layouts.find(function(e){return e.ID===parseInt(t)}),n=["theme-layout","100%"===e.meta_input.content_width?"full-layout":"inherit-content-size"];return parseInt(e.meta_input.hide_sidebar)||(n.push("with-sidebar"),parseInt(e.meta_input.sidebar_on_left)&&n.push("left-sidebar")),'<i class="'.concat(n.join(" "),'"></i>')},this.layoutSelect.options=function(){return TVE.CONST.theme.layouts.filter(function(e){return e.ID!==o.getLayoutId()}).map(function(e){return{name:e.post_title,value:e.ID}})},this.layoutSelect.render()},getHiddenSections:function(){var n=[];return _.each(TVE.Theme.$sections,function(e,t){e.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)&&n.push(t)}),n},showSection:function(e,t){var n=TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[t.dataset.section]);n&&n.toggle(!0),TVE.Theme.utils.getSectionInstance()?this.toggleDropdown():this.component.controls.PageMap.update(),this.render()},openLayoutCreate:function(){s.open()},toggleDropdown:function(){this.$el.toggleClass("dropdown-open"),this.$el.hasClass("dropdown-open")&&(this.layoutSelect.update(),this.layoutSelect.toggle(!1))},toggleInnerDropdown:function(){this.$(".layout-inner-box").toggleClass("dropdown-open").find('[data-fn="updateLayout"]').toggle(TVE.Theme.models.Layout.hasUnsavedChanges())},update:function(){this.$el.removeClass("dropdown-open"),this.render()},input:function(){},updateLayout:function(){var e=this;i.getInstance().update(!1).done(function(){e.toggleInnerDropdown(),e.layoutSelect.$(".tve-beautiful-select").removeClass("has-changes")})}})},"section-select.js":function(e,t,n){t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("theme-main/controls/section-select"),update:function(){this.section.inEditMode()||!this.section.isVisible()?this.$el.hide():this.section.generatingPreview()||this.$el.show().html(TVE.$(this.template({section:this.section})))},setSection:function(e){return this.section=e,this},change:function(){},unlinkSection:function(){this.section.unlink(),this.update(this.section)},enterEditMode:function(){if(this.section instanceof TVE.Theme.models.Section)TVE.main.EditMode.enter(!1,{can_insert_elements:!0,show_default_message:!0,show_overlay:!0}),TVE.Components.theme_section.after_update(),this.section.toggleComponents();else{var e=this.section.type;"function"==typeof TVE.Components[e].editSection&&TVE.Components[e].editSection(),TVE.Components["theme-hf"].before_update().after_update()}},showPreviewLoader:function(){this.$(".section-preview").addClass("ttd-loading medium-small"),this.$('[data-fn="replaceSection"]').prop("disabled",!0)},openSaveModal:function(){TVE.Theme.modals.sectionSave.open({section:this.section})},openSectionsModal:function(){var e=this.section.constructor.fetchListFromCloud(this.section.type).fail(console.warn);TVE.Theme.modals.sectionTemplates.open({section:this.section,sectionsLoaded:e})}})}},filters:{"_includes.js":function(e,t,n){var i=[],o={general:n("./general"),symbol:n("./symbol"),postList:n("./post-list"),globalStyles:n("./global-styles"),dynamicImage:n("./dynamic-image"),themeSections:n("./theme-section"),centralStylePanel:n("./central-style-panel"),inlineShortcodes:n("./inline-shortcodes"),sidebarVisibility:n("./sidebar-visibility")};_.each(o,function(e){_.each(e,function(e,t){i.push({tag:t,callback:e})})}),t.exports=i},"central-style-panel.js":function(e,t,n){jQuery,t.exports={tcb_central_style_panel_view:function(e,t){return _.isEmpty(TVE.CONST.theme.skin_palettes)||(e=new(n("../views/theme-style-panel/main"))({el:t.dom.central_style_panel,sidebar:t})),e},tcb_gradient_css_variable_regex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _.isEmpty(TVE.CONST.theme.skin_variables)||(e+="(var\\("+TVE.CONST.theme.skin_variables.gradients_prefix+"[0-9]*\\))|"),e},tcb_color_css_variable_regex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _.isEmpty(TVE.CONST.theme.skin_variables)||(e+="("+TVE.CONST.theme.skin_variables.colors_prefix+"[0-9]*)|"),e}}},"dynamic-image.js":function(e,t,n){var i={"tcb.dynamic_image.show_tab":function(e,t){return TVE.Theme.template.is_singular()&&(e=!0),e},"tcb.dynamic_image.change_selector":function(e,t){return e.includes(TVE.identifier("blog_list"))&&!e.includes(TVE.identifier("article"))&&(e=e.replace(new RegExp(TVE.identifier("blog_list"),"g"),TVE.identifier("blog_list")+" "+t)),e},"tcb.default_featured_image.change_sizes":function(e,t){return _.isEmpty(e)&&(e=TVE.Theme.CONST.featured_image_sizes),e},"tcb.default_featured_image.change":function(e,t){return _.isEmpty(e)&&(e=TVE.PostList.dynamicImage.getFeaturedImageBySize(TVE.Theme.CONST.featured_image_sizes,t)),e},"tcb.image.show_dynamic_controls":function(e){return TVE.Theme.template.is_singular()&&(e=!0),e}};t.exports=i},"general.js":function(e,t,o){var i,n,s,a;i=jQuery,n=o("../models/content"),s=o("../models/layout"),a=o("../switch-editor"),t.exports={"tcb.outerSelector":function(e){return TVE.CONST.theme.is_theme_template&&(e=TVE.CONST.tcb_selection_root),e},draggable_elements:function(e){return e+","+TVE.Theme.selectors.editor.draggable.join(",")},non_draggable:function(e){return e+","+TVE.Theme.selectors.editor.no_drag.join(",")},dropzone_elements:function(e){return e+","+TVE.Theme.selectors.editor.containers.join(",")},editor_wrapper:function(e){var t=TVE.inner.$body.find("#wrapper");return TVE.Theme.$wrapper=t.length?t:e,TVE.Theme.$content=TVE.inner.$body.find("#content"),TVE.Theme.$main=TVE.inner.$body.find(".main-container"),TVE.Theme.$sections={header:TVE.Theme.$wrapper.find("header.thrv_symbol"),footer:TVE.Theme.$wrapper.find("footer.thrv_symbol")},TVE.inner.$body.find(TVE.Theme.models.Section.identifier).each(function(e,t){TVE.Theme.$sections[t.dataset.section]=TVE.inner_$(t)}),TVE.CONST.theme.is_theme_template&&(TVE.CONST.tcb_selection_root="#wrapper",e=TVE.Theme.$wrapper),e},allow_dragenter:function(e,t){return TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("post_list"))||TVE.CONST.theme.is_theme_template&&(e=t.is(TVE.Theme.selectors.editor.dragenter.join(","))),e},css_style_selector:function(e){return TVE.CONST.theme.is_theme_template?"#thrive-template-css":e},head_css_selector:function(e){var t=i(e.element),n=TVE.Theme.utils.getDynamicElementPrefix(t);return n.length&&(e.prefix=e.prefix.trimRight()+" "+n+" "),e},tcb_head_css_prefix:function(e,t){return TVE.Theme.utils.getHeadCssPrefix(e,t,!1)},hover_prefix_selector:function(e,t){var n=TVE.inner_$(t);return TVE.PostList.utils.isInsidePostList(n)||(e=TVE.Theme.utils.getHeadCssPrefix(e,n,!0)),e},"tcb.includes":function(n){return i.extend(!0,n.Views.Components,o("../components/_includes")),i.extend(!0,n.Views.Controls,o("../controls/_includes")),i.extend(!0,n.renderers,n.Theme.content.renderers),n.renderers.thrive_author_follow=new(o("../renderers/author-follow"))({key:"author_follow"}),n.renderers.thrive_author_links=new(o("../renderers/links"))({key:"author_links"}),n.Theme.views=o("../views/_includes"),_.each(o("../actions/storage"),function(e,t){n.StorageManager.on(t,e)}),n},"tcb.dragenter":function(e){if(TVE.CONST.theme.is_theme_template){var t=e.parents(TVE.Theme.selectors.editor.compact_elements.join(",")),n="".concat(TVE.Theme.models.Section.contentSelector,",").concat(TVE.Theme.models.HFSection.contentSelector),i=e.closest(n);if(TVE.Theme.$wrapper.find(".tve_editor_main_content").removeClass("tve_editor_main_content"),i.length&&(i.addClass("tve_editor_main_content"),TVE.Theme.sectionHover.showIcons(i[0].parentElement,!0)),TVE.Theme.models.Section.is(e))return TVE.Theme.sectionHover.showIcons(e[0],!0),e.find(n).addClass("tve_editor_main_content");if(t.length)return t;if(TVE.Theme.template.is_singular()||TVE.FLAGS.$dragged_element.static_element)return e}return e},"tcb.extend-sidebar-right":function(){return o("../../main/views/sidebar-right")},should_have_width_on_float:function(e){return e.push("thrive-calendar-widget"),e},"tcb.header-footer.root":function(e){return TVE.Theme.$wrapper},"tcb.get_dropzone_target":function(e){return(e=TVE.Theme.content.getSectionDropzoneTarget(e)).offset().top+e.height()<TVE.inner.$window.scrollTop()&&TVE.inner_$("html, body").animate({scrollTop:e.offset().top+e.height()}),e},css_rules_before_insert:function(e){for(var t=TVE.CSS_Rule_Cache.media_rule(TVE.main.responsive.desktop.media),n=0;n<e.length;n++)switch(e[n].type){case CSSRule.MEDIA_RULE:for(var i=0;i<e[n].cssRules.length;i++){var o=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e[n].cssRules[i].cssText);e[n].deleteRule(i),e[n].insertRule(o,i)}break;case CSSRule.STYLE_RULE:var s=e[n];s.selectorText=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e[n].selectorText),t.insertStyleRule(s)}return e},hover_head_css_selector:function(e){return e.selector=TVE.Theme.utils.getHeadCssPrefix(e.selector,TVE.inner_$(e.current_element),!0),e.state_preview_selector=TVE.Theme.utils.getHeadCssPrefix(e.state_preview_selector,TVE.inner_$(e.current_element),!0),-1!==e.selector.indexOf("dynamic-list-icon")&&(e.selector=TVE.Theme.utils.replace_all_but_first(e.selector,'\\[data-css="(.+?)"\\]',""),e.state_preview_selector=TVE.Theme.utils.replace_all_but_first(e.state_preview_selector,'\\[data-css="(.+?)"\\]',"")),e},"theme.set_dynamic_link":function(e){return"thrive_comments_link"===e.replace(/[\[\]']+/g,"")&&0!==TVE.ActiveElement.parents(TVE.identifier("post_list")).length&&(e="thrive_comments_link list='1'"),e},"tcb.link_read":function(e,t){return t.attr("data-dynamic-link")&&(e.dynamic_link=!0),e},"tcb.get_link_text":function(e,t){return t.get("dynamic_link")&&(e="Dynamic"),e},"tcb.insert_section_placeholder":function(){return TVE.CONST.theme.is_theme_template},"tcb-social-add-networks":function(e){return _objectSpread({},e,{yt_share:"Youtube",ig_share:"Instagram"})},"theme.save_shortcodes":function(e){return e.find(TVE.identifier("social")).each(function(e,t){TVE.inner_$(t).find('[data-href="{tcb_post_url}"]').attr("data-href","[thrive_the_permalink inline='1']")}),e.find("".concat(TVE.identifier("thrive_author_follow")," .tve_s_item")).each(function(e,t){var n=TVE.inner_$(t).find("a"),i=t.dataset.s.replace("_share","");n.attr("href","[thrive_author_follow_urls url='".concat(i,"']"))}),e.find('.thrv_audio[data-type="dynamic"]').each(function(e,t){return t.innerHTML="[thrive_dynamic_audio]"}),e},"tcb.templates.before_save":function(e){var t=TVE.inner_$("<div>"+e.get("template_content")+"</div>");return n.shortcodes(t),e.set("template_content",t.html()),e.set("media_rules",TVE.Theme.utils.replaceInSymbolCss(e.get("media_rules"))),e},"tcb.audio_sources":function(e){return"audio"===TVE.Theme.template.format()&&(e.push({key:"dynamic",name:"Dynamic"}),TVE.AudioProviders.dynamic=TVE.AudioProviders.Base.extend({setChosen:function(){this.control.apply(),this.control.activeView.hide()},getAudio:function(){return""}})),e},editor_loaded_callback:function(){TVE.Theme.utils.loadingMessage(!1);var e=new URLSearchParams(window.location.href);e.has("from_tar")&&(a.greetingMessage("<span>Thrive Theme Builder</span>You are now editing the <strong>".concat(TVE.CONST.theme.template.post_title," Template</strong>"),2e3),history.pushState({},document.title,location.pathname+location.search.replace("&from_tar=".concat(e.get("from_tar")),"")))},"tcb.content_templates.data":function(t,n){return t&&t.media_css&&TVE.main.all_media().forEach(function(e){t.media_css[e]&&(t.media_css[e]=t.media_css[e].split("}").map(function(e){return e.trim().length?TVE.Theme.utils.templatePrefix(n,e):e}).join("}"))}),t},"tcb.button_extra_styles":function(e){return _.isEmpty(TVE.CONST.theme.skin_styles.tve_global_button_styles)||(e=e.concat(Object.values(TVE.CONST.theme.skin_styles.tve_global_button_styles))),e},"tcb.show_dynamic_links":function(e){return TVE.Theme.template.is_singular()&&(e=!0),e},"tcb.breadcrumbs.items":function(e,t){if(!TVE.main.EditMode.in_edit()){var n=t.parents("#content");n.length&&e.splice(-1,0,{element:n.find(".main-content-background"),edited:!1,name:"Layout Container"})}return e},"tcb.components.hide":function(e,t,n){return"post_content"!==n||"post_content"!==t&&"typography"!==t||TVE.PostList.utils.isInsidePostList(TVE.ActiveElement)||(e=!0),e},"tcb.lazyload.data":function(e){return e.is_theme_template=Number(!!TVE.CONST.theme.is_theme_template),e.is_theme_template&&(e.theme_template_id=TVE.CONST.theme.template.ID),e},"tcb.selection.element":function(e,t){if(TVE.CONST.theme.is_theme_template){var n=TVE.Theme.utils.getSectionInstance(e);n&&n.isDynamic()&&!n.inEditMode()&&(e=n.$element)}return e},allow_remove:function(e,t){var n=t[0];if(n.is(TVE.identifier("post_content"))&&0===n.closest(TVE.identifier("post_list")).length&&!TVE.Theme.FLAGS.DELETING_POST_CONTENT){if(e=!1,!TVE.Theme.modals.deletePostContentModal){var i=o("../modals/post-content-delete");TVE.Theme.modals.deletePostContentModal=new i({el:TVE.modal.get_element("post-content-delete")})}TVE.Theme.modals.deletePostContentModal.open({$target:n})}return e},"tcb.is_page_fullwidth":function(e){return TVE.CONST.theme.is_theme_template&&(e=s.isFullWidth()),e},"tcb.page-map.template":function(e){return TVE.CONST.theme.is_theme_template?"theme-main/controls/sections-preview":e},"tve.dash.return.save.label":function(e){return"thrive_template"===TVE.CONST.post.post_type&&(e="Save and Return to Template Dashboard"),e},"tcb.toc.target":function(){return".tcb-post-content"}}},"global-styles.js":function(e,t,n){var i=["theme_button","thrive_comment_reply_button","thrive_comments_form_submit"];t.exports={"tcb.get_global_rules":function(e){return e.css=TVE.Theme.utils.replaceThemeSectionsCss(TVE.ActiveElement,e.css),e},"tcb.global_preview_css":function(e){return TVE.CONST.theme.is_theme_template&&(e=TVE.Theme.utils.replaceThemeSectionsCss(TVE.ActiveElement,e)),e},"tcb.get_non_global_css_selector":function(e,t){return t&&(e=TVE.Theme.utils.templatePrefix(t,e)),e},"tcb.copy_styles_different_stylesheet":function(e){return e=TVE.USE_GLOBALSHEET?TVE.Theme.utils.replaceThemeSectionsCss(TVE.ActiveElement,e):TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e)},global_style_selector:function(e,t,n,i){return i.is(".theme-button")&&i.attr("data-selector")&&(e=e.replace("."+t,i.attr("data-selector")+"."+t)),e=TVE.Theme.utils.replaceThemeSectionsCss(TVE.ActiveElement,e)},"tcb.content_selector_prefix":function(e){return TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e)},tcb_shared_styles_elements_types:function(e){return e.concat(["theme_button"])},tcb_shared_styles_button_types:function(e){return e.concat(i)},"tcb.shared_style.element_type":function(e,t){return t&&t.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))&&(e="button"),e},"tcb.global_preview_class":function(e,t){return t.is(".theme-button")&&t.attr("data-selector")&&(e=t.attr("data-selector").replace(/\./g,"")),e},"tcb.copy_stylesheet_rule":function(e,t,n){if(!e.includes(n)){var i=TVE.Theme.utils.templatePrefix(TVE.ActiveElement);e=e.includes(i)?e.replace(TVE.Theme.utils.escapedRegEx(i,"g"),n+" ").trim():n+e}return e},"tcb.shared-style-tpl-btn":function(e){if(TVE.ActiveElement.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))){var t=TVE.Theme.selectors.editor.theme_buttons.filter(function(e){return TVE.ActiveElement[0].classList.contains(e.replace(".",""))});t.length&&(TVE.ActiveElement.attr("data-selector",t[0]),e.attr("data-selector",t[0]),e.addClass("theme-button"))}return e},"tcb.new_global_style":function(e){return TVE.ActiveElement.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))&&(e.attr["data-btn-type"]=TVE._type(TVE.ActiveElement)),e},"tcb.btn_template_list_preview":function(e,t){if(t.attr["data-btn-type"]){var n="global-"+t.attr["data-btn-type"].replace(/_/g,"-"),i=TVE.tpl("theme-main/theme-buttons/"+n)({template:t});""!==i&&(e=i)}return e}}},"inline-shortcodes.js":function(e,t,n){t.exports={"tcb.inline_shortcodes.shortcode_group":function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return TVE.Theme.template.isList()&&e.push("Archive"),TVE.Theme.template.isSearch()&&e.push("Search Result Page"),e},"tcb.inline_shortcodes.insert":function(e){return TVE.Theme.constants.taxonomyShortcodes.includes(e.key)&&TVE.Theme.CONST.taxonomy[e.key]&&(e.name=TVE.Theme.CONST.taxonomy[e.key]),e}}},"post-list.js":function(e,t,n){var i={"tcb.post_list_extra_elements":function(e){return e.push(TVE.Elements.thrive_author_links.tag),e},"tcb.post_list_article.sync.tcb_post_content":function(e,t,n){return 0===n.closest(TVE.identifier("post_list")).length&&0!==TVE.Theme.$wrapper.find(n).length&&(e="<div>".concat(TVE.PostList.content.getPostContent(t.ID,"content"),"</div>"),n.attr("data-size","content")),e},"tcb.post_list.component":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return 0===t.length&&(TVE.ActiveElement&&TVE.ActiveElement.length?t=TVE.ActiveElement:TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&(t=TVE.main.EditMode.element())),t&&(t.is(TVE.identifier("blog_list"))||t.closest(TVE.identifier("blog_list")).length)&&(e=TVE.Components.blog_list),e},"tcb.post_list.identifier":function(e,t){return t.is(TVE.identifier("blog_list"))&&(e=TVE.identifier("blog_list")),e},"tcb.post_list.prefix":function(e,t){return t.is(TVE.identifier("blog_list"))&&(e=""),e},"tcb.write_css.has_post_list_selector":function(e,t){return t.includes(TVE.identifier("blog_list"))&&(e=!0),e},"tcb.post_data.existing_post_ids":function(e){return TVE.Theme.template.is_singular()&&e.push(parseInt(TVE.Theme.CONST.ID)),e},"tcb.post_list.article_id":function(e,t){return 0===t.closest(TVE.identifier("article")).length&&(e=TVE.Theme.CONST.ID),e},"tcb.post_list.shortcode_tag":function(e,t){return t.is(TVE.identifier("blog_list"))&&(e="thrive_blog_list"),e},"tcb.show_post_inline_shortcodes":function(e){return TVE.Theme.template.is_singular()&&(e=!0),e},"tcb.post_list.query_builder.show_related_taxonomies":function(){return TVE.Theme.template.is_singular()},editor_loaded_callback:function(){TVE.Theme.template.is_singular()&&(TVE.main.sidebar_toggle_elements(_.filter(TVE.Elements,function(e){return"Article Components"===e.category}).map(function(e){return e.tag}),!0),TVE.PostList.utils.onlyPostListElements(!1)),TVE.Components.post_list.filterPosts=function(){TVE.Components.post_list.q_modal.$el.toggleClass("blog-list-query",TVE.ActiveElement.is(TVE.identifier("blog_list"))),TVE.Views.Components.post_list.prototype.filterPosts.call(TVE.Components.post_list)}},"tcb.post_list.import.before_css_insert":function(e,t){var n=TVE.identifier("blog_list");if(t.is(n)){var i=TVE.identifier("post_list"),o='[data-css="'.concat(t.attr("data-css"),'"]');e=(e=e.replace(TVE.Theme.utils.escapedRegEx("".concat(i).concat(o),"g"),n)).replace(TVE.Theme.utils.escapedRegEx("".concat(o).concat(i),"g"),n),t.attr("data-element-name","Blog List"),t.removeAttr("data-css"),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(n,"g"),"_ALL")}return e},"tcb.post_list.add_linked_elements":function(e,t){return t.is(TVE.Theme.models.Section.contentSelector)&&(e=!1),e},tcb_post_list_attr:function(e,t,n){if(n){var i=TVE.PostList.utils.getPostListForFeatured(t);i.length&&i.is(TVE.identifier("blog_list"))&&t.attr("data-template-id",TVE.Theme.template.ID)}return e}};t.exports=i},"sidebar-visibility.js":function(e,t,n){jQuery,t.exports={"tcb.inner_actions.right_icons":function(e){return e.show_sidebar={name:"eye-regular",fn:"showSidebar",selector:"show_sidebar",property:"show_sidebar",text:"Show Sidebar",textPosition:"left"},e.hide_sidebar={name:"eye-slash-regular2",fn:"hideSidebar",selector:"hide_sidebar",property:"hide_sidebar",text:"Hide Sidebar",textPosition:"left"},e},before_editor_events:function(){TVE.IconsView=TVE.IconsView.extend({showSidebar:function(){TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections.sidebar).toggle(!0),this.afterSidebarToggle()},hideSidebar:function(){TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections.sidebar).toggle(!1),this.afterSidebarToggle()},afterSidebarToggle:function(){TVE.Theme.utils.getSectionInstance()||TVE.Theme.utils.refreshThemeContainerComponent(TVE.ActiveElement),this.hide_icons()}})},"tcb.inner_actions.hide_icon":function(e,t,n){if(["showSidebar","hideSidebar"].includes(t.fn)&&(e=!0,TVE.Theme.models.Section.is(n.parent()))){var i=TVE.Theme.utils.getSectionInstance(n);("showSidebar"===t.fn&&"content"===i.type&&TVE.Theme.models.Layout.isSidebarHidden()||"hideSidebar"===t.fn&&"sidebar"===i.type)&&(e=!1)}return e},"tcb.inner_actions.can_show_icons":function(e,t){return TVE.Theme.models.Section.is(t)&&(e=!0),e}}},"symbol.js":function(e,t,n){var i,o;i=jQuery,o=n("../models/content"),t.exports={"tcb.symbol.before_save":function(e){var t=i("<div>"+e.symbol_content+"</div>");return TVE.ActiveElement||TVE.main.EditMode.element(),e.icons=o.icons(t),TVE.Theme.content.init_selectors(t),o.elementClasses(t),o.shortcodes(t),TVE.apply_filters("theme.parse_content",t,"symbol"),e.symbol_content=t.html(),e.symbol_css=TVE.Theme.utils.replaceInSymbolCss(e.symbol_css),e},"tcb.symbol_classes":function(e){return TVE.CONST.theme.is_theme_template&&(e+=" tcb-selector-no_clone tcb-selector-no_save"),e},"tcb.symbol_css_before_save":function(e){return TVE.Theme.utils.replaceInSymbolCss(e)},"tcb.symbol.unlink_css":function(e){return TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE=!1,e=e.replace(/\){([^@]*)}/g,function(e,t){var n="";return t.split("}").forEach(function(e){e.trim().length&&(n+=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e)+"}")}),"){ ".concat(n,"}")}),delete TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE,TVE.remove_extra_spaces(e)},"tcb.insert_section_element":function(e,t){var n=e.find(".thrv_wrapper");return TVE.PostList.utils.replaceElementTag(n,"<"+t+"></"+t+">"),e}}},"theme-section.js":function(e,t,i){!function(o){var n=i("../models/section");i("../models/hf-section");t.exports={"tcb.show_icons.target":function(e){return n.is(e)?e=e.addClass("edit_mode").find(" > div ").removeClass("edit_mode").filter(".section-background"):e.hasClass("section-content")?e=e.removeClass("on_hover active_highlight ").siblings(".section-background").addClass("on_hover active_highlight "):e.hasClass("main-content-background")&&e.hasClass("edit_mode")?e.removeClass("edit_mode").parents("#content").addClass("edit_mode"):"content"===e.attr("id")&&(e=e.addClass("edit_mode").find(".main-content-background").removeClass("edit_mode")),e},"tcb.element_selected":function(e,t){return"theme_section"===t&&(e=n.parentSection(e)),"template-content"===t&&(e=e.closest("#content")),e},"tcb.bg_effects_elements":function(e){return e.concat("theme_section")},"tcb.jumplinks.change_target":function(e){return e.is("".concat(n.backgroundSelector,", ").concat(n.contentSelector))&&(e=e.parent()),e},"tcb.dragenter.bubble":function(e,t){var n=o(t.target),i=TVE.Theme.utils.getSectionInstance(n);return i&&(i.constructor.is(n)||i.isContent(n)||i.isBackground(n))&&(i.$content.children().length?e=!1:i.isDynamic()&&!i.inEditMode()&&(e=!1)),(TVE.Theme.models.HFSection.is(n)||TVE.Theme.models.HFSection.is(n.parent()))&&(e=!1),e},"tcb.allow_drop_near":function(e,t){return t.hasClass("section-content")&&(e=!1),e},"tcb.elements.allow_insert_on_click":function(e){TVE.CONST.theme.is_theme_template&&(void 0===_.find(TVE.Theme.$sections,function(e){return TVE.Theme.utils.canDropIntoSection(e)})&&(e=!1));return e},"tcb.change_target":function(e){return TVE.Theme.content.getSectionDropzoneTarget(e)},"tve.css_variable.selector":function(e,t){var n=TVE.Theme.utils.getSectionInstance(t);return t.closest(n.$element).length&&!e.includes(n.selector)&&(e="".concat(TVE.Theme.CONST.body_class," ").concat(n.baseSelector," ").concat(e)),e}}}(jQuery)}},"hooks-priorities.js":function(e,t,n){t.exports={"tve.css_variable.selector":20}},"main.js":function(e,t,n){jQuery(window).on("tcb_main_ready",function(){TVE.CONST.theme.is_theme_template&&(TVE.main.on("tve.tve_save_post",function(e){e.preventSave=!0,e.return={always:function(e){"function"==typeof e&&e()}},TVE.Theme.content.save()}),TVE.Theme.switchContent=new TVE.Theme.views.SwitchContent,TVE.Theme.modals.sectionTemplates=new(n("./modals/section-templates-block"))({el:TVE.modal.get_element("section-templates-block")}),TVE.Theme.modals.sectionSave=new(n("./modals/section-save"))({el:TVE.modal.get_element("section-save")}),TVE.CONST.debug_mode&&TVE.Theme.utils.addDebugButton())}).on("tcb.register-hooks",function(){TVE.Theme=_objectSpread({},TVE.Theme||{},{selectedSection:null,$wrapper:null,FLAGS:{},modals:{},data:{cloud:{},local:{}},utils:n("./utils"),content:n("./content"),constants:n("./constants"),selectors:n("./selectors"),models:n("./models/_includes")}),TVE.Theme.template=new TVE.Theme.models.Template(TVE.CONST.theme.template),_.each(TVE.Theme.selectors.editor.architect,function(t,e){t.length&&TVE.add_filter("selectors_"+e,function(e){return e+","+t.join(",")})});var t=n("./hooks-priorities");n("./filters/_includes").forEach(function(e){TVE.add_filter(e.tag,e.callback,t[e.tag])}),n("./actions/_includes").forEach(function(e){TVE.add_action(e.tag,e.callback,t[e.tag])}),_.each(n("../../everywhere/actions"),function(e,t){return TVE.add_action(t,e)}),_.each(n("../../everywhere/filters"),function(e,t){return TVE.add_filter(t,e)})})},modals:{"comments-error-messages.js":function(e,t,n){var i=null;t.exports=TVE.modal.base.extend({is_valid:!0,invalid_inputs:[],has_fixed_footer:function(){return!0},render_errors:function(){this._get_fields_container().empty(),_.each(this.model.attributes,function(e,t,n){this.render_error({key:t,value:e,label:TVE.CONST.theme.comments_form.error_defaults[t]})},this)},restore_defaults:function(){_.each(TVE.CONST.theme.comments_form.error_defaults,function(e,t,n){this._set(t,e)},this),this.render_errors()},change:function(e,t){var n=t.value,i=t.getAttribute("data-key");this._set(i,n)},input:function(e,t){if(t.classList.contains("tcb-invalid")){t.classList.remove("tcb-invalid");var n=jQuery(t).next().removeClass("tcb-invalid");n.text(n.data("label"))}},_set:function(e,t){return this.model.set(e,t),!0},_get_fields_container:function(){return this.$container||(this.container=this.$(".tcb-fields-error").first()),this.container},render_error:function(e){var t=TVE.tpl("lead-generation/errors/item");e=e||{},e=_.extend({key:"key",label:"label",value:"value"},e),this._get_fields_container().append('<div class="col-xs-6">'+t({item:e})+"</div>")},save:function(e){if("function"==typeof this.before_save&&this.before_save.call(this,e),!1!==this.is_valid)return this.close(),this.undelegateEvents(),e.preventDefault(),!1;for(var t in this.invalid_inputs){var n=this.$('input[name="'+this.invalid_inputs[t]+'"]').addClass("tcb-invalid").next("label");n.addClass("tcb-invalid").attr("data-label",n.text().trim()).html(TVE.ucFirst(this.invalid_inputs[t]+" error is required"))}return!1}},{get_instance:function(e,t){return i||(i=new TVE.CommentsErrorMessages({el:e,model:t||new Backbone.Model})),i}})},"layout-templates.js":function(e,t,n){var i=n("../models/layout"),o=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("ttd-templates-modal"),this.$layoutName=this.$(".new-template-name")},before_open:function(){this.$layoutName.val("")},save:function(){var e=this,t=this.$layoutName.val();t&&i.getInstance().save(t,function(){e.close()})}});t.exports=new o({el:TVE.modal.get_element("layout-templates")})},"post-content-delete.js":function(e,t,n){t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},after_open:function(e){this.$target=e.$target},deletePostContentElement:function(){this.close(),TVE.Theme.FLAGS.DELETING_POST_CONTENT=!0,TVE.Editor_Page.remove_element(this.$target),delete TVE.Theme.FLAGS.DELETING_POST_CONTENT}})},"reset-template.js":function(e,t,n){var i;i=jQuery,t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},reset:function(){var e=this;this.$el.addClass("ttd-loading"),i.ajax({url:TVE.CONST.theme.routes.templates+"/"+TVE.CONST.post.ID,type:"POST",data:{action:"reset_template"},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).success(function(){location.reload()}).error(function(){TVE.page_message("Unable to reset template",!0,5e3)}).done(function(){e.$el.removeClass("ttd-loading")})}})},"section-save.js":function(e,t,n){t.exports=TVE.modal.base.extend({after_initialize:function(){this.$sectionName=this.$(".new-section-name"),this.$sectionType=this.$(".new-section-type"),this.$imageContainer=this.$(".section-preview-image"),this.$image=this.$imageContainer.find("img")},before_open:function(e){this.section=e.section;var t=TVE.ucFirst(this.section.type);this.$section=this.section.$element,this.$sectionName.attr("value","Custom ".concat(t," Section")).trigger("focus"),this.$sectionType.html(t),this.$el.toggleClass("vertical-sections",this.section.isVertical()),this.beforeImageLoad()},after_open:function(){var n=this;setTimeout(function(){var t=n.section.getContentToPreview();TVE.generateElementPreview(t,function(e){t.remove(),n.afterImageLoad(e)},TVE.Theme.constants.defaultPreviewOptions,!0)},10)},beforeImageLoad:function(){var e,t,n=this.$section.outerWidth(!0);t=this.section.isHorizontal()?(e=TVE.Theme.constants.HORIZONTAL_LAYOUT_WIDTH-TVE.Theme.constants.HORIZONTAL_LAYOUT_PADDING,this.$section.outerHeight(!0)*e/n):(e=TVE.Theme.constants.VERTICAL_LAYOUT_WIDTH-TVE.Theme.constants.VERTICAL_LAYOUT_PADDING,TVE.Theme.constants.SIDEBAR_CROPPED_HEIGHT),this.$imageContainer.addClass("ttd-loading-spinner").css({height:t+"px",width:e+"px"}),this.$image.attr("src",this.$image.attr("data-loading-src"))},afterImageLoad:function(e){this.$imageContainer.removeClass("ttd-loading-spinner").css({height:"",width:""}),this.$image.attr("src",e),this.section.previewImage=e},save:function(){var t=this;if(!this.duringAjax){var e=this.$sectionName.val();e?(this.duringAjax=!0,this.section.save(e,function(e){t.close()}).always(function(){t.duringAjax=!1})):alert("Please enter section title!")}}})},"section-templates-block.js":function(e,t,n){var a;a=jQuery,t.exports=TVE.LpBlockModal.extend({blocksCollection:new Backbone.Collection({}),item_template:TVE.tpl("theme-main/template-item"),itemClass:".section-template-item ",filters:{category:[],group:[],search:[]},groupMap:{},tooltipOpen:!1,renameInProgress:!1,after_initialize:function(){var e=this;this.$content=this.$el,this.$cloudMenu=this.$("#cb-cloud-menu"),this.$packTitle=this.$("#lp-blk-pack-title"),this.$packDescription=this.$("#lp-blk-pack-description"),this.$packContent=this.$("#cb-pack-content"),this.$packGroupsWrapper=this.$("#lp-groups-wrapper"),this.$error=this.$(".error-container").hide(),window.addEventListener("resize",function(){e.windowResized=!0}),this.initClickHandler()},before_open:function(e){this.resetFilters(),this.section=e.section,this.$el.attr("data-columns",this.section.isHorizontal()?2:4),this.$packContent.empty(),this.$section=e.section.$element,this.displayName=TVE.ucFirst(this.section.type),this.groupMap={cloud:{key:"Theme ".concat(this.displayName," Sections")},local:{key:"My Saved ".concat(this.displayName," Sections")}},this.$packTitle.text("".concat(this.displayName," Sections")),this.$packDescription.text("".concat(this.displayName," Sections available for the current theme.")),this.$el.addClass("loading"),this.$(".tve-modal-content").attr("class","tve-modal-content tpl-".concat(this.section.type))},initClickHandler:function(){var n=this;this.$el.on("click",function(e){var t=a(e.target);n.tooltipOpen&&0===t.closest(".tcb-template-options-tooltip, .ttd-dropdown-dots").length?n.closeOptionsTooltip():n.renameInProgress&&0===t.closest(".template-name-section-edit, .tcb-template-options-tooltip").length&&n.triggerRename()})},triggerRename:function(){var e=this.$packContent.find(".section-template-edit");0<e.length&&e.find(".template-name-check").click()},handle_keyup:function(e){if(this.renameInProgress)switch(e.which){case 13:return this.triggerRename(),!1;case 27:return this.closeRename(),!1}return!1},after_open:function(e){var t=this;a.when(e.sectionsLoaded).always(function(){return setTimeout(function(){return t.$el.removeClass("loading")},80)}).then(function(){t.setSections(),t.activateFirstTab(),TVE.LpBlockModal.prototype.after_open.call(t)})},setSections:function(){var e,n=this,t=[].concat(_toConsumableArray(this.addSourceToTemplates(TVE.Theme.data.cloud[this.section.type],"cloud")),_toConsumableArray(this.addSourceToTemplates(TVE.Theme.data.local[this.section.type],"local")));t=this.addThumbnailRatios(t),this.blocksCollection.reset(t),this.groups=(_defineProperty(e={},this.groupMap.cloud.key,{counter:_.filter(t,function(e){return"cloud"===e.source}).length}),_defineProperty(e,this.groupMap.local.key,{counter:_.filter(t,function(e){return"local"===e.source}).length}),e),this.$packGroupsWrapper.empty(),_.each(this.groups,function(e,t){n.$packGroupsWrapper.append(n.group_item({group:t,counter:e.counter}))})},activateFirstTab:function(){this.filters.group.push(this.groupMap.cloud.key),this.$packGroupsWrapper.find(".lp-group").first().addClass("active")},load:function(e,t){this.close();var n=t.dataset.id.replace(t.dataset.source[0],"");this.section.load(n,t.dataset.source,t.dataset.version)},openRename:function(e){var t=a(e.target).closest(this.itemClass);t.addClass("section-template-edit").find(".template-rename-input").focus().select(),this.closeOptionsTooltip(),this.renameInProgress=t.attr("data-id")},closeRename:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.$(this.itemClass.trim()+'[data-id="'.concat(this.renameInProgress,'"]')),n=t.find(".template-rename-input"),i=t.find(".template-name");t.removeClass("section-template-edit").find(".template-name-check").removeClass("ttd-loading small"),e?n.val(i.text()):i.text(n.val())},renameSection:function(e){var n=this,t=a(e.target).closest(".template-name-check"),i=t.closest(this.itemClass),o=t.prev(".template-rename-input").val();t.addClass("ttd-loading small"),o?this.duringAjax||(this.duringAjax=!0,TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(i.attr("data-id").substring(1)),type:"POST",data:{title:o},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){TVE.Theme.utils.loadingMessage("Section renamed successfully!"),setTimeout(function(){return TVE.Theme.utils.loadingMessage(!1)},1e3),n.closeRename(!1);var t=_.findWhere(TVE.Theme.data.local[n.section.type],{id:parseInt(e)});t&&(t.name=o),TVE.Components.theme_section.sectionSelect.update()}).always(function(){n.duringAjax=!1,n.renameInProgress=!1})):alert("Please enter a section title!")},openDelete:function(e){a(e.target).closest(this.itemClass).addClass("section-template-delete").find(".cb-template-wrapper").removeClass("click"),this.closeOptionsTooltip()},hideDelete:function(e){a(e.target).closest(this.itemClass).removeClass("section-template-delete")},delete:function(e){var i=this,o=e.target,s=parseInt(o.dataset.id.substring(1));s&&!this.duringAjax&&(this.duringAjax=!0,this.section.delete(s).done(function(e){i.blocksCollection.remove(i.blocksCollection.get(s)),a(o).closest(i.itemClass).remove();var t=i.$packGroupsWrapper.find(".active .lp-group-count"),n=parseInt(t.text())-1;t.text(n),0<n?i.applyMasonry():i.$packContent.html(i.no_templates())}).always(function(){i.duringAjax=!1}))},openOptionsTooltip:function(e){a(e.target).closest(".template-name-section").toggleClass("tooltip-open"),this.tooltipOpen=!0},closeOptionsTooltip:function(){this.tooltipOpen&&(this.$packContent.find(".tooltip-open").removeClass("tooltip-open"),this.tooltipOpen=!1)},addSourceToTemplates:function(e,t){var n=this;return e=_.map(e,function(e){return _objectSpread({},e,{id:"".concat(t[0]).concat(e.id),source:t,group:[n.groupMap[t].key],name:e.name||e.post_title})})},addThumbnailRatios:function(e){return e.map(function(e){var t=1;if(e.thumb&&e.thumb.w&&e.thumb.h){var n=parseInt(e.thumb.w),i=parseInt(e.thumb.h);t=parseFloat(i/n).toFixed(3)}return e.ratio=t,e})},no_templates:function(){return TVE.tpl("theme-main/no-sections-available")({modal:this})},renderFirstTab:function(){this.resetFilters(),this.activateFirstTab(),this.build_preview()},getMasonryOptions:function(){return{gutter:".tpl-gutter-sizer",columnWidth:this.itemClass,isAnimated:!0}}})},"switch-confirmation.js":function(e,t,n){t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},after_open:function(e){this.href=e.href,this.context=e.context},continueWithoutSaving:function(){window.onbeforeunload=null,this.close(),window.location=this.href},saveAndContinue:function(){var e=this;window.onbeforeunload=null,this.close();var t=function(){window.location=e.href};this.context===TVE.Theme.constants.THEME_CONTEXT?TVE.Theme.content.save(t,!0,!1):this.context===TVE.Theme.constants.ARCHITECT_CONTEXT&&TVE.Editor_Page.save(!0,t,{},!0)}})}},models:{"_includes.js":function(e,t,n){t.exports={Content:n("./content"),Layout:n("./layout"),Section:n("./section"),HFSection:n("./hf-section"),Template:n("./template")}},"abstract-section.js":function(e,t,n){var i=function(){function t(e){_classCallCheck(this,t),this.$element=e,this.ID=parseInt(this.attr("data-id")||0),this.type=this.attr("data-section"),TVE.Theme.data.local[this.type]&&TVE.Theme.data.local[this.type][this.ID]&&(this.sectionData=TVE.Theme.data.local[this.type][this.ID]),this.setElements()}return _createClass(t,[{key:"isHorizontal",value:function(){throw Error("Class should implement the isHorizontal function")}},{key:"isVertical",value:function(){throw Error("Class should implement the isVertical function")}},{key:"selector",get:function(){return""}},{key:"baseSelector",get:function(){return""}}],[{key:"identifier",get:function(){return""}},{key:"component",get:function(){throw Error("Class should implement component function")}},{key:"contentSelector",get:function(){return""}},{key:"backgroundSelector",get:function(){return""}}]),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$background=this.$element.find(this.constructor.backgroundSelector)}},{key:"updateAttr",value:function(){this.$element.attr("data-selector",this.selector),this.isDynamic()?(this.$content.attr("data-selector","".concat(this.constructor.contentSelector)),this.$background.attr("data-selector","".concat(this.constructor.backgroundSelector))):(this.$content.attr("data-selector","".concat(this.baseSelector," ").concat(this.constructor.contentSelector)),this.$background.attr("data-selector","".concat(this.baseSelector," ").concat(this.constructor.backgroundSelector)))}},{key:"isDynamic",value:function(){return!!this.ID}},{key:"isVisible",value:function(){return!this.$element.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)}},{key:"toggle",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.$element.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,!e),"sidebar"===this.type&&(TVE.Theme.content.updateResizeHandlersPosition(),TVE.PostList.layout.masonryRedo()),this.constructor.component.controls.PageMap.update(this.$element),this.constructor.is(TVE.ActiveElement)&&this.constructor.component.update(TVE.ActiveElement)}},{key:"isContent",value:function(e){return e.is(this.$content)}},{key:"isBackground",value:function(e){return e.is(this.$background)}},{key:"inEditMode",value:function(){return this.$element.hasClass("tcb-compact-edit-mode")}},{key:"inheritsContent",value:function(){return 0===TVE.Theme.$wrapper.tcbCss("--".concat(this.type,"-content-width")).length}},{key:"setWidth",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i="--".concat(this.type,"-").concat(t,"-width");n?(TVE.Theme.$wrapper.head_css(_defineProperty({},i,e)),TVE.Theme.$wrapper.tcbCss(i,"")):TVE.Theme.$wrapper.tcbCss(i,e)}},{key:"getWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"content";return TVE.Theme.$wrapper.tcbCss("--".concat(this.type,"-").concat(e,"-width"))}},{key:"hasFullWidthContent",value:function(){return"100%"===this.getWidth("content")}},{key:"hasFullWidthBackground",value:function(){return"100%"===this.getWidth("background")}},{key:"startPreview",value:function(){this.$element.addClass("tcb-generating-preview"),this.constructor.component.sectionSelect.showPreviewLoader()}},{key:"applyPreview",value:function(e){this.$element.removeClass("tcb-generating-preview section-no-overlay"),e.url=e.url+"?v="+Math.random().toString(16).slice(2),TVE.Theme.data.local[this.type][this.ID].thumb=e,this.sectionData&&this.sectionData.thumb&&(this.sectionData.thumb=e),this.constructor.component.sectionSelect.setSection(this).update()}},{key:"generatingPreview",value:function(){return this.$element.hasClass("tcb-generating-preview")}},{key:"attr",value:function(e){return this.$element.attr(e)}},{key:"name",value:function(){var e="Unlinked ".concat(this.type);return e=this.sectionData?this.sectionData.name:this.attr("data-section-name")||e,e}},{key:"preview",value:function(){var e="";return this.sectionData&&this.sectionData.thumb&&(e=this.sectionData.thumb.url),e}},{key:"beforeSave",value:function(e){this.ID=parseInt(e),this.updateAttr(),this.convertCssToSection()}},{key:"afterSave",value:function(){this.focus(),TVE.Theme.utils.loadingMessage(!1,"save-section"),this.constructor.saveTemplate(!0,!1)}},{key:"beforeInsert",value:function(e){var t=(this.isDynamic()?"":TVE.Theme.CONST.body_class+" ")+this.selector;TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(t,"g"),"_ALL"),this.ID=parseInt(e.id),TVE.Theme.FLAGS.duringImport=!0}},{key:"afterInsert",value:function(e){TVE.Theme.FLAGS.duringImport=!1,TVE.froala.init(),this.focus(),TVE.Theme.content.init_selectors(this.$element),this.constructor.saveTemplate(!0),TVE.do_action("theme.section.load",e,this),TVE.do_action("theme.section.load.".concat(this.type),e,this),TVE.Theme.utils.loadingMessage(!1),this.bindElementActions()}},{key:"convertCssToTemplate",value:function(e){void 0===e&&(e=TVE.stylesheet.cssRules);for(var t=TVE.identifier("post_list"),n=0;n<e.length;n++){var i=TVE.compat.conditionText(e[n]),o={};if(e[n].type===CSSRule.MEDIA_RULE&&i&&i.length){for(var s=0;s<e[n].cssRules.length;s++){var a=e[n].cssRules[s].selectorText;a.includes(this.selector)&&(a=a.replace(TVE.Theme.utils.escapedRegEx("".concat(this.selector),"g"),"".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector)),TVE.Theme.template.is_singular()&&!a.includes(t)&&(a=TVE.PostList.dynamicImage.replaceDynamicImage(TVE.Theme.CONST.ID,a)),void 0===o[a]&&(o[a]={}),o[a]=_objectSpread({},o[a],{},TVE.CSS_Rule_Cache.cssToObject(e[n].cssRules[s].cssText)),e[n].deleteRule(s--))}for(var r in o)TVE.head_css(r,o[r],i)}}}},{key:"convertCssToSection",value:function(e){void 0===e&&(e=TVE.stylesheet.cssRules);for(var t=0;t<e.length;t++)if(e[t].type===CSSRule.MEDIA_RULE)for(var n=0;n<e[t].cssRules.length;n++){var i=e[t].cssRules[n];if(i.selectorText.includes(this.baseSelector)){var o=i.cssText.replace(TVE.Theme.utils.escapedRegEx("".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector),"g"),this.selector);e[t].deleteRule(n),e[t].insertRule(TVE.remove_extra_spaces(o),n)}}}},{key:"getContentToPreview",value:function(){var e=this.$element.clone(),t=this.$element.width(),n=t*(this.isHorizontal()?1:2);return TVE.Theme.utils.fixClonedImageHeights(e,this.$element),e.addClass("preview-cloned-content").attr("style","position: absolute !important; top: -100000px !important; width: ".concat(t,"px !important")).insertAfter(this.$element),e.removeClass("edit_mode layout-highlight"),TVE.Theme.utils.filterContentByHeight(e.find(this.constructor.contentSelector),n),e}},{key:"toggleComponents",value:function(){}},{key:"focus",value:function(){TVE.Editor_Page.focus_element(this.$element.removeClass("edit_mode"))}},{key:"delete",value:function(e){var t=this;return TVE.$.ajax({url:TVE.CONST.theme.routes.sections+"/"+e,type:"DELETE",headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},data:{type:this.type}}).done(function(){delete TVE.Theme.data.local[t.type][e],parseInt(t.ID)===parseInt(e)&&t.unlink(!0),TVE.StorageManager.set("theme_section.remove",{id:e,type:t.type}),TVE.Theme.utils.loadingMessage("Section deleted successfully!"),setTimeout(function(){return TVE.Theme.utils.loadingMessage(!1)},1e3)}).error(function(e){TVE.wordfenceResponse(e)||TVE.page_message("Error deleting the section!",!0,3e3)})}},{key:"unlink",value:function(){throw Error("Class should implement the unlink function")}},{key:"bindElementActions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$element;TVE.drag.bind_element(e)}}],[{key:"saveTemplate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e||TVE.Theme.utils.loadingMessage("Updating also the template!","save-template"),TVE.Theme.content.save(function(){TVE.Theme.utils.loadingMessage(!1,"save-template")},!0,t)}},{key:"is",value:function(e){return e.is(this.identifier)}},{key:"parentSection",value:function(e){return e.closest(this.identifier)}},{key:"getInstance",value:function(e){var t=null;if(void 0===e&&(e=TVE.ActiveElement),this.is(e)?t=new this(e):(e=this.parentSection(e)).length&&(t=new this(e)),null===t)throw Error("Those are not the sections you're looking for!");return t}},{key:"fetchListFromCloud",value:function(t){var n=TVE.$.Deferred();return TVE.Theme.data.cloud[t]?setTimeout(function(){n.resolve(TVE.Theme.data.cloud[t])},1):TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/cloud"),type:"GET",data:{type:t,template_id:TVE.Theme.template.ID},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){e.success?(TVE.Theme.data.cloud[t]=e.data,n.resolve(e.data)):n.reject("The sections could not be retrieved")}).error(function(e){e.responseJSON&&n.reject(e.responseJSON.message)}),n.promise()}}]),t}();t.exports=i},"content.js":function(e,t,n){var i=function(){function c(e){_classCallCheck(this,c),this.$content=e}return _createClass(c,[{key:"data",value:function(){var e=TVE.Theme.utils.getSpecificStyle(function(e){return!e.includes(TVE.identifier("symbol"))&&e.includes(TVE.Theme.CONST.body_class)}),t=c.clean(this.$content);return c.elementClasses(t),TVE.apply_filters("theme.parse_content",t,"template"),_objectSpread({style:e,layout:c.getLayoutId(),layout_data:TVE.Theme.template.getLayoutDataToSave(),structure:this.structure(t),tve_globals:c.getGlobals()},this.saveSections(t),{},this.noSearchResultContent())}},{key:"structure",value:function(e){return void 0===e&&(e=TVE.Theme.$wrapper.clone()),(e=c.clean(e)).find(".main-content-background, ".concat(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR)).remove(),e.find("".concat(TVE.Theme.models.Section.identifier)).each(function(e,t){var n=TVE.inner_$(t),i=parseInt(t.dataset.id),o={type:n.attr("data-section")},s=["[thrive_template_section"];i&&s.push('id="'.concat(i,'"')),_.each(o,function(e,t){s.push("".concat(t,'="').concat(e,'"'))}),s.push("]"),n.replaceWith(s.join(" "))}),e.find(TVE.identifier("main-container")).each(function(e,t){TVE.inner_$(t).replaceWith("[thrive_main_container]".concat(t.innerHTML,"[/thrive_main_container]"))}),e.find("#content").each(function(e,t){TVE.inner_$(t).replaceWith("[thrive_template_content]".concat(t.innerHTML,"[/thrive_template_content]"))}),e.html()}},{key:"noSearchResultContent",value:function(){var e={},t=TVE.inner.$body.find(TVE.Theme.constants.blog_list.no_results.selector);if(TVE.Theme.template.isSearch()&&0<t.length){var n=TVE.inner_$("<div>".concat(t[0].outerHTML.replace("tcb-permanently-hidden",""),"</div>"));e.no_search_results=TVE.Editor_Page.content_manager.get_clean_content({},n)}return e}},{key:"saveSections",value:function(e){var a={},r={};return e.find(TVE.Theme.models.Section.identifier).each(function(e,t){var n=parseInt(t.dataset.id||0),i=t.dataset.section;if(n)a[i]={id:n};else{var o=TVE.inner_$(t),s=TVE.Theme.models.Section.getInstance(o);r=_objectSpread({},r,{},c.icons(o)),a[i]=_objectSpread({id:0,content:s.getContent()},s.getExtra())}a[i].hide=t.classList.contains("hide-section")?1:0}),[TVE.Theme.$sections.header,TVE.Theme.$sections.footer].forEach(function(e){var t=TVE.Theme.models.HFSection.getInstance(e),n={id:t.ID,hide:e.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)?1:0};t.isDynamic()||(r=_objectSpread({},r,{},c.icons(t.$element)),n.content=t.getContent(),n.sticky=t.$html.attr("data-tve-scroll")||""),a[t.type]=n}),{sections:a,icons:r}}}],[{key:"clean",value:function(t){TVE.Components.pagination.cleanFroalaContent(t),t=TVE.inner_$("<div>".concat(TVE.Editor_Page.content_manager.get_clean_content({},t),"</div>"));var e=["edit_mode","on_hover","active_highlight","tve-droppable","tve-draggable","tcb_similar_edit","tcb-compact-edit-mode"];return["data-selector","draggable"].forEach(function(e){return t.find("["+e+"]").removeAttr(e)}),t.find("."+e.join(",.")).removeClass(e.join(" ")),t.find(".thrv_widget").children(":not(.widget-config)").remove(),t.find(TVE.identifier("header")).remove(),t.find(TVE.identifier("footer")).remove(),t.find(".main-no-results").remove(),t.find(".preview-cloned-content").remove(),t}},{key:"shortcodes",value:function(e){(e=TVE.apply_filters("theme.save_shortcodes",e)).find(".thrive-shortcode").each(function(e,t){var n=t.dataset.shortcode;if(n){var i=TVE.Theme.utils.element_attributes(t,["data-shortcode","data-selector"],!0,!0);_.each(i,function(e,t){e=e.replace(/\'/g,"__SHORTCODE_SINGLE_QUOTE__"),n+=" ".concat(t,"='").concat(e,"'")}),TVE.inner_$(t).replaceWith("[".concat(n,"]"))}}),e.find('[data-dynamic-link!=""][data-dynamic-link]:not(.tve-dynamic-link)').each(function(e,t){t.href=TVE.Theme.utils.applyBrackets(t.getAttribute("data-dynamic-link"))}),TVE.PostList.dynamicImage.saveDynamicImageSources(e),e.find(".wrapper-shortcode").each(function(e,t){var n=t.dataset.shortcode,i=t.dataset.css?" data-css=".concat(t.dataset.css):"";n.length&&TVE.inner_$(t).replaceWith("[".concat(n).concat(i,"]").concat(t.innerHTML,"[/").concat(n,"]"))})}},{key:"elementClasses",value:function(e){e.find(".thrive-shortcode.tve_evt_manager_listen, .thrive-shortcode .tve_evt_manager_listen").each(function(e,t){t.setAttribute("data-class",TVE.PostList.utils.getEventClasses(t.className)),t.setAttribute("data-tcb-events",t.getAttribute("data-tcb-events").replace(/\[/g,"|{|").replace(/\]/g,"|}|"))}),e.find(".tcb-desktop-hidden, .tcb-tablet-hidden, .tcb-mobile-hidden").each(function(e,t){var n=TVE.Theme.utils.getElementResponsiveClasses(t),i=t.dataset.class?t.dataset.class:"";n.forEach(function(e){i.includes(e)||(i+=" ".concat(e))}),t.setAttribute("data-class",i)})}},{key:"getGlobals",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.Editor_Page.editor;return{js_sdk:TVE.Editor_Page.content_manager.getUsedSDKs(e),fb_comment_admins:TVE.Editor_Page.content_manager.getFacebookCommentsModerators(e)}}},{key:"icons",value:function(e){var n={},t=!0,i=!1,o=void 0;try{for(var s,a=TVE.Theme.selectors.icons[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value;e.find(r+" svg.tcb-icon").each(function(e,t){n[void 0===t.dataset.id?t.dataset.name:t.dataset.id]=t.outerHTML})}}catch(e){i=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return n}},{key:"parseContentString",value:function(e){return e=TVE.PostList.dynamicImage.replaceImageShortcodeSrc(e)}},{key:"getLayoutId",value:function(){var e=/thrive-layout-(\d*)/.exec(TVE.inner.$body.attr("class"));return e?parseInt(e.pop()):0}}]),c}();t.exports=i},"hf-section.js":function(e,t,n){var i=n("./abstract-section"),o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,i),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$html=this.$element.find(".thrive-symbol-shortcode:first"),this.$style=this.$element.find(".tve-symbol-custom-style"),this.$background=this.$element.find(".symbol-section-out")}},{key:"isHorizontal",value:function(){return!0}},{key:"isVertical",value:function(){return!1}},{key:"save",value:function(t,n){var i=this;return TVE.ajax("save_symbol","post",{symbol_title:t,tcb_symbols_tax:this.getSectionTermId()}).done(function(e){i.beforeSave(e.data.id),i.update(function(){i.afterSave()}),void 0===TVE.Theme.data.local[i.type]&&(TVE.Theme.data.local[i.type]={}),TVE.Theme.data.local[i.type][i.ID]=i.sectionData={id:i.ID,name:t,type:i.type,thumb:{url:e.data.thumb_url,w:2,h:1}},"function"==typeof n&&n(e)}).error(console.warn)}},{key:"update",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i={id:this.ID,symbol_content:this.getContent(),symbol_css:this.getStyle()};i=TVE.apply_filters("tcb.symbol.before_save",i),TVE.ajax("save_symbol","post",i).done(function(e){TVE.Theme.data.local[t.type][t.ID].content=i.symbol_content,TVE.Theme.data.local[t.type][t.ID].style=i.symbol_css,TVE.Components.symbol.content_preview.generate_preview(t.$element,{post_id:e.data.symbol.ID,file_name:e.data.symbol.ID+".png"}),"function"==typeof n&&n(e)}).error(console.warn)}},{key:"unlink",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.convertCssToTemplate(),this.ID=0,this.updateAttr();var n="";this.$style&&this.$style.length&&(n=this.$style.html()),TVE.Editor_Page.content_manager.insert_head_css(this.convertStyle(n)).done(function(){e.focus(),e.constructor.saveTemplate(t,!1),e.bindElementActions()})}},{key:"load",value:function(n){var i=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"local";2<arguments.length&&void 0!==arguments[2]&&arguments[2];this.$element.addClass("element-loading");var e={id:n,type:this.type},t="local"===o?"get_symbol":"cloud_content_template_download";TVE.ajax(t,"get",e).success(function(e){var t=e.data;"local"===o?(t.id=n,t.style=e.data.css):(t.id=0,t.style=i.convertStyle(e.data.head_css)),i.insert(t)}).error(console.warn)}},{key:"insert",value:function(e){var t=this;this.beforeInsert(e),this.$html.html(e.content),TVE.Editor_Page.content_manager.insert_head_css(e.style).done(function(){t.$element.removeClass("element-loading"),t.afterInsert(e)}),this.setElements(),this.updateAttr()}},{key:"beforeInsert",value:function(i){_get(_getPrototypeOf(t.prototype),"beforeInsert",this).call(this,i),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(this.baseSelector,"g"),"_ALL"),i.content=TVE.inner_$(i.content),i.content.filter(".symbol-section-out[data-css], .symbol-section-in[data-css]").each(function(e,t){var n=TVE.escapedRegEx('[data-css="'.concat(t.dataset.css,'"]'),"g");i.style=i.style.replace(n,"."+TVE.getClassThatContains(t,"symbol-section-")),delete t.dataset.css})}},{key:"convertStyle",value:function(e){var t="__TEMP_SELECTOR__";return e=(e=(e=(e=e.replace(/\.thrv_symbol_\|TEMPLATE_ID\|*/g,t)).replace(/\.thrv_symbol_\d*/g,t)).replace(/\.thrv_symbol\.thrv_\S*/g,t)).replace(new RegExp(t,"g"),"".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector))}},{key:"updateAttr",value:function(){_get(_getPrototypeOf(t.prototype),"updateAttr",this).call(this);var e=this.$element.attr("class").replace(/thrv_symbol_\d*/,"");this.$element.attr("class",e),this.isDynamic()?(this.$element.addClass(this.selector.replace(".","")).attr("data-id",this.ID),this.$html.attr("data-symbol-id",this.ID)):(this.$element.removeAttr("data-id").removeAttr("data-section-name"),this.$html.removeAttr("data-symbol-id")),this.$element.toggleClass("symbol-edit-mode",!this.isDynamic()||this.inEditMode()),this.$html.attr("data-selector","".concat(this.selector," .thrive-symbol-shortcode")).toggleClass("thrive-shortcode-html",this.isDynamic()&&!this.inEditMode())}},{key:"getStyle",value:function(){var i=this,e=TVE.Theme.utils.getSpecificStyle(function(e){var t=i.isDynamic(),n=e.includes(TVE.Theme.CONST.body_class);return(t&&!n||!t&&n)&&e.includes(i.selector)}),n=e.fonts.join("");return _.each(e.css,function(e,t){n+="@media ".concat(t," {").concat(e,"}")}),n}},{key:"getContent",value:function(){var e=TVE.Theme.models.Content.clean(this.$html);return e.find(".tve-symbol-custom-style").remove(),TVE.Theme.models.Content.elementClasses(e),TVE.Theme.models.Content.shortcodes(e),TVE.apply_filters("theme.parse_content",e,"section"),e.html()}},{key:"getSectionTermId",value:function(){var t=this,e=TVE.CONST.sections_tax_terms.find(function(e){return e.slug==="".concat(t.type,"s")});return e&&e.term_id?e.term_id:0}},{key:"baseSelector",get:function(){return".thrv_".concat(this.type)}},{key:"selector",get:function(){return this.ID?".thrv_symbol_".concat(this.ID):this.baseSelector}}],[{key:"identifier",get:function(){return".thrv_header,.thrv_footer"}},{key:"component",get:function(){return TVE.Components["theme-hf"]}},{key:"contentSelector",get:function(){return".symbol-section-in"}},{key:"backgroundSelector",get:function(){return".symbol-section-out"}}]),t}();t.exports=o},"layout.js":function(e,t,n){var i=function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,a),this.ID=e,this.setMeta(t)}return _createClass(a,[{key:"selector",get:function(){return".thrive-layout-".concat(this.ID)}}],[{key:"prefix",get:function(){return":not(#layout)"}}]),_createClass(a,[{key:"getMeta",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return e?this.meta[e]:this.meta}},{key:"setMeta",value:function(e){e&&e.meta_input&&!e.meta_input.content_width&&(e.meta_input.content_width=a.getContentWidth()),this.meta=e.meta_input}},{key:"name",value:function(){var t=this,e="Custom";if(this.ID){var n=TVE.CONST.theme.layouts.find(function(e){return e.ID===t.ID});n&&(e=n.post_title)}return e}},{key:"save",value:function(t,n){var i=this;TVE.Theme.utils.loadingMessage("Saving Layout"),TVE.$.ajax({url:TVE.CONST.theme.routes.layouts,type:"POST",data:{post_title:t},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){i.convertCss(e),TVE.CONST.theme.layouts.push({ID:e,post_title:t}),i.update(!0),"function"==typeof n&&n(e)}).error(function(e){TVE.page_message("Error saving the layout!",!0,3e3)}).always(function(){TVE.Theme.utils.loadingMessage(!1)})}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.ID)return!e&&TVE.Theme.utils.loadingMessage("Updating layout"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.layouts,"/").concat(this.ID),type:"POST",data:{meta_input:_objectSpread({template_id:TVE.Theme.template.ID,style:{css:this.getStyle()}},a.getDataFromPage())},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(t){var e=TVE.CONST.theme.layouts.findIndex(function(e){return e.ID===t.data.ID});-1===e?TVE.CONST.theme.layouts.push(t.data):TVE.CONST.theme.layouts[e]=t.data,a.getStyleNode().html(t.style),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(a.prefix,"g"),"_ALL"),TVE.do_action("theme.layout.after_update")}).error(function(e){TVE.page_message("Error saving the layout!",!0,3e3)}).always(function(e){setTimeout(function(){TVE.Theme.utils.loadingMessage(!1)},2e3)});TVE.page_message("Unknown layout to save!",!0,300)}},{key:"getStyle",value:function(){var e,t,n=TVE.stylesheet;for(var i in TVE.stylesheet=a.getStyleNode()[0].sheet,e=this.convertSelector(TVE.CSS_Rule_Cache.getCssForSelector(this.selector),this.selector),TVE.stylesheet=n,t=TVE.$.extend(!0,{},e,this.convertSelector(TVE.CSS_Rule_Cache.getCssForSelector(a.prefix),TVE.Theme.CONST.body_class)))t.hasOwnProperty(i)&&(t[i]=_.map(t[i],function(e,t){return t+"{"+_.map(e,function(e,t){return"".concat(t,":").concat(e)}).join("; ")+"}"}).join(""));return t}},{key:"convertSelector",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n={};for(var i in e)if(e.hasOwnProperty(i)&&"@imports"!==i)for(var o in n[i]={},e[i])if(e[i].hasOwnProperty(o)){var s=o.replace(a.prefix,"").replace(t,this.selector).trim();n[i][s]=e[i][o]}return n}},{key:"convertCss",value:function(e){TVE.inner.$body.addClass("thrive-layout-".concat(e));var t=a.getStyleNode(),n=t.html().replace(TVE.Theme.utils.escapedRegEx("thrive-layout-".concat(this.ID),"g"),"thrive-layout-".concat(e));t.html(n),TVE.inner.$body.removeClass("thrive-layout-".concat(this.ID)),this.ID=e}}],[{key:"load",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length?arguments[2]:void 0;t=parseInt(t),n=parseInt(n),t!==n&&(TVE.Theme.utils.loadingMessage("Loading layout"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.layouts,"/").concat(t),type:"GET",headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){n&&TVE.inner.$body.removeClass("thrive-layout-".concat(n)),TVE.inner.$body.addClass("thrive-layout-".concat(t)),a.getStyleNode().html(e.style),a.fixLayoutStructure(e),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(a.prefix,"g"),"_ALL"),setTimeout(function(){TVE.Theme.utils.loadingMessage(!1),TVE.Theme.content.updateResizeHandlersPosition(),TVE.PostList.layout.masonryRedo(),TVE.Theme.utils.loadingMessage("Updating also the template!","save-template"),TVE.Theme.content.save(function(){TVE.Theme.utils.loadingMessage(!1,"save-template"),"function"==typeof i&&i(t)},!0,!0)},42)}).error(function(e){TVE.page_message("Error loading layout!",!0,3e3),TVE.Theme.utils.loadingMessage(!1)}).always(function(){}))}},{key:"getStyleNode",value:function(){var e=TVE.inner.jQuery("#thrive-theme-layout-css");return 0===e.length&&(e=TVE.inner.jQuery('<style id="thrive-theme-layout-css" type="text/css"></style>')).insertBefore(TVE.inner.jQuery("#thrive-template-css")),e}},{key:"hasUnsavedChanges",value:function(){var n=a.getInstance().getMeta(),e=void 0!==_.find(a.getDataFromPage(),function(e,t){return n[t]!==e});return e||(e=_.some(TVE.CSS_Rule_Cache.getCssForSelector(a.prefix),function(e){return 0<Object.values(e).length})),e}},{key:"fixLayoutStructure",value:function(e){TVE.Theme.$main.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,!!parseInt(e.meta_input.sidebar_on_left)),TVE.Theme.$sections.sidebar.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,!!parseInt(e.meta_input.hide_sidebar))}},{key:"getDataFromPage",value:function(){return{sidebar_on_left:TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?1:0,content_width:this.getContentWidth(),hide_sidebar:this.isSidebarHidden()}}},{key:"isSidebarHidden",value:function(){return TVE.Theme.$sections.sidebar.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)?1:0}},{key:"getContentWidth",value:function(){return a.isFullWidth()?"100%":a.getWidth("content")}},{key:"setWidth",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?TVE.Theme.$wrapper.tcbCss("--layout-".concat(t,"-width"),e):(TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!0,TVE.Theme.$wrapper.head_css(_defineProperty({},"--layout-".concat(t,"-width"),e)),TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!1,TVE.Theme.$wrapper.tcbCss("--layout-".concat(t,"-width"),"")),a}},{key:"getWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return TVE.Theme.$wrapper.tcbCss("--layout-".concat(e,"-width"))}},{key:"isFullWidth",value:function(){return"100%"===a.getWidth("background")}},{key:"getInstance",value:function(){var t=TVE.Theme.models.Content.getLayoutId();return new a(t,TVE.CONST.theme.layouts.find(function(e){return e.ID===t}))}}]),a}();t.exports=i},"section.js":function(e,t,n){var i=n("./abstract-section"),o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,i),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$background=this.$element.find(".section-background")}},{key:"save",value:function(t,n){var i=this;if(!this.ID)return this.removeOverlay(),TVE.Theme.utils.loadingMessage("Saving Section","save-section"),TVE.$.ajax({url:TVE.CONST.theme.routes.sections,type:"POST",data:{post_title:t,meta_input:{type:this.type,singular:TVE.Theme.template.is_singular()?1:0}},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){i.beforeSave(e),i.update(!0,function(){i.afterSave()}),void 0===TVE.Theme.data.local[i.type]&&(TVE.Theme.data.local[i.type]={}),TVE.Theme.data.local[i.type][e]=i.sectionData={id:e,name:t,type:i.type},"function"==typeof n&&n(e)}).error(console.warn).always(function(){setTimeout(function(){TVE.Theme.utils.loadingMessage(!1)},4200)});alert("Section already saved")}},{key:"update",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(this.ID){this.removeOverlay(),e||TVE.Theme.utils.loadingMessage("Updating Section");var i=_objectSpread({style:this.getStyle(),icons:TVE.Theme.models.Content.icons(this.$content),content:this.getContent(),tve_globals:TVE.Theme.models.Content.getGlobals(this.$content)},this.getExtra());TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(this.ID),type:"POST",data:{meta_input:JSON.stringify(i)},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){t.generatePreview(),t.$element.offset().top<TVE.Theme.content.getTemplatePreviewHeight()&&setTimeout(TVE.Theme.content.previewSavedTemplate,10),"function"==typeof n&&n(e)}).error(function(e){TVE.wordfenceResponse(e)||TVE.page_message("Error saving the section!",!0,3e3)}).always(function(){TVE.Theme.utils.loadingMessage(!1)})}else alert("Section was not saved")}},{key:"unlink",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.convertCssToTemplate(),this.ID=0,this.updateAttr(),this.focus(),this.$element.find(TVE.identifier("post_list")).each(function(e,t){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(t))}),this.constructor.saveTemplate(e,!1),this.bindElementActions()}},{key:"load",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"local",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i="cloud"===t?"/cloud":"",o={query_vars:TVE.Theme.CONST.query_vars,template_id:TVE.Theme.template.ID};return _.isEmpty(n)||(o.version=n),this.$background.addClass("section-loading"),600<this.$background.outerHeight()&&this.$background.addClass("long-content"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections).concat(i,"/").concat(e),type:"GET",data:o,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(this.insert.bind(this)).error(function(e){TVE.Theme.utils.loadingMessage(!1)})}},{key:"insert",value:function(e){var t=this;this.beforeInsert(e),this.$element.replaceWith(TVE.inner_$(e.content)),TVE.Theme.$sections[this.type]=TVE.ActiveElement=this.$element=TVE.inner_$(this.selector),this.$element.find(".tcb-post-content-placeholder").removeClass("tcb-post-content-placeholder"),TVE.Theme.sectionHover.listenersInit(this.type),TVE.Editor_Page.content_manager.insert_head_css(e.style).done(function(){t.$background.removeClass("section-loading long-content"),t.afterInsert(e)})}},{key:"getStyle",value:function(){var t=this;return TVE.Theme.utils.getSpecificStyle(function(e){return!e.includes(TVE.Theme.CONST.body_class)&&e.includes(t.selector)&&!e.includes(TVE.identifier("symbol"))})}},{key:"getContent",value:function(){var e=TVE.Theme.models.Content.clean(this.$content);return TVE.Theme.models.Content.elementClasses(e),TVE.Theme.models.Content.shortcodes(e),TVE.apply_filters("theme.parse_content",e,"section"),TVE.Theme.models.Content.parseContentString(e.html())}},{key:"updateAttr",value:function(){if(_get(_getPrototypeOf(t.prototype),"updateAttr",this).call(this),this.isDynamic())this.$element.attr("data-id",this.ID).addClass("thrive-section-".concat(this.ID));else{var e=this.$element.attr("class");e=e.replace(/thrive-section-\d*/,""),this.$element.attr("class",e).removeAttr("data-id")}}},{key:"generatePreview",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];n||TVE.Theme.utils.loadingMessage("Updating section preview.","update-preview"),this.startPreview(),this.getPreviewPromise().then(function(e){return t.savePreview(e,n)})}},{key:"getPreviewPromise",value:function(){var i=this;return new Promise(function(t,e){if(i.previewImage)t(i.previewImage),delete i.previewImage;else{var n=i.getContentToPreview();TVE.generateElementPreview(n,function(e){n.remove(),t(e)},TVE.$.extend(!0,{},TVE.Theme.constants.defaultPreviewOptions),!0)}})}},{key:"savePreview",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];TVE.Theme.utils.savePreviewImage({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(this.ID,"/preview/"),action:"section_preview",image:e,ID:this.ID}).done(this.applyPreview.bind(this)).always(function(){t||TVE.Theme.utils.loadingMessage(!1,"update-preview")})}},{key:"toggleComponents",value:function(){var e=this.isDynamic()&&this.inEditMode()||!this.isDynamic();TVE.Components.background.toggle(e),TVE.Components.borders.toggle(e),TVE.Components.shadow.toggle(e),TVE.Components.layout.toggle(e),TVE.Components.decoration.toggle(e),TVE.Components.typography.toggle(e),TVE.Components.responsive.toggle(e)}},{key:"getBackgroundVideo",value:function(){var e=this.$background.children("iframe"),t=this.$background.children(".wistia_embed").empty(),n=this.$background.children("video.tcb-bg-video"),i=this.$background.children("div.tcb-yt-bg"),o=!1;return e.length?o=e.hasClass("tcb-yt-bg")?'<div id="'+e.attr("id")+'" class="tcb-yt-bg" data-url="'+e.attr("data-url")+'" data-yt-id="'+e.attr("data-yt-id")+'"></div>':e.get(0).outerHTML:i.length?o=i[0].outerHTML:t.length?(o="",t.siblings("script").add(t).each(function(){o+=this.outerHTML})):n.length&&(o=n.get(0).outerHTML),o}},{key:"getDecoration",value:function(){var n={},e=this.getBackgroundVideo(),t=this.$background.find("svg");return t.length&&(n={"clip-id":this.$background.attr("data-clip-id")||"",svg:""},t.each(function(e,t){n.svg+=t.outerHTML})),e&&(n.video=e),n}},{key:"getExtra",value:function(){var e={decoration:this.getDecoration(),comments:this.getCommentsMeta(),attr:this.getAttributes()};if(TVE.Theme.template.isList()){var t=TVE.inner.$body.find(TVE.identifier("blog_list"));e.posts_per_page=t.attr("data-posts_per_page"),TVE.Theme.template.isBlog()&&(e.query=t.attr("data-query"))}return e}},{key:"getAttributes",value:function(){return{class:TVE.Theme.utils.getElementResponsiveClasses(this.$element[0]).join(" ")}}},{key:"getCommentsMeta",value:function(){var e={},t=this.$element.find(TVE.identifier("thrive_comments"));if(0<t.length){var o={},n={};_.each(t,function(e){var t=TVE.$(e),n=t.find(".theme-comments-label"),i=t.find("input, textarea");TVE.Editor_Page.content_manager.cleanup_froala(n),_.each(n,function(e){TVE.$(e).find("small").remove(),o[e.getAttribute("data-comments-label")]=e.innerHTML.replace('<span class="required">*</span>',"")}),_.each(i,function(e){o["placeholder_".concat(e.getAttribute("name"))]||(o["placeholder_".concat(e.getAttribute("name"))]=e.getAttribute("placeholder"))})});var i=t.find(".comment-form-submit .thrv_icon");n.submit_button=i.length?i.get(0).outerHTML:"",n.reply_button=t.find(".comment-reply-link .thrv_icon").first().html(),o.no_comments=TVE.Editor_Page.content_manager.get_clean_content({},this.$element.find(".no-comments")),o.error_msg=this.$element.find(".thrive-theme-comments-error-msg").html(),e={labels:o,icons:n}}return e}},{key:"isOutsideContent",value:function(){return this.$element.parent().is(TVE.identifier("template-wrapper"))}},{key:"removeOverlay",value:function(){this.$element.addClass("section-no-overlay").remove(".section-overlay")}},{key:"isHorizontal",value:function(){return"top"===this.type||"bottom"===this.type}},{key:"isVertical",value:function(){return"content"===this.type||"sidebar"===this.type}},{key:"baseSelector",get:function(){return".".concat(this.type,"-section")}},{key:"selector",get:function(){return this.ID?".thrive-section-".concat(this.ID):this.baseSelector}}],[{key:"identifier",get:function(){return".theme-section"}},{key:"component",get:function(){return TVE.Components.theme_section}},{key:"typographySuffix",get:function(){return["p","li","label",".tcb-plain-text","h1","h2","h3","h4","h5","h6"]}},{key:"contentSelector",get:function(){return".section-content"}},{key:"backgroundSelector",get:function(){return".section-background"}}]),t}();t.exports=o},"template.js":function(e,t,n){var i=function(){function t(e){var n=this;_classCallCheck(this,t),_.each(e,function(e,t){n[t]=e})}return _createClass(t,[{key:"meta",value:function(e,t){var n=this.meta_input;return void 0!==t&&(n[e]=t,this.meta_input=n),n[e]}},{key:"primary",value:function(){return this.meta("primary_template")}},{key:"secondary",value:function(){return this.meta("secondary_template")}},{key:"variable",value:function(){return this.meta("variable_template")}},{key:"format",value:function(){return this.meta("format")}},{key:"is_singular",value:function(){return this.primary()===TVE.Theme.constants.templates.SINGULAR||this.primary()===TVE.Theme.constants.templates.HOME&&this.secondary()===TVE.Theme.constants.templates.PAGE}},{key:"isBlog",value:function(){return this.primary()===TVE.Theme.constants.templates.HOME&&this.secondary()===TVE.Theme.constants.templates.BLOG}},{key:"isSearch",value:function(){return this.primary()===TVE.Theme.constants.templates.SEARCH}},{key:"isAuthor",value:function(){return this.primary()===TVE.Theme.constants.templates.AUTHOR}},{key:"isList",value:function(){var e=this.primary();return e===TVE.Theme.constants.templates.ARCHIVE||e===TVE.Theme.constants.templates.SEARCH||this.isBlog()}},{key:"isArchive",value:function(){return this.primary()===TVE.Theme.constants.templates.ARCHIVE}},{key:"is404",value:function(){return this.primary()===TVE.Theme.constants.templates.error404}},{key:"isWoo",value:function(){return this.secondary()===TVE.Theme.constants.templates.PRODUCT}},{key:"getLayoutDataToSave",value:function(){var e=TVE.Theme.models.Layout.getDataFromPage(),n=TVE.Theme.models.Layout.getInstance().getMeta(),i={};return _.each(e,function(e,t){n&&n[t]!==e&&(i[t]=e)}),i}}]),t}();t.exports=i}},renderers:{"author-follow.js":function(e,t,n){t.exports=TVE.renderers.CONSTRUCTORS.social.extend({setup_defaults:function(){this.config={style:"tve_style_1",button_type:"tve_social_ib",selected:["fb_share","t_share","in_share"]}}})},"links.js":function(e,t,n){var i;i=jQuery,t.exports=TVE.renderers.CONSTRUCTORS.social.extend({setup_defaults:function(){this.config={defaultClasses:"tve_social_items tve_social_custom",style:"tve_links_style_1",button_type:"tve_social_itb",selected:["fb_share","yt_share","t_share"]}},getNetworkFromKey:function(e){return e.replace("_share","")},renderIcon:function(e){var t=TVE.inner_$("symbol#icon-"+e);return TVE.svg_icon({path:t.html(),viewBox:t[0].getAttribute("viewBox"),name:t.find("> title").first().text(),id:t.attr("id")})},render_default:function(){var e=i('<div class="thrv_wrapper thrv_social_custom thrive_'.concat(this.key,'"></div>'));return this.setup_defaults(),this.render_to(e),e},_render_to:function(t,e){var n=this,i=t.find(".tve_social_items");0<i.length?i.removeClass().addClass("".concat(this.config.defaultClasses," ").concat(this.config.style," ").concat(this.config.button_type)):t.html(TVE.tpl("theme-main/author-links-wrapper")({config:this.config}));var o={renderAll:!0,setDynamic:"",href:""};_.each(this.config.selected,function(e){return n.renderItem(e,t,o)}),_.each(TVE.CONST.socialNetworks,function(e,t){n.config.selected.includes(t)||i.find(".tve_s_".concat(t)).remove()})},renderItem:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=this.getNetworkFromKey(e),o=t.find(".tve_s_".concat(e)),s=o.find("a"),a=0<s.length,r={key:e,icon:this.renderIcon(i),network:i,class:"",dataset:""};!a||n.setDynamic||!n.href&&s.hasClass("tve-dynamic-link")?r=Object.assign(r,{class:"tve-dynamic-link",dataset:' data-dynamic-link="thrive_global_fields_url" data-shortcode-id='.concat(i)}):r.href=n.href||s.attr("href");var c=TVE.tpl("theme-main/author-links-item")({data:r});n.renderAll?(o.remove(),t.find(".tve_social_items").append(c)):o.replaceWith(c)}})}},"selectors.js":function(e,t,n){var i=[".thrive-breadcrumbs",".search-submit",".thrive-dynamic-styled-list-item","#comments"],o=n("./constants"),s='.theme-section[data-section="content"] > div,.theme-section[data-section="sidebar"] > div',a=_.map(_.filter(tcb_main_const.elements,function(e){return!1===e.has_icons}),function(e){return e.identifier});i.forEach(function(e){return a.push(e+" .thrv_icon")}),a=a.concat([".thrv-inline-text",'.theme-section:not([data-section="content"],[data-section="sidebar"]) > div']);var r={},c=_.map(_.filter(tcb_main_const.elements,function(e){return!0===e.is_theme_button}),function(e){return e.identifier});_.each(tcb_main_const.elements,function(e){e.shortcode&&(r[e.identifier]=e.shortcode)});var l=_.map(_.filter(tcb_main_const.elements,function(e){return!0===e.has_selector}),function(e){return e.identifier});l=l.concat(o.dynamic_selectors);var d=a.concat(["div.tcb-col","a.tve-froala",".theme-section > div"]),h=["#comments",".theme-dynamic-icon",s],u=[s],m=Object.values(TVE.CONST.theme.element_selectors).filter(function(e){return"#main"!==e}),p={elements:m,containers:[".section-content",".tve_shortcode_editor"],theme_buttons:c,no_drag:d,have_selector:l,compact_elements:[".tcb-post-content","section.widget"]};p.dragenter=p.droppable=_.difference(m.concat([".tve-droppable",".thrv_text_element p"]),d),p.draggable=_.difference(m,d),p.editable=m,p.architect={editable:p.editable,mouseover:p.editable,no_icons:a,no_clone:h,no_delete:u,no_lock:[".thrive-breadcrumbs"],no_unlock:[".thrive-breadcrumbs"],not_editable:[".tcb-post-content *",".thrive_author_box:not(.tcb-compact-edit-mode) *"],no_highlight:[".tcb-post-content *",".thrive_author_box:not(.tcb-compact-edit-mode) *",".theme-section[data-id]:not(.tcb-compact-edit-mode) *"],no_save:[].concat(_toConsumableArray(Object.keys(r)),["#comments",".tve_lg_input_container",".thrv_symbol",".tcb-col",s])},t.exports={haveDynamicPrefix:{thrive_dynamic_list:["dynamic-list-icon","dynamic-list-item","dynamic-list-text"],thrive_breadcrumbs:["breadcrumbs_leaf","breadcrumbs_path","breadcrumbs_icon"]},shortcodes:r,editor:p,icons:i}},"switch-editor.js":function(e,t,n){var o,i;o=jQuery,i=0,t.exports={greetingMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(e){var i=o("<div>".concat(e,"</div>")).appendTo(o("#tt-loading-wrapper"));i.attr("class","greeting-message "+n.join(" ")),setTimeout(function(){return i.addClass("greeting-show")},500),setTimeout(function(){i.removeClass("greeting-show"),setTimeout(i.remove.bind(i),300)},t+1500)}},handleSidebarTooltip:function(e,t){var n=TVE.main.sidebar_extra.$el.find(".".concat(e,"-redirect-tooltip"));n.addClass("tooltip-active"),t.mouseleave(function(){setTimeout(function(){return n.removeClass("tooltip-active")},2e3)}),setTimeout(function(){return n.removeClass("tooltip-active")},5e3)},elementClick:function(e){3<=++i&&(this.handleSidebarTooltip(TVE.Theme.constants.ARCHITECT_CONTEXT,e),this.resetCounter())},tarBlur:function(){3==++i?(this.handleSidebarTooltip(TVE.Theme.constants.THEME_CONTEXT,TVE.inner.$body),this.resetCounter()):TVE.main.sidebar_extra.$el.find(".ttb-redirect-tooltip").removeClass("tooltip-active")},resetCounter:function(){i=0},showConfirmationModal:function(e,t){TVE.Theme.modals.switchConfirmation||(TVE.Theme.modals.switchConfirmation=new TVE.Theme.views.SwitchConfirmation({el:TVE.modal.get_element("switch-confirmation")})),TVE.Theme.modals.switchConfirmation.open({href:e,context:t})}}},"utils.js":function(e,t,n){var a,o,i,s;a=jQuery,o=n("./models/layout"),i=n("./models/section"),s=n("./models/hf-section"),t.exports={loadingMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(e){var n=a(TVE.tpl("theme-main/loading")({message:e,messageTag:t})).appendTo(a("#tt-loading-wrapper"));setTimeout(function(){n.css("top","0")},1)}else{var i=a(".tt-loading");t&&(i=i.filter('[data-tag="'.concat(t,'"]'))),i&&(i.css("top","-400px"),setTimeout(function(){i.remove()},1e3))}},element_attributes:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e.jquery&&(e=e[0]);var s={};return _.each(e.attributes,function(e){if(-1===n.indexOf(e.name)){var t=e.value;o&&(t=t.replace(/\[/g,"|{|").replace(/\]/g,"|}|")),i?0===e.name.indexOf("data-")&&(s[e.name.replace("data-","")]=t):s[e.name]=t}}),s},save_options:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"Options saved!",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Error saving options!";a.post({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.options,data:{name:e,value:t},success:function(e){n||TVE.page_message(i,!1,5e3)},error:function(e){n||TVE.page_message(o,!0,5e3)}})},getElementResponsiveClasses:function(e){for(var t,n=/tcb-\w*-hidden/g,i=[];null!==(t=n.exec(e.className));)t.index===n.lastIndex&&n.lastIndex++,t.length&&i.push(t[0]);return i},ajax:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"POST",i=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,s=5<arguments.length?arguments[5]:void 0;return a.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:e,method:n,data:t,success:i,error:o,always:s})},fetch_list:function(e,t){a.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.list,method:"GET",data:{args:e,"demo-content":TVE.Theme.CONST.is_demo_content},success:function(e){1===e.success&&"function"==typeof t&&t(e)},error:function(e){TVE.page_message("There has been an error and the list could not be generated",!0,5e3)}})},pseudoSelectorsRegex:function(){return new RegExp([":hover",":active",":after",":focus","::after",":before","::before","::placeholder"].join("|"),"gi")},replaceElementTag:function(e,t){var n=TVE.inner_$(t,{html:e.html()});return a.each(e[0].attributes,function(){n.attr(this.name,this.value)}),e.replaceWith(n),n},inline_shortcodes_init:function(e){e.find(".thrive-shortcode-content").each(function(e,t){var n=a(t),i=t.dataset.shortcode;if("tcb_post_published_date"===i)return!0;if(TVE.PostList.posts&&TVE.inner.window.thrive_page_params&&i){var o=TVE.PostList.utils.getArticleID(n);if(o){var s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+i,TVE.PostList.posts[o][i],TVE.PostList.posts[o],n));s.length&&n.html(s.text())}}})},image_shortcodes_init:function(e){e.find('.thrive-shortcode-content[data-shortcode="tcb_post_author_picture"]').each(function(e,t){var n=a(t),i=t.dataset.shortcode;if(TVE.PostList.posts&&TVE.inner.window.thrive_page_params&&i){var o=TVE.PostList.utils.getArticleID(n);if(o){var s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+i,TVE.PostList.posts[o][i],TVE.PostList.posts[o],n));s.length&&n.replaceWith(s)}}})},replace_all_but_first:function(e,t,n){var i=new RegExp(t,"g"),o=1;return e.replace(i,function(e){var t=1===o?e:n;return o++,t})},applyBrackets:function(e){return"[".concat(e,"]")},extractShortcodeName:function(e){return e.split(" ")[0]},isInsideSymbol:function(e){return"boolean"==typeof TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE?TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE:e&&0<e.closest("".concat(TVE.identifier("symbol").trim(),"[data-id]")).length},toggle_controls:function(e,t,n){var i=!0,o=!1,s=void 0;try{for(var a,r=n[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var c=a.value;t[c]&&t[c].toggle_disabled(e)}}catch(e){o=!0,s=e}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}},disable_components:function(e,t){var n=TVE.Elements[TVE._type(TVE.ActiveElement)].components;for(var i in n)n.hasOwnProperty(i)&&t!==i&&TVE.Components[i].$el.toggleClass("disabled-children",e)},templatePrefix:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(!e||TVE.Theme.FLAGS.duringImport||!TVE.CONST.theme.is_theme_template||this.isInsideSymbol(e))return t;var i=TVE.Theme.CONST.body_class,n=this.getSectionInstance(e);return TVE.Theme.FLAGS.LAYOUT_CSS_WRITE&&(i="".concat(o.prefix," ").concat(i)),n&&(n.constructor.is(e)?n.isDynamic()&&(i=""):n.isContent(e)||n.isBackground(e)?n.isDynamic()&&(i=n.selector):i=n.isDynamic()?n.selector:"".concat(i," ").concat(n.selector)),t.includes(i)?t:((t=t.replace(this.escapedRegEx(TVE.Theme.CONST.body_class,"g"),"")).includes(TVE.CONST.global_css_prefix)&&(i="".concat(TVE.CONST.global_css_prefix," ").concat(i),t=t.replace(this.escapedRegEx(TVE.CONST.global_css_prefix,"g"),"")),i=t.includes("{")?t.replace(/(.*){(.*)/g,function(e,t,n){return t.split(", ").map(function(e){return"".concat(i," ").concat(e)}).join(", ")+"{"+n}):t.split(", ").map(function(e){return"".concat(i," ").concat(e)}).join(", "))},getDynamicElementPrefix:function(i){var o="",s=TVE._type(i);return s||(s=TVE._type(i.closest(".thrv_wrapper"))),_.each(TVE.Theme.selectors.haveDynamicPrefix,function(e,t){if(e.includes(s)){var n=i.closest(TVE.identifier(t));n.length&&(o='[data-css="'.concat(TVE.CSS_Rule_Cache.uniq_id(n),'"]'))}}),o},replaceThemeSectionsCss:function(e,n){var i=this;if(TVE.CONST.theme.is_theme_template&&e){var o=this.templatePrefix(e);"string"==typeof n?n=n.replace(this.escapedRegEx(o,"g"),"").trim():_.each(n,function(e,t){n[t]=e.map(function(e){return e.replace(i.escapedRegEx(o,"g"),"").trim()})})}return n},deleteCssForElement:function(o){o&&o.length?_.each(TVE.stylesheet.cssRules,function(e){var t=TVE.compat.conditionText(e);if(e.type===CSSRule.MEDIA_RULE&&t&&t.length){var n=_.map(e.cssRules,function(e){return e.selectorText}),i=_.filter(n,function(e){return TVE.inner.$document.find(e).is(o)&&e.includes(TVE.Theme.CONST.body_class)});_.each(i,function(e){return TVE.head_css_remove(e,t)})}}):console.warn('Error - Element does not exist in function "deleteCssForElement"')},getImageUrlFromCss:function(e){var t=/(?:\(['"]?)(.*?)(?:['"]?\))/.exec(e);return null===t?"":t[1]},replaceInSymbolCss:function(t){if(TVE.CONST.theme.is_theme_template){var e=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?e:TVE.Theme.utils.escapeString(e);i.push({regex:n,replacement:t})},i=[{regex:'\\[data-css="tve-u-([a-z]|[0-9])+"\\]'+TVE.Theme.utils.escapeString(TVE.identifier("post_list")),replacement:""}];void 0!==TVE.Elements.blog_list&&e(TVE.identifier("blog_list"),""),TVE.ActiveElement&&e(TVE.Theme.utils.templatePrefix(TVE.ActiveElement),""),e(TVE.Theme.CONST.body_class,""),_.each(i,function(e){t=t.replace(new RegExp(e.regex,"g"),e.replacement)})}return _.each(TVE.PostList.constants.dynamicStyles,function(e){t=t.replace(new RegExp(e.regex,"g"),'url("'+e.replacement+'")')}),t},escapedRegEx:function(e,t){return new RegExp(TVE.Theme.utils.escapeString(e),t)},escapeString:function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},isDynamicCss:function(e){return e.includes("dynamic_")},getDropTargetSection:function(){var e,t;if(TVE.ActiveElement&&(t=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement)),t&&TVE.Theme.utils.canDropIntoSection(t.$element))e=t.$element;else{var n=_.find(["content","top","sidebar","bottom"],function(e){return TVE.Theme.utils.canDropIntoSection(TVE.Theme.$sections[e])});void 0!==n&&(e=TVE.Theme.$sections[n])}return e},canDropIntoSection:function(e){var t=this.getSectionInstance(e),n=t.isDynamic();return t.isVisible()&&(!n||n&&t.inEditMode())},getSpecificStyle:function(o){var s=this,a={},r={},t=[];return"function"!=typeof o&&(o=function(){return!0}),_.each(TVE.stylesheet.cssRules,function(e){var i=TVE.compat.conditionText(e);e.type===CSSRule.MEDIA_RULE&&i&&i.length?_.each(e.cssRules,function(e){if(e.style.length&&o(e.selectorText)){var t=TVE.inner.$document.find(e.selectorText.replace(s.pseudoSelectorsRegex(),""));if(t.length){var n=e.cssText.replace(/\n/g," ");void 0===a[i]&&(a[i]=""),a[i].includes(n.trim())||(a[i]+=n),0===t.closest(TVE.identifier("article")).length&&s.saveDynamicStyle(e,r)}}}):e.type!==CSSRule.IMPORT_RULE||t.includes(e.cssText)||t.push(e.cssText)}),t=t.filter(function(e){return JSON.stringify(a).includes(TVE.FontManager.read_font_name(e))}),{css:a,fonts:t,dynamic:r}},saveDynamicStyle:function(e,t){var n=e.cssText,i="";if(this.isDynamicCss(n)){var o,s=e.selectorText;_.each(TVE.PostList.constants.dynamicStyles,function(e){n=n.replace(new RegExp(e.regex,"g"),'url("'+e.replacement+'")')}),s=TVE.remove_extra_spaces(s),(o=n.match(/background-image: .[^;]*;/gm))&&(i=s+"{"+o[0]+"}")}if(i){var a=TVE.compat.conditionText(e.parentRule);void 0===t[a]&&(t[a]=""),t[a]+=i}},toggleSectionFullWidth:function(e,t){var n=e.attr("data-section");t?TVE.Theme.$content["top"===n?"before":"after"](e):TVE.Theme.$content["top"===n?"prepend":"append"](e),TVE.ActiveElement&&TVE.main.active_elem_nav_view.reset_breadcrumbs()},addDebugButton:function(){TVE.main.$("#sidebar-bottom").append('<a href="'+window.location.href+'&jstest=1" target="_blank" class="test-button-link preview-content tvd-fixed-right"><span>TEST</span></a>')},getSectionInstance:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.ActiveElement,n=null;return[i,s].forEach(function(e){!n&&e.parentSection(t).length&&(n=e.getInstance(t))}),n},base64ToBlob:function(e){for(var t=e?atob(e.split(",")[1]):"",n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([n],{type:"image/jpeg"})},savePreviewImage:function(t){var e=new FormData,n=t.imageName?t.imageName:"".concat(t.ID,".png");return e.append("action",t.action),e.append("img_data",this.base64ToBlob(t.image),n),TVE.$.ajax({url:t.url,type:"POST",data:e,processData:!1,contentType:!1,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).error(function(e){void 0!==e.message&&TVE.page_message(e.message,!0,3e3)}).success(function(e){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.thumbnail.generated",post_id:parseInt(t.ID),thumb:e},"*")})},fixClonedImageHeights:function(e,s){e.find("img").each(function(e,t){var n=s.find("img:eq(".concat(e,")")),i=n.height(),o=n.width();t.style.height=i+"px",t.style.width=o+"px"})},filterContentByHeight:function(e,n){return n<=0?e.empty():e.children(":not(style)").each(function(e,t){0<n?(t.classList.contains("thrv_wrapper")||"A"!==t.tagName.toUpperCase()||(t=t.firstChild),n-=TVE.$(t).outerHeight(!0)):t.parentNode.removeChild(t)}),n},getSkinVariables:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a={master_variables:[],other_variables:[]};return _.each(["colors","gradients"],function(o){var s=e["".concat(o,"_prefix")];_.each(e[o],function(e){var t=parseInt(e.parent),n="var(".concat(s).concat(e.id,")"),i="colors"===o?"linear-gradient(".concat(n,", ").concat(n,")"):n;Object.assign(e,{type:o,css_variable:s+e.id,prefix:s,css:i}),-1===t?a.master_variables.push(e):_.isNaN(t)&&a.other_variables.push(e)})}),a},saveSkinVariables:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/skin_variables"),type:"POST",data:e,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).success(function(){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_variables_changed",color_data:e},"*")}).error(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)})},refreshThemeContainerComponent:function(e){var t;(e.is(TVE.Theme.$wrapper)||e.is(TVE.Theme.$content)||e.is(TVE.Theme.$main))&&(t=TVE.getActiveComponent()),t&&t.controls.PageMap&&t.controls.LayoutVisibility&&(t.controls.PageMap.update(),t.controls.LayoutVisibility.render())},allowPostContentDelete:function(){var n=[];TVE.Theme.$wrapper.find(TVE.identifier("post_content")).each(function(e,t){t.closest(TVE.identifier("post_list"))||n.push(t)});var t=1<n.length;n.forEach(function(e){e.classList[t?"remove":"add"]("tcb-no-delete")})},getHeadCssPrefix:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!TVE.CONST.theme.is_theme_template)return e;if(!1===n&&TVE.flag_modify_hover_selector&&TVE.state_manager.is_hover())return e;e=this.templatePrefix(t,e);var i=t.parents(TVE.identifier("thrive_widget_area"));return i.length&&(e=e+'[data-css="'+TVE.CSS_Rule_Cache.uniq_id(i)+'"]'+TVE.identifier("thrive_widget_area")+" "),e.replace(/([ ]{2,})/g," ")}}},views:{"_includes.js":function(e,t,n){t.exports={Select:n("./select"),SwitchContent:n("./content-switch/main"),SectionOverlay:n("./section-overlay"),SwitchConfirmation:n("../modals/switch-confirmation")}},"content-switch":{"dropdown.js":function(e,t,n){var a,i,r;a=jQuery,i=n("./list-item"),r=n("./utils"),t.exports=TVE.Views.Base.base_view.extend({tagName:"ul",primary_template:TVE.Theme.template.primary(),secondary_template:TVE.Theme.template.secondary(),initialize:function(e){this.collection=e.collection,TVE.add_filter("editor_loaded_callback",this.init_close_dropdown_listener.bind(this)),this.hide(),this.$list=this.$("#switch-content-select"),this.$(".list-button").html(TVE.tpl("theme-main/content-switch/list-item-load-more")()),this.listenTo(this.collection,"reset add",this.render.bind(this))},render:function(){var t=this;this.$list.empty(),this.collection.each(function(e){e.set("secondary_template",t.secondary_template),t.$list.append(new i({model:e}).render().$el)});var e=this.collection.length>TVE.CONST.theme.content_switch.items_to_load-1;return this.$(".content-switch-load-more").toggle(e),this.init_dropdown_content(),this},init_dropdown_content:function(){var n=this;this.primary_template===TVE.Theme.constants.templates.ARCHIVE&&(this.secondary_template?(this.$el.addClass(this.secondary_template),this.$(".switch-content-info").text(r.get_custom_archive_display_name(this.secondary_template))):(this.archive_collections={},_.each(TVE.CONST.theme.content_switch.data,function(e,t){n.archive_collections[t]=new Backbone.Collection(e)})))},open_dropdown:function(e){e.stopPropagation(),this.$el.toggle(),TVE.main.sidebar_extra.$el.find(".drawer, .sidebar-item").removeClass("active")},open_custom_archive:function(e,t){this.secondary_template=t.dataset.custom_archive,this.toggle_archive_menu(),this.$el.removeClass(TVE.Theme.constants.templates.ARCHIVE_BASE),this.$el.addClass(this.secondary_template),this.collection.reset(this.archive_collections[this.secondary_template].models),this.$(".switch-content-info").text(r.get_custom_archive_display_name(this.secondary_template))},return_to_index:function(){this.hide(),r.content_switch(TVE.CONST.theme.content_switch.site_url,TVE.CONST.theme.content_switch.site_url.preview)},close_custom_archive:function(){this.$(".switch-content-info").text("Your Website Content"),this.$list.empty(),this.$(".content-switch-input").val(""),this.$el.addClass(TVE.Theme.constants.templates.ARCHIVE_BASE),this.$el.removeClass(this.secondary_template),this.toggle_archive_menu()},toggle_archive_menu:function(){this.$([".content-switch-menu-back",".switch-content-subarchives","#switch-content-select"].join(",")).toggle()},select_content:function(){this.hide()},content_search:_.debounce(function(e,t){var n=this,i=t.value,o={search:i,primary_template:this.primary_template,secondary_template:this.secondary_template,template_id:TVE.CONST.post.ID,number_of_items:""};if(this.$(".content-switch-search-container").toggleClass("show-clear",0<i.length),3<=i.length)this.$list.addClass("show-loader"),r.fetch_content_switch_data(o,function(e){n.collection.reset(e),n.$list.removeClass("show-loader"),e.length||n.$list.html(a(TVE.tpl("theme-main/content-switch/list-select-empty")()))});else if(0===i.length){var s;s=this.primary_template===TVE.Theme.constants.templates.ARCHIVE&&void 0!==TVE.CONST.theme.content_switch.data[this.secondary_template]?TVE.CONST.theme.content_switch.data[this.secondary_template]:TVE.CONST.theme.content_switch.data,this.collection.reset(s)}},100),clear_input:function(){this.$(".content-switch-input").val("").trigger("input")},load_more:function(e,t){var n=this,i=this.$("#switch-content-select li").length-1,o={search:this.$(".content-switch-input").val(),primary_template:this.primary_template,secondary_template:this.secondary_template,template_id:TVE.CONST.post.ID,number_of_items:i};this.$(".content-switch-load-more").addClass("show-loader").text("Loading"),r.fetch_content_switch_data(o,function(e){n.$(".content-switch-load-more").removeClass("show-loader").text("Load more"),e.length<TVE.CONST.theme.content_switch.items_to_load&&a(t).hide(),n.collection.add(e)})},init_close_dropdown_listener:function(){var t=this;TVE.add_filter("tcb.element.editable",function(e){return t.hide(),e}),TVE.outer.$document.add(TVE.inner.$document).click(function(e){a(e.target).closest(t.$el).length||t.hide()})}})},"list-item.js":function(e,t,n){var s;jQuery,s=n("./utils"),t.exports=TVE.Views.Base.base_view.extend({tagName:"li",template:TVE.tpl("theme-main/content-switch/list-item"),initialize:function(e){},render:function(){return this.$el.html(this.template({model:this.model})),this},select_content:function(e,t){var n,i=this.model.get("id");n=i||this.model.get("plain_url")||"";var o={name:this.model.get("title"),secondary_template:this.model.get("secondary_template"),variable_template:n};s.content_switch(t.dataset.url,t.dataset.preview_url,o)}})},"main.js":function(e,t,n){var i,o,s;i=jQuery,o=n("./dropdown"),s=n("./utils"),t.exports=TVE.Views.Base.base_view.extend({has_dropdown:!1,primary_template:TVE.Theme.template.primary(),secondary_template:TVE.Theme.template.secondary(),open_dropdown:function(e,t){return TVE.main.EditMode.in_edit()?TVE.main.EditMode.overlayClicked(e):this.dropdown.open_dropdown(e),!1},initialize:function(){var e=this;if(TVE.add_filter("editor_loaded_callback",this.reinitializeAfterSwitch),TVE.add_action("tcb.edit_mode.enter",function(){return e.$el.addClass("disabled")}),TVE.add_action("tcb.edit_mode.exit",function(){return e.$el.removeClass("disabled")}),this.template_render(),this.render(),TVE.CONST.theme.content_switch.content_name&&this.$("#switch-content-selected").text(TVE.CONST.theme.content_switch.content_name),this.has_dropdown){var t=new Backbone.Collection(TVE.CONST.theme.content_switch.data);this.dropdown=new o({el:this.$("#switch-content-dropdown"),collection:t}).render()}},demo_content:function(e,t){var i=this,n=function(e,t){var n="Demo Content";s.content_switch(e,t,{name:n,secondary_template:"thrive_demo_post",variable_template:""}),i.$("#switch-content-selected").text(n)};if(TVE.CONST.theme.demo_content_url&&TVE.CONST.theme.demo_content_preview)n(TVE.CONST.theme.demo_content_url,TVE.CONST.theme.demo_content_preview);else{t.classList.add("show-loader","tve-disabled");var o={singular:TVE.Theme.template.is_singular(),template_id:TVE.Theme.template.ID};TVE.Theme.utils.ajax(TVE.CONST.theme.routes["demo-content"]+"/generate",o,"POST",function(e){t.classList.remove("show-loader","tve-disabled"),n(e.edit,e.preview)})}},template_render:function(){switch(this.primary_template){case TVE.Theme.constants.templates.ARCHIVE:this.secondary_template?this.template=TVE.tpl("theme-main/content-switch/main")():this.template=TVE.tpl("theme-main/content-switch/main-archive")({custom_archives:_.map(TVE.CONST.theme.content_switch.custom_archive.counts,function(e,t){return Object({key:t,count:e,display_name:TVE.CONST.theme.content_switch.custom_archive.names[t]})})}),this.has_dropdown=!0;break;case TVE.Theme.constants.templates.SINGULAR:this.template=TVE.tpl("theme-main/content-switch/main")(),this.has_dropdown=!0;break;case TVE.Theme.constants.templates.SEARCH:this.template=TVE.tpl("theme-main/content-switch/main-search")();case TVE.Theme.constants.templates.BLOG:case TVE.Theme.constants.templates.error404:default:this.has_dropdown=!1,this.hide()}},select_content:function(e,t){this.$("#switch-content-selected").text(t.firstElementChild.innerText)},return_to_index:function(){this.$("#switch-content-selected").text(TVE.Theme.constants.content_switch.blog_index_text)},render:function(){this.setElement(i(this.template).appendTo(TVE.main.$("#sidebar-top")))},reinitializeAfterSwitch:function(){if(TVE.FLAGS.theme_content_switch){TVE.Components.header.hooksInit(),TVE.Components.footer.hooksInit(),TVE.inner.window.TCB_Front.floating.init();var e=i("#tcb-edit-mode-button");e.off("click"),TVE.main.EditMode=new TVE.edit_mode({el:e[0]}),TVE.FLAGS.theme_content_switch=!1}},template_search:_.debounce(function(e,t){var i=t.value,n={search:i,primary_template:this.primary_template,template_id:TVE.CONST.post.ID,number_of_items:""};s.fetch_content_switch_data(n,function(e){var t=e.url,n=e.preview_url;s.content_switch(t,n,{name:i,variable_template:i})})},500)})},"utils.js":function(e,t,n){var i;i=jQuery,t.exports={fetch_content_switch_data:function(e,t){i.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.content,method:"GET",data:e,success:function(e){"function"==typeof t&&t(e)},error:function(e){TVE.page_message("There was an error and the content could not be loaded.",!0,5e3)}})},reloadFrame:function(e,t){TVE.main.$frame.attr("data-src",e).attr("src",e),TVE.Editor_Page.blur(),TVE.main.sidebar_bottom.$el.find(".preview-content").attr("href",t),TVE.FLAGS.theme_content_switch=!0},content_switch:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;TVE.main.EditMode.in_edit()&&TVE.main.EditMode.exit(),this.storeInCookie(i),TVE.Theme.utils.loadingMessage("Loading Content"),window.onbeforeunload?TVE.Theme.content.save(function(){n.reloadFrame(e,t)},!0):this.reloadFrame(e,t)},storeInCookie:function(e){var t={primary:TVE.Theme.template.primary(),secondary:TVE.Theme.template.secondary(),variable:TVE.Theme.template.variable(),format:this.getPostFormatKey(TVE.Theme.template.format())},n=this.getCookie("thrive_theme_switched_content");if(!t.variable){var i;if(n)try{i=JSON.parse(n)}catch(e){console.error("Existing Switch Content cookie is corrupted. Resetting the cookie to default."),i={}}i=i||{},i=this.prepareData(t,i,e),this.setCookie("thrive_theme_switched_content",JSON.stringify(i))}},prepareData:function(e,t,n){return t[e.primary+e.secondary+e.format]=n,t},getCookie:function(e){var t,n=!0,i=!1,o=void 0;try{for(var s,a=document.cookie.split(";")[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;if(-1!==r.indexOf(e)){t=r.replace("".concat(e,"="),"");break}}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return t},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+864e7),document.cookie=[e,"=",t,"; expires="+n.toUTCString(),"/"].join("")},getPostFormatKey:function(e){return"standard"===e?"":e},get_custom_archive_display_name:function(e){return TVE.CONST.theme.content_switch.custom_archive.names[e]}}}},"section-overlay.js":function(e,t,n){n("../models/section");t.exports=TVE.Views.Base.base_view.extend({initialize:function(e){var t=this;this.section=e.section,this.section.$element.one("mouseleave",function(){t.remove(!0)}),this.render()},render:function(){if(this.section.$element.hasClass("section-hover")&&0===this.section.$element.find(".section-overlay-actions").length){var e=this.section.$element.height()<200;this.setElement(TVE.inner_$(TVE.tpl("theme-main/section-overlay")({responsive:e}))),this.$el.hide().appendTo(this.section.$element).fadeIn()}},enterEditMode:function(){this.section.constructor.component.sectionSelect.setSection(this.section).enterEditMode(),this.remove()},unlink:function(){this.section.unlink(),this.section.constructor.component.after_update(),this.remove()},remove:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.$el.fadeOut(t?400:0,function(){e.$el.remove()})},openSectionModal:function(){this.section.constructor.component.sectionSelect.setSection(this.section).openSectionsModal()}})},"select.js":function(e,t,n){t.exports=TVE.Views.Base.base_view.extend({template:"theme-main/select",before_initialize:function(e){"function"==typeof e.on_select&&(this.on_select=e.on_select),"function"==typeof e.on_search&&(this.on_search=e.on_search),this.default_selected=e.default_selected?e.default_selected:"Choose",this.listenTo(this.model,"change",this.render_list.bind(this))},after_render:function(){var e=this.model.get("className"),t="";e&&this.$el.addClass(e),this.model.get("default_value")&&(t=this.model.get("default_value")),this.set_value(t),this.select_close(),this.render_list()},render_list:function(){var t=this.$(".tth-dropdown"),e=this.model.get("list");0!==t.length&&(t.empty(),e&&Object.values(e).length?_.each(e,function(e){t.append('<li class="click" data-fn="set_value" data-value="'+e.value+'">'+e.label+"</li>")}):t.append('<li><div class="loading-when-empty"></div></li>'),this.search_size())},search_size:function(){var e=this.$(".tth-dropdown"),t=e[0].scrollHeight>e[0].clientHeight,n=parseInt(e.css("width"))-6-(t?15:0);this.$(".tth-dropdown-search").css({width:n+"px","max-width":n+"px"})},set_value:function(e){var t,n=this.default_selected;"string"==typeof e?t=e:void 0!==e&&(t=e.currentTarget.dataset.value),0!==parseInt(t)&&(_.each(this.model.get("list"),function(e){String(e.value)===String(t)&&(n=e.label)}),this.$(".tth-dropdown-search").val(""),this.select_close(),this.$(".tth-elem-selected").html(n),"object"===_typeof(e)&&this.on_select(t,n,e))},get_value:function(){return this.$(".tth-elem-selected").html()},is_open:function(){return this.$el.hasClass("tth-visible")},select_open:function(){this.is_disabled()||(this.$el.addClass("tth-visible"),this.search_size())},select_close:function(){this.$el.removeClass("tth-visible")},select_toggle:function(){this.is_open()?this.select_close():this.select_open()},on_select:function(){},disable:function(e){this.$el.toggleClass("disabled",e)},is_disabled:function(){return this.$el.hasClass("disabled")},search:_.debounce(function(e,t){this.loading(!0),this.on_search(t.value)},400),on_search:function(e){},loading:function(e){this.$(".tth-dropdown").toggleClass("loading",e)}})},"sidebar-right.js":function(e,t,n){var i=n("../modals/reset-template"),o=n("../switch-editor");t.exports={reset_template:function(){new i({el:TVE.modal.get_element("reset-template")}).open()},switchClickedFromTheme:function(e){window.onbeforeunload&&(e.preventDefault(),o.showConfirmationModal(e.currentTarget.href,TVE.Theme.constants.THEME_CONTEXT))}}},"theme-style-panel":{"main.js":function(e,t,n){var i,o,s=this;i=jQuery,o=n("./skin-variables"),t.exports=TVE.Views.Base.base_view.extend({after_initialize:function(e){s.sidebar=e.sidebar,s.$el=i(e.el),s.sections={},s.sidebar.on("drawer_opened",function(e){"central_style_panel"===e&&(s.sections.palettes||(s.sections.palettes=new o({el:s.$el.find('.c-s-p-section[data-section="vars"]'),sidebar:s.sidebar})),s.sections.palettes.render_list().$el.show())})},clear_tpl_vars_from_content:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return-1<e.indexOf(TVE.CONST.theme.skin_variables.colors_prefix)&&(e=this._clearVarFromContent(e,TVE.CONST.theme.skin_variables.colors_prefix,TVE.CONST.theme.skin_variables.colors,"color")),-1<e.indexOf(TVE.CONST.theme.skin_variables.gradients_prefix)&&(e=this._clearVarFromContent(e,TVE.CONST.theme.skin_variables.gradients_prefix,TVE.CONST.theme.skin_variables.gradients,"gradient")),e},_clearVarFromContent:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",e=new RegExp("(var\\("+o+"[0-9]*\\))","g"),t=i.match(e);if(_.isArray(t)){var n=_toConsumableArray(new Set(t));_.each(n,function(e){var t=TVE.extractNumbersFromString(e)[0],n=_.findIndex(s,function(e){return e.id==t});-1<n&&(i=i.split("var("+o+t+")").join(s[n][a]))})}return i}})},"skin-colors.js":function(e,t,n){jQuery,t.exports=TVE.GlobalColors.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Color",this.skinVariables=TVE.CONST.theme.skin_variables.colors},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.color,type:"colors",key:"color"},t),this.skinVariables[e].hsl_parent_dependency?t.hsl_parent_dependency=this.skinVariables[e].hsl_parent_dependency:this.skinVariables[e].hsl&&(t.hsl=this.skinVariables[e].hsl),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})},"skin-gradient.js":function(e,t,n){jQuery,t.exports=TVE.GlobalGradients.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Gradient",this.skinVariables=TVE.CONST.theme.skin_variables.gradients},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.gradient,type:"gradients",key:"gradient"},t),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})},"skin-variables.js":function(e,t,n){var i,o;i=jQuery,o=TVE.Views.Controls.CentralStylePanel.Vars,t.exports=o.extend({configPaletteSelect:{paletteData:TVE.CONST.theme.skin_palettes,masterVariablePrefix:TVE.CONST.theme.skin_variables.colors_prefix},show_locate_control:!1,controls_init:function(e){var t=this;o.prototype.controls_init.call(this,e),_.each(this.controls,function(e){e.executeAjax=t.saveSkinVariable})},render_list:function(){var t=this;if(this.list_rendered)return this;var e=TVE.Theme.utils.getSkinVariables(TVE.CONST.theme.skin_variables),n=0;if(this.master_variables=e.master_variables,this.other_variables=e.other_variables,this.master_variables.length&&(this.$el.append(TVE.tpl("central-style-panel/master-variables-header")()),_.isEmpty(TVE.CONST.theme.skin_palettes)||(this.$el.append(TVE.tpl("central-style-panel/palettes")()),this.buildPalettesSelect()),_.each(this.master_variables,function(e){t.$el.append(t.variable_template({name:e.name,css_variable:e.css_variable,bg:e.css,index:n,wrapper_class:"master_variable",show_locate_control:t.show_locate_control})),t.vars_list[n]=new Backbone.Model({custom_action:"skin_variables",css_variable:"var("+e.css_variable+")",variables_set:TVE.CONST.theme.skin_variables[e.type],linked_variables:t.getLinkedVars(e.type,e.id),variable:e,post_params:{id:e.id,type:e.type,key:e.prefix.replace("--tcb-skin-","").replace("-",""),name:e.name}}),n++})),this.other_variables.length){this.$el.append(TVE.tpl("central-style-panel/other-variables-header")());var i="";_.each(this.other_variables,function(e){i+=t.variable_template({name:e.name,css_variable:e.css_variable,bg:e.css,index:n,wrapper_class:"other_variable",show_locate_control:t.show_locate_control}),t.vars_list[n]=new Backbone.Model({custom_action:"template_options",css_variable:"var("+e.css_variable+")",variables_set:[],linked_variables:[],variable:e,post_params:{id:e.id,type:e.type,key:e.prefix.replace("--tcb-skin-","").replace("-",""),name:e.name}}),n++}),this.$el.append('<div class="c-s-p-other-vars">'.concat(i,"</div>"))}return this.list_rendered=!0,this},getLinkedVars:function(e,t){var n=TVE.CONST.theme.skin_variables["".concat(e,"_prefix")],i=[];return _.each(TVE.CONST.theme.skin_variables[e],function(e){_.isNumber(e.parent)&&e.parent===t&&i.push(n+e.id)}),i},dom_change_palette:function(e,t){var n=parseInt(t.value),i=TVE.CONST.theme.skin_palettes.active_id,o=["id","color","gradient","hsl","hsl_parent_dependency"],s=JSON.stringify({colors:this._filter_template_vars_before_save(TVE.CONST.theme.skin_variables.colors,o),gradients:this._filter_template_vars_before_save(TVE.CONST.theme.skin_variables.gradients,o)}),a=JSON.parse(s);_.each(this.vars_types,function(e){TVE.CONST.theme.skin_palettes.modified[i][e]&&(TVE.CONST.theme.skin_palettes.modified[i][e]=a[e])}),this._updateSkinColors(TVE.CONST.theme.skin_palettes.modified[n].colors),this._updateSkinGradients(TVE.CONST.theme.skin_palettes.modified[n].gradients),TVE.CONST.theme.skin_palettes.active_id=n,this.buildPalettesSelect();var r=["id","color","gradient","name","custom_name","parent","hsl","hsl_parent_dependency"],c={previous_skin_data:s,active_skin_data:JSON.stringify({colors:this._filter_template_vars_before_save(TVE.CONST.theme.skin_variables.colors,r),gradients:this._filter_template_vars_before_save(TVE.CONST.theme.skin_variables.gradients,r)}),previous_id:i,active_id:n};return TVE.apply_filters("tcb.palette_changed",this.externalPalette,c),!1},domResetActivePalette:function(e,t){if(!confirm("Are you sure you want to reset this palette?"))return!1;var n=TVE.CONST.theme.skin_palettes.original[TVE.CONST.theme.skin_palettes.active_id];return this._updateSkinColors(n.colors),this._updateSkinGradients(n.gradients),i.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/reset_palette"),type:"POST",data:{active_id:TVE.CONST.theme.skin_palettes.active_id},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).success(function(){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_palette_reset",palette:n},"*")}),!1},_updateSkinGradients:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_.each(e,function(t){TVE.changeCssVariableValue(TVE.CONST.theme.skin_variables.gradients_prefix+t.id,t.gradient);var e=TVE.CONST.theme.skin_variables.gradients.findIndex(function(e){return e.id==t.id});-1<e&&(TVE.CONST.theme.skin_variables.gradients[e].gradient=t.gradient)})},_updateSkinColors:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_.each(e,function(t){TVE.changeCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+t.id,t.color);var e=TVE.CONST.theme.skin_variables.colors.findIndex(function(e){return e.id==t.id});-1<e&&(TVE.CONST.theme.skin_variables.colors[e].color=t.color,TVE.CONST.theme.skin_variables.colors[e].hsl_parent_dependency?TVE.CONST.theme.skin_variables.colors[e].hsl_parent_dependency=_.extend({},t.hsl_parent_dependency):TVE.CONST.theme.skin_variables.colors[e].hsl&&(TVE.CONST.theme.skin_variables.colors[e].hsl=_.extend({},t.hsl)))})},saveSkinVariable:function(e,t){TVE.Theme.utils.saveSkinVariables(t)}})}}}}},everywhere:{"actions.js":function(e,t,n){t.exports={tcb_after_cloud_template_css_inserted:function(e){e.is("".concat(TVE.identifier("contentblock"),",").concat(TVE.identifier("lpblock")))&&e.find(TVE.identifier("post_list")).each(function(e,t){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(t))})}}},"filters.js":function(e,t,n){var i;i=jQuery,t.exports={"tcb.palette_changed":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e&&(t.previous_template_data&&t.active_template_data&&(t.previous_skin_data=t.previous_template_data,t.active_skin_data=t.active_template_data),i.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/change_palette"),type:"POST",data:t,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).success(function(){TVE.outer&&TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_palette_changed",data:t},"*")}).error(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)})),e},"tcb.palette_reset":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e&&i.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/reset_palette"),type:"POST",data:t,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}),e},"tcb.variable.panel.save.data":function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return 1<arguments.length&&arguments[1],e.external_palettes&&(e.type="colors",e.key="color",i.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/skin_variables"),type:"POST",data:e,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).error(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)})),e}}}}}}}}})("workspace/inc/assets/js/architect/main/main");