/*! Thrive Themes 2020-05-04
* http://www.thrivethemes.com/
* Copyright (c) 2020 Thrive Themes */

"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(c){var f,_,r,h,d,i={".js":[],".json":[],".css":[],".html":[]},l="function"==typeof require?require:null;return h=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},d=function(e,t,n){var o,r;if("function"==typeof e[t+n])return t+n;for(o=0;r=i[n][o];++o)if("function"==typeof e[t+r])return t+r;return null},f=function(e,t,n,o,r,i){var s,a,c,l,u,p;for("."!==(s=(n=n.split("/")).pop())&&".."!==s||(n.push(s),s="");null!=(a=n.shift());)if(a&&"."!==a&&(".."===a?(e=t.pop(),i=i.slice(0,i.lastIndexOf("/"))):(t.push(e),e=e[a],i+="/"+a),!e))throw h(o);if(s&&"function"!=typeof e[s]&&((p=d(e,s,".js"))||(p=d(e,s,".json")),p||(p=d(e,s,".css")),p||(p=d(e,s,".html")),p?s=p:2!==r&&"object"===_typeof(e[s])&&(t.push(e),e=e[s],i+="/"+s,s="")),!s)return 1!==r&&e[":mainpath:"]?f(e,t,e[":mainpath:"],o,1,i):f(e,t,"index",o,2,i);if(!(u=e[s]))throw h(o);return u.hasOwnProperty("module")?u.module.exports:(c={},u.module=l={exports:c,id:i+"/"+s},u.call(c,c,l,_(e,t,i)),l.exports)},r=function(e,t,n,o){var r,i=n,s=n.charAt(0),a=0;if("/"===s){if(i=i.slice(1),!(e=c["/"])){if(l)return l(n);throw h(n)}o="/",t=[]}else if("."!==s){if(r=i.split("/",1)[0],!(e=c[r])){if(l)return l(n);throw h(n)}o=r,t=[],(i=i.slice(r.length+1))||(a=(i=e[":mainpath:"])?1:(i="index",2))}return f(e,t,i,n,a,o)},(_=function(t,n,o){return function(e){return r(t,[].concat(n),e,o)}})(c,[],"")}({workspace:{inc:{assets:{js:{architect:{main:{actions:{"skin-colors.js":function(e,t,n){jQuery,t.exports={"tcb.favorite_colors.after_render":function(e){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.colors.length&&e.color_picker.options.showGlobals){var t=n("../views/theme-style-panel/skin-colors");e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-colors")()),e.skin_color_view=new t({el:e.$("#tcb-skin-color-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_color_view}},"tcb.favorite_colors.reset_html":function(t){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.colors.length&&t.color_picker.options.showGlobals){var n="";_.each(TVE.CONST.theme.skin_variables.colors,function(e){n+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.colors_prefix,css_prop:"background-color",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".tcb-skin-colors-container").html(n.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}}}}},"typography.js":function(e,t,n){var o,r;o=jQuery,r={currentPrefix:"",filters:["editable","mouseover","no_save","no_lock","no_unlock","no_delete","no_clone"],init:function(){TVE.Editor_Page.selection_manager.init(TVE.Editor_Page.editor),TVE.typographyEditor.init("selector"),TVE.inner_$('[data-selector-key="link"]').attr("data-element-name","Default Link")},editorInit:function(){TVE.main.$(".tve-more,.tve-templates-setup").remove(),TVE.main.$(".back-icon").remove(),TVE.main.sidebar_extra.$(".sidebar-item:not(.click)").remove()},registerHooks:function(){TVE.add_filter("editor_wrapper",function(e){return TVE.inner_$("#typography-elements")}),TVE.add_filter("tcb_save_post_data_before",this.parseCssBeforeSave),TVE.add_filter("css_style_selector",function(){return"style#thrive-typography-css"}),_.each(n("./actions/skin-colors"),function(e,t){TVE.add_action(t,e)})},parseCssBeforeSave:function(e){return e.tve_content="",e.inline_rules="",e.tve_stripped_content="",e.theme_typography_style=r.getStylesToSave(),e},getStylesToSave:function(){var a={},t=[],c=new RegExp("^(".concat(Object.values(TVE.CONST.default_styles).map(function(e){return TVE.escapeString(e.selector)}).join("|"),")").concat(TVE.CSS.regexSuffix,"([ .:#]*?){"),"i"),l=[" strong",":hover",":active"],u=new RegExp("(".concat(l.join("|"),")"),"g");function n(e){var i=TVE.compat.conditionText(e),s=[];Array.from(e.cssRules).forEach(function(t){var e=t.cssText.replace(u,""),n="";if(l.some(function(e){if(t.cssText.includes(e))return n=e,!0}),!t.selectorText.includes(".tve-state-")&&e.match(c)&&!s.includes(t.selectorText)){var o=function(t){var n=!1;switch(t){case"p":return"p";case"pre":return"pre"}return Object.keys(TVE.CONST.default_styles).some(function(e){if(0===TVE.CONST.default_styles[e].selector.indexOf(t))return n=e,!0}),n}(RegExp.$1),r=TVE.CSS_Rule_Cache.getCssForSelector(t.selectorText);r=(r=r[i]||{})[t.selectorText]||{},a[o]=a[o]||{},a[o][i]=a[o][i]||[],a[o][i].push("__el__".concat(n,"{ ").concat(TVE.CSS_Rule_Cache.objectToCss(r)," }")),s.push(t.selectorText)}})}return _.each(TVE.stylesheet.cssRules,function(e){e.type===CSSRule.MEDIA_RULE?n(e):e.type!==CSSRule.IMPORT_RULE||t.includes(e.cssText)||t.push(e.cssText)}),t=t.filter(function(e){return JSON.stringify(a).includes(TVE.FontManager.read_font_name(e))}),a["@imports"]=t,Object.keys(a).forEach(function(e){return a[e]=JSON.stringify(a[e])}),a}},o(window).on("tcb.register-hooks",r.registerHooks.bind(r)).on("tcb_main_ready",function(){TVE.main.on("tcb-ready",r.init.bind(r)),r.editorInit(),TVE.main.on("tve.save_post.success",function(){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb-typography-saved",post_id:TVE.CONST.post_id})})})},views:{"theme-style-panel":{"skin-colors.js":function(e,t,n){jQuery,t.exports=TVE.GlobalColors.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Color",this.skinVariables=TVE.CONST.theme.skin_variables.colors},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.color,type:"colors",key:"color"},t),this.skinVariables[e].hsl_parent_dependency?t.hsl_parent_dependency=this.skinVariables[e].hsl_parent_dependency:this.skinVariables[e].hsl&&(t.hsl=this.skinVariables[e].hsl),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})}}}}}}}}}})("workspace/inc/assets/js/architect/main/typography");