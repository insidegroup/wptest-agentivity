/*! Thrive Themes 2020-05-04
* http://www.thrivethemes.com/
* Copyright (c) 2020 Thrive Themes */

"use strict";function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(i,!0).forEach(function(t){_defineProperty(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(c){var u,p,o,_,m,s={".js":[],".json":[],".css":[],".html":[]},l="function"==typeof require?require:null;return _=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},m=function(t,e,i){var n,o;if("function"==typeof t[e+i])return e+i;for(n=0;o=s[i][n];++n)if("function"==typeof t[e+o])return e+o;return null},u=function(t,e,i,n,o,s){var a,r,c,l,d,h;for("."!==(a=(i=i.split("/")).pop())&&".."!==a||(i.push(a),a="");null!=(r=i.shift());)if(r&&"."!==r&&(".."===r?(t=e.pop(),s=s.slice(0,s.lastIndexOf("/"))):(e.push(t),t=t[r],s+="/"+r),!t))throw _(n);if(a&&"function"!=typeof t[a]&&((h=m(t,a,".js"))||(h=m(t,a,".json")),h||(h=m(t,a,".css")),h||(h=m(t,a,".html")),h?a=h:2!==o&&"object"===_typeof(t[a])&&(e.push(t),t=t[a],s+="/"+a,a="")),!a)return 1!==o&&t[":mainpath:"]?u(t,e,t[":mainpath:"],n,1,s):u(t,e,"index",n,2,s);if(!(d=t[a]))throw _(n);return d.hasOwnProperty("module")?d.module.exports:(c={},d.module=l={exports:c,id:s+"/"+a},d.call(c,c,l,p(t,e,s)),l.exports)},o=function(t,e,i,n){var o,s=i,a=i.charAt(0),r=0;if("/"===a){if(s=s.slice(1),!(t=c["/"])){if(l)return l(i);throw _(i)}n="/",e=[]}else if("."!==a){if(o=s.split("/",1)[0],!(t=c[o])){if(l)return l(i);throw _(i)}n=o,e=[],(s=s.slice(o.length+1))||(r=(s=t[":mainpath:"])?1:(s="index",2))}return u(t,e,s,i,r,n)},(p=function(e,i,n){return function(t){return o(e,[].concat(i),t,n)}})(c,[],"")}({workspace:{inc:{assets:{js:{architect:{main:{"constants.js":function(t,e,i){var n=[".search-submit .thrv_icon",".search-submit .tcb-button-text.thrv-inline-text"];e.exports={identifiers:{EDITOR_CLASS:"thrive-theme-builder",FLIP_SECTIONS_CLASS:"flip-sections",HIDE_SECTION_CLASS:"hide-section",MAIN_COLUMNS_SEPARATOR:".main-columns-separator"},templates:{error404:"error404",ARCHIVE:"archive",ARCHIVE_BASE:"archive-base",BLOG:"blog",PAGE:"page",POST:"post",SEARCH:"search",AUTHOR:"author",SINGULAR:"singular",HOME:"home",PRODUCT:"product"},theme_button:{layout:"button_layout"},blog_list:{no_results:{type:"no_results",selector:".main-no-results",affected_selectors:".tcb-post-list#main,.tcb-pagination,.tcb-featured-list"},states:[{value:"blog_list",label:"Search results found"},{value:"no_results",label:"No results found"}]},comments:{states:[{value:"logged",label:"Logged In User View"},{value:"visitor",label:"Visitor View"},{value:"closed",label:"Comments are Closed"}],hiddenElements:["thrive_author_box","thrive_author_links","thrive_breadcrumbs","thrive_calendar_widget","thrive_widget_area","thrive_comments","thrive_dynamic_list","post_author_picture","post_content","post_thumbnail","contentblock","symbol","post_list","ct_symbol","tl_shortcode","quiz","ultimatum_countdown","ovation_capture","ovation_display","tcb_post_author_bio","thrive_author_follow","tcb_post_author_name","tcb_post_author_picture","tcb_post_categories","tcb_post_content","tcb_post_published_date","tcb_post_comments_number","tcb_post_tags","tcb_post_featured_image","tcb_post_title","tcb_post_read_more","thrive_post_meta"]},search_dynamic_selectors:n,text_dynamic_selectors:[".comment-form-reply-title",".comment-form-comment-notes"],dynamic_selectors:[].concat(n,[".comment-form-submit .thrv_icon",".comment-form-submit .tcb-button-text.thrv-inline-text",".comment-reply-link .thrv_icon",".comment-reply-link .tcb-button-text.thrv-inline-text"]),dynamicVideo:{placeholderTemplate:"theme-main/video-overlay-placeholder",RESPONSIVE_VIDEO_CONTAINER:".tve_responsive_video_container",THUMBNAIL_UPLOAD_BUTTON_CLASS:".tve-video-thumbnail-control",THUMBNAIL:{STATIC:"static",DYNAMIC:"dynamic",NONE:"none"}},taxonomyShortcodes:["thrive_archive_name","thrive_archive_description","thrive_archive_parent_name"],DEFAULT_EXCERPT_WORDS:55,DEFAULT_READ_MORE:"...",content_switch:{blog_index_text:"Blog Index"},COMMENT_SUBMIT_TYPE:"thrive_comments_form_submit",COMMENT_REPLY_TYPE:"thrive_comment_reply_button",SIDEBAR_CROPPED_HEIGHT:600,HORIZONTAL_LAYOUT_WIDTH:700,HORIZONTAL_LAYOUT_PADDING:60,VERTICAL_LAYOUT_WIDTH:350,VERTICAL_LAYOUT_PADDING:50,defaultPreviewOptions:{imageTypeCallback:"toJpeg",quality:1,fixWindowWidth:!1,bgcolor:"white",style:{top:0,left:0,right:0,bottom:0}},THEME_CONTEXT:"ttb",ARCHITECT_CONTEXT:"tar"}},modals:{"switch-confirmation.js":function(t,e,i){e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},after_open:function(t){this.href=t.href,this.context=t.context},continueWithoutSaving:function(){window.onbeforeunload=null,this.close(),window.location=this.href},saveAndContinue:function(){var t=this;window.onbeforeunload=null,this.close();var e=function(){window.location=t.href};this.context===TVE.Theme.constants.THEME_CONTEXT?TVE.Theme.content.save(e,!0,!1):this.context===TVE.Theme.constants.ARCHITECT_CONTEXT&&TVE.Editor_Page.save(!0,e,{},!0)}})},"tar-light-notice.js":function(t,e,i){e.exports=TVE.modal.base.extend({template:TVE.tpl("modals/tar-light-notice")})}},"switch-editor.js":function(t,e,i){var o,n;o=jQuery,n=0,e.exports={greetingMessage:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(t){var n=o("<div>".concat(t,"</div>")).appendTo(o("#tt-loading-wrapper"));n.attr("class","greeting-message "+i.join(" ")),setTimeout(function(){return n.addClass("greeting-show")},500),setTimeout(function(){n.removeClass("greeting-show"),setTimeout(n.remove.bind(n),300)},e+1500)}},handleSidebarTooltip:function(t,e){var i=TVE.main.sidebar_extra.$el.find(".".concat(t,"-redirect-tooltip"));i.addClass("tooltip-active"),e.mouseleave(function(){setTimeout(function(){return i.removeClass("tooltip-active")},2e3)}),setTimeout(function(){return i.removeClass("tooltip-active")},5e3)},elementClick:function(t){3<=++n&&(this.handleSidebarTooltip(TVE.Theme.constants.ARCHITECT_CONTEXT,t),this.resetCounter())},tarBlur:function(){3==++n?(this.handleSidebarTooltip(TVE.Theme.constants.THEME_CONTEXT,TVE.inner.$body),this.resetCounter()):TVE.main.sidebar_extra.$el.find(".ttb-redirect-tooltip").removeClass("tooltip-active")},resetCounter:function(){n=0},showConfirmationModal:function(t,e){TVE.Theme.modals.switchConfirmation||(TVE.Theme.modals.switchConfirmation=new TVE.Theme.views.SwitchConfirmation({el:TVE.modal.get_element("switch-confirmation")})),TVE.Theme.modals.switchConfirmation.open({href:t,context:e})}}}}},editor:{components:{"_includes.js":function(t,e,i){e.exports={VisibilitySettings:i("./visibility-settings"),PostTypeTemplateSettings:i("./post-type-template-settings"),PageContentSettings:i("./page-content-settings"),AMPSettings:i("./amp-settings")}},"amp-settings.js":function(t,e,i){e.exports=TVE.Views.Base.component.extend({controls_init:function(t){TVE.add_filter("tcb_save_post_data_after",function(t){return t.thrive_post_amp_status=TVE.CONST.theme.amp_status,t}),t.DisableAMP.update=function(){this.setChecked("disabled"===TVE.CONST.theme.amp_status)},t.DisableAMP.input=function(t,e){TVE.CONST.theme.amp_status=e.checked?"disabled":""}}})},"page-content-settings.js":function(t,e,i){e.exports=TVE.Views.Base.component.extend({controls_init:function(t){this.controls.FeaturedImage.update=function(){this.update_preview()}}})},"post-type-template-settings.js":function(t,e,i){var s=Backbone.Collection.extend({comparator:function(t){if(t.isDefault()&&t.isCurrentPostFormat())return!1},model:Backbone.Model.extend({urlRoot:"".concat(TVE.CONST.theme.routes.post,"/").concat(TVE.CONST.post.ID,"/template"),idAttribute:"ID",defaults:function(){return{selected:0}},sync:function(t,e,i){(i=i||{}).cache=!1;var n=i.beforeSend;return i.beforeSend=function(t){if(t.setRequestHeader("X-WP-Nonce",TVE.CONST.rest_nonce),"function"==typeof n)return n.apply(this,arguments)},Backbone.sync(t,e,i)},isDefault:function(){return"1"===this.get("is_default")},isCurrentPostFormat:function(){var t=""===TVE.CONST.post_format?"standard":TVE.CONST.post_format;return this.get("format")===t}})}),a=TVE.Views.Base.base_view.extend({className:"thrive-page-template-item",tagName:"li",template:TVE.tpl("architect-main/page-template-item"),before_initialize:function(){this.listenTo(this.model,"change:selected",this.render)},after_render:function(){var t=this.model.get("selected");this.$el.toggleClass("thrive-template-selected",t),this.$(".thrive-page-template-activate").prop("disabled",t)},activateTemplate:function(){var e=this;this.model.collection.forEach(function(t){return t.set("selected",t.get("ID")===e.model.get("ID"))}),this.$el.siblings().removeClass("thrive-template-selected"),TVE.main.overlay(),TVE.KEEP_OVERLAY=!0,TVE.Editor_Page.save(!0,function(){e.model.save({post_id:TVE.CONST.post_id},{success:function(){TVE.KEEP_OVERLAY=!0,TVE.iframe_refresh()},error:function(){TVE.page_message("Error changing the template.",!0)},always:function(){TVE.main.overlay("close")}})},{},!0)}});e.exports=TVE.Views.Base.component.extend({controls_init:function(e){var i=this,n=this.$(".thrive-page-template-list"),o=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.CONST.post_format;i.$(".tve-format-control").addClass("tcb-hide"),i.$('.tve-format-control[data-initializer="'+t+'"]').removeClass("tcb-hide")};this.collection=new s(TVE.CONST.theme.templates),this.collection.forEach(function(t){t.set("selected",t.get("ID")===parseInt(TVE.inner.window.thrive_front_localize.ID)),n.append(new a({model:t}).$el)}),"post"===TVE.CONST.post_type&&(e.PostFormat.change=function(t,e){TVE.main.overlay(),TVE.KEEP_OVERLAY=!0,TVE.Editor_Page.save(!0,i.savePostFormat(e.value)),o(e.value)},e.PostFormat.update=function(){this.setValue(TVE.CONST.post_format),o()},TVE.main.$frame.on("load",function(){"video"!==TVE.CONST.post_format&&"audio"!==TVE.CONST.post_format||e["Template"+TVE.ucFirst(TVE.CONST.post_format)].update(),TVE.main.$frame.contents().on("click","a",function(){return!1})}),TVE.StorageManager.on("tve_post_options_change",function(t){t.id===TVE.CONST.post.ID&&t.format!==TVE.CONST.post_format&&(TVE.CONST.post_format=t.format,setTimeout(function(){TVE.KEEP_OVERLAY=!0,TVE.iframe_refresh()},10),e.PostFormat.update(),TVE.StorageManager.unset("tve_post_options_change"))})),this.$(".thrive-no-post-type-templates").toggle(!TVE.CONST.theme.templates.some(function(t){return t.type===TVE.CONST.post_type}))},savePostFormat:function(e){var i=this;TVE.ajax("save_post_format","post",{ID:TVE.CONST.post.ID,post_format:e}).done(function(t){t.success?(TVE.StorageManager.set("tve_post_options_change",TVE.CONST.post),TVE.CONST.post_format=e,TVE.KEEP_OVERLAY=!0,TVE.iframe_refresh(),i.controls.PostFormat.update()):TVE.main.overlay("close")})},audio:function(){return i("../controls/template-audio")},video:function(){return i("../controls/template-video")}})},"visibility-settings.js":function(t,e,i){var n=function(t){return TVE.CONST.theme.element_visibility.values[t]},r=function(t,e){TVE.CONST.theme.element_visibility.values[t]=e};e.exports=TVE.Views.Base.component.extend({controls_init:function(t){this.hooks(),this.initToggles(t),this.initSelects(t),t.ShowAllHidden.update=function(){this.setChecked(TVE.inner.$body.hasClass("thrive_show_hidden_elements"))},t.ShowAllHidden.input=function(t,e){TVE.inner.$body.toggleClass("thrive_show_hidden_elements",e.checked)}},initToggles:function(e){_.each(TVE.CONST.theme.element_visibility.config.elements,function(i,o){var t=i.view;e[t].change=function(t,e){var n=e.checked?"show":"hide";TVE.inner.$body.find(i.identifier).each(function(t,e){var i=TVE.inner_$(e);0===i.closest(TVE.identifier("post_list")).length&&(i.toggleClass("hide-section","hide"===n),"featured_image"===o&&i.is(".thrv-content-box")?TVE.inner.$body.toggleClass("hide-dynamic-content","hide"===n):"post_title"===o&&i.is(".thrive-shortcode-content")&&TVE.inner.$body.toggleClass("hide-inline-post-titles","hide"===n))}),r(o,n)},e[t].update=function(){this.setChecked("show"===n(o))}})},initSelects:function(e){_.each(TVE.CONST.theme.element_visibility.config.sections,function(s,a){var t=s.view;e[t].change=function(t,e){var i,n=e.value,o="inherit"===n?(i=a,TVE.CONST.theme.template_visibility[i]):n;TVE.inner.$body.find(s.identifier).each(function(t,e){TVE.inner_$(e).toggleClass("hide-section","hide"===o)}),r(a,n)},e[t].update=function(){this.setValue(n(a))}})},hooks:function(){TVE.add_filter("tcb_save_post_data_after",function(t){return t.element_visibility=TVE.CONST.theme.element_visibility.values,t})}})}},controls:{"_includes.js":function(t,e,i){e.exports={TemplateAudio:i("./template-audio"),TemplateVideo:i("./template-video"),FeaturedImage:i("./featured-image-picker")}},"featured-image-picker.js":function(t,e,i){e.exports=TVE.Views.Base.control.extend({template:TVE.tpl("controls/image-picker"),initialize:function(){this.render(),this.picker=(new TVE.Views.Controls.FilePicker).on_select(this.change_image,this),this.picker.on_cancel(this.on_cancel,this),this.activeElement=TVE.inner_$(".thrv_wrapper.tcb-post-thumbnail:not(.tcb-post-list-shortcode)").first()},open:function(){return this.image_selected=!1,this.picker.open(),!1},change_placeholder:function(){this.placeholder=!0,this.open()},on_cancel:function(){this.placeholder&&(delete this.placeholder,TVE.main.clear_focus())},change_image:function(t){var n=this;TVE.main.overlay(),TVE.$.ajax({url:TVE.CONST.theme.routes.post+"/format/image",type:"POST",data:{attachment:t.id,post_id:TVE.CONST.post.ID},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(i){i.success&&(TVE.inner_$(".thrv_wrapper.tcb-post-thumbnail:not(.tcb-post-list-shortcode)").replaceWith(i.html),n.replaceDynamicCss(TVE.inner_$("#thrive-dynamic-css"),i.data.src),TVE.inner_$('[id^="thrive-dynamic-section-"]').each(function(t,e){n.replaceDynamicCss(TVE.inner_$(e),i.data.src)}),TVE.CONST.theme.post_featured_image=i.data,n.update_preview())}).error(function(){}).always(function(t){TVE.main.overlay("close")})},replaceDynamicCss:function(t,e){0<t.length&&t.html(t.html().replace(TVE.CONST.theme.post_featured_image.src,e))},update_preview:function(t){void 0===t&&(t=TVE.CONST.theme.post_featured_image.src),this.$(".preview").addClass("img").css("background-image","url("+t+")")}})},"template-audio.js":function(t,e,i){var n=[{key:"custom",name:"Custom"},{key:"soundcloud",name:"Soundcloud"},{key:"spotify",name:"Spotify"}];e.exports=TVE.Views.Base.control.extend({template:TVE.tpl("controls/audio"),initialize:function(){var e=this;this.render(),TVE.apply_filters("tcb.audio_sources",n).forEach(function(t){e.$(".v-source").append('<option value="'+t.key+'">'+t.name+"</option>"),0===e.$("#a-settings-"+t.key).length&&e.$(".v-settings").last().after('<div class="v-settings" style="display:none" id="a-settings-'+t.key+'" data-view="'+t.key+'"></div>')}),this.providers={},this.providerOptions={},this.$(".v-settings").each(_.bind(function(t,e){var i=e.getAttribute("data-view");this.providers[i]=new TVE.AudioProviders[i]({el:e,key:i,control:this}),this.providerOptions[i]=this.$("#a-checkbox-settings-"+i)},this)),this.activeView=this.$("#a-settings-custom"),this.$source=this.$(".v-source"),this.on("change",_.bind(this.apply,this))},update:function(){if("audio"===TVE.Components["post-type-template-settings"].controls.PostFormat.getValue()){this.activeElement=TVE.inner_$('.thrv_audio[data-type="dynamic"]').first(),this.innerElement=this.activeElement.find(".tcb-audio");var t=this._getAttribute("provider");t||(t="custom"),this.$source.val(t),this.showSection(),this.updateOptions(),this.model=new Backbone.Model(this.read());var e=this.model.get("config");this.activeView.setConfig(e?e.p:null),e.p&&e.p.url&&this.activeView.$(".tve_provider_url").val(e.p.url)}},updateOptions:function(){var i,n=this;this.activeView.dataAttributes={},this.activeOptions.find("input").each(function(t,e){i=n.getBackendAttribute(e.getAttribute("data-elem-attr")),e.getAttribute("data-elem-attr-val")===i?(e.checked=!0,n.activeView.dataAttributes[e.getAttribute("data-elem-attr")]=i):e.checked=!1})},read:function(){var t={p:{}},e=this.activeElement.find("audio"),i=this.activeElement.find("iframe");if(e.length){var n=e.find("source");t.s="custom",t.p={id:e.attr("data-id"),title:e.attr("data-title"),attachment:{id:e.attr("data-id"),title:e.attr("data-title"),url:n.attr("src"),mime:n.attr("type")}}}else i.length&&(t.s=this._getAttribute("provider"),t.p={url:this.getBackendAttribute("url")});return{config:t}},apply:function(){var e={url:this.activeView.attachment?this.activeView.attachment.url:this.activeView.config.url},i=this;return TVE.main.overlay(),Object.keys(this.activeView.dataAttributes).forEach(function(t){e[t]=i.activeView.dataAttributes[t]}),TVE.$.ajax({url:TVE.CONST.theme.routes.post+"/format/audio",type:"POST",data:{params:e,source:this.$source.val(),post_id:TVE.CONST.post.ID},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(t){t.success&&(TVE.StorageManager.set("tve_post_options_change",TVE.CONST.post),TVE.inner_$('.thrv_audio[data-type="dynamic"]').html(t.html),TVE.CONST.theme.post_format_options_audio=e)}).error(function(){}).always(function(t){TVE.main.overlay("close")}),this},extraSettingsChanged:function(t,e){var i=e.getAttribute("data-elem-attr"),n=e.checked?e.getAttribute("data-elem-attr-val"):e.getAttribute("data-elem-attr-val-unchecked");t.attr("data-"+i,n),this.activeView.changeSettings(i,n),this.apply()},selectSource:function(t,e){0===this.activeElement.find(".tve_audio-no_audio").length&&(TVE.inner_$('.thrv_audio[data-type="dynamic"] iframe, audio').remove(),TVE.inner_$('.thrv_audio[data-type="dynamic"] .tve_audio_container').append('<div class="tve_audio-no_audio">'+TVE.icon("audio-player","svg","editor")+"</div>")),this.showSection()},showSection:function(){_.each(this.providers,function(t){t.$el.hide()}),_.each(this.providerOptions,function(t){t.hide()}),this.$(".tve-advanced-controls").hide();var t=this.$source.val();this.activeView={},t&&(this.activeView=this.providers[t].show(),this.activeView.setChosen(),this.activeOptions=this.providerOptions[t],this.providerOptions[t].length&&(this.providerOptions[t].show(),this.$(".tve-advanced-controls").show()),this.activeView.dataAttributes={}),this.activeOptions.find("input").each(function(t,e){e.checked=!1}),this._setAttribute("provider",t,this.innerElement)},reset:function(){_.each(this.providers,function(t){t.reset&&t.reset()})},_getAttribute:function(t){return this.innerElement.attr("data-"+t)},getBackendAttribute:function(t){return TVE.CONST.theme.post_format_options_audio[t]},changeInput:function(t,e){e.value&&(this.activeView.config.url=e.value,this.apply())},_setAttribute:function(t,e,i){(i=void 0===i?this.innerElement:i).attr("data-"+t,e)}})},"template-video.js":function(t,e,i){e.exports=TVE.Views.Base.control.extend({update:function(){if("video"===TVE.Components["post-type-template-settings"].controls.PostFormat.getValue()){this.activeElement=TVE.inner_$('.thrv_responsive_video[data-type="dynamic"]').first(),this.innerElement=this.activeElement.find(".tcb-video");var t=this.get_attribute("provider"),e=this.getBackendAttribute("start_time_minutes"),i=this.getBackendAttribute("start_time_seconds");t?(this.model=new Backbone.Model(this.read()),this.video_settings.set_model(this.model),this.$('.tve-time-control[data-time="Minute"] input').val(e?parseInt(e):0),this.$('.tve-time-control[data-time="Second"] input').val(i?parseInt(i):0),this.update_extra_settings(t),this.show_hide_provider_options(t)):this.hideAspectAndFloat(),this.hideThumbnailOption()}},hideThumbnailOption:function(){this.$(".tcb-responsive-video-thumbnail").addClass("tcb-hidden"),this.$(".v-setting-color").closest(".control-grid").addClass("tcb-hidden")},hideAspectAndFloat:function(){this.$(".tcb-default-aspect-ratio").hide(),this.$(".tcb-default-aspect-ratio-options").hide(),this.$(".tcb-custom-ratio").hide(),this.$(".tcb-floating-video").hide(),this.$(".tcb-floating-settings-container").hide()},update_extra_settings:function(t){t&&_.each(this.$("#r-v-checkbox-settings-"+t).find('input[type="checkbox"]'),_.bind(function(t){var e=t.getAttribute("data-elem-attr"),i=parseInt(t.getAttribute("data-elem-attr-val"));t.checked=this.getBackendAttribute(e)===i},this))},read:function(){var t={p:{}},e=this.activeElement.find("video.tcb-responsive-video").first(),i=this.activeElement.find("iframe").first();if(e.length){var n=e.find("source");t.s="custom",t.p={id:e.attr("data-id"),title:e.attr("data-title"),attachment:{id:e.attr("data-id"),title:e.attr("data-title"),url:n.attr("src"),mime:n.attr("type")}}}else i.length&&(t.s=this.get_attribute("provider"),t.p={url:this.get_attribute("src")});return{config:t}},input:function(t,e){},clear:function(t){(t=void 0!==t?t:this.activeElement).removeClass("tcb-elem-placeholder"),t.find(".tcb-inline-placeholder-action").remove(),t.find(".tve_responsive_video-no_video").remove(),t.find(".tve_responsive_video_container").removeAttr("style"),t.find("iframe,video,script,.wistia_embed").remove()},after_initialize:function(t){this.video_settings=new TVE.Views.Components.VideoControls({config:{component_controls:t.component.controls},key:"ThemeVideoControls"}),this.$el.append(this.video_settings.$el.addClass("video-options")),this.video_settings.on("change",_.bind(this.apply,this)),this.video_settings.on("start-time-changed",_.bind(this.start_time_changed,this)),this.video_settings.on("color-change",_.bind(this.color_changed,this)),this.video_settings.on("thumbnail-changed",_.bind(this.thumbnail_changed,this)),this.video_settings.on("thumbnail-removed",_.bind(this.thumbnail_removed,this))},extra_settings_changed:function(t,e){var i=e.getAttribute("data-elem-attr"),n=e.checked?e.getAttribute("data-elem-attr-val"):e.getAttribute("data-elem-attr-val-unchecked");this.set_attribute(i,n),"autoplay"===i&&this.display_autoplay_warning(e.checked),this.apply()},start_time_changed:function(t){this.apply()},color_changed:function(t){this.set_attribute("video-color",t.toRgbString()),this.apply()},thumbnail_changed:function(t){this.set_attribute("overlay",1),this.activeElement.find(".video_overlay").addClass("video_overlay_image").html('<span class="overlay_play_button">'+this.videoOverlaySVG+"</span>"),this.activeElement.find(".video_overlay").css({"background-image":"url('"+t.url+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center"}).attr({"data-width":t.width,"data-height":t.height})},thumbnail_removed:function(){this.set_attribute("overlay",0),this.activeElement.find(".video_overlay").removeClass("video_overlay_image").html(""),this.activeElement.find(".video_overlay").removeAttr("data-width").removeAttr("data-height").removeAttr("style")},show_hide_provider_options:function(t){this.$(".responsive-video-time-settings").hide(),this.$(".r-v-checkbox-settings").hide(),this.hideAspectAndFloat(),"custom"!==t&&this.$(".responsive-video-time-settings").show(),this.$('.r-v-checkbox-settings[data-setting="'+t+'"]').show()},display_autoplay_warning:function(t){this.$el.find(".info-text").toggleClass("tcb-hidden",!t)},video_provider_changed:function(t,e,i){this.$(".tve_provider_url").val(""),TVE.inner_$('.thrv_responsive_video[data-type="dynamic"] iframe, video').remove(),TVE.inner_$('.thrv_responsive_video[data-type="dynamic"] .tve_responsive_video_container').append('<div class="tve_responsive_video-no_video">'+TVE.icon("video-player","svg","editor")+"</div>"),this.$('input[type="checkbox"]:hidden').each(function(){this.checked=!1}),this.show_hide_provider_options(e.value),this.set_attribute("type",e.value,t),this.update_extra_settings(e.value),this.hideThumbnailOption()},apply:function(){var i={source:this.video_settings.active_view.key,url:this.video_settings.active_view.attachment?this.video_settings.active_view.attachment.url:this.video_settings.active_view.config.url};return this.$('.r-v-checkbox-settings[data-setting="'+i.source+'"] input').each(function(t,e){i[e.dataset.elemAttr]=parseInt(e.checked?e.dataset.elemAttrVal:e.dataset.elemAttrValUnchecked)}),i.start_time_minutes=parseInt(this.$('.tve-time-control[data-time="Minute"]').find("input").val()),i.start_time_seconds=parseInt(this.$('.tve-time-control[data-time="Second"]').find("input").val()),TVE.main.overlay(),TVE.$.ajax({url:TVE.CONST.theme.routes.post+"/format/video",type:"POST",data:{params:i,source:i.source,post_id:TVE.CONST.post.ID},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(t){t.success&&(TVE.StorageManager.set("tve_post_options_change",TVE.CONST.post),TVE.CONST.theme.post_format_options_video=i,TVE.inner_$('.thrv_responsive_video[data-type="dynamic"] iframe, video, .tve_responsive_video-no_video').remove(),TVE.inner_$('.thrv_responsive_video[data-type="dynamic"] .tve_responsive_video_container').append(t.html))}).error(function(){}).always(function(t){TVE.main.overlay("close")}),this},get_attribute:function(t){return this.innerElement.attr("data-"+t)},getBackendAttribute:function(t){return TVE.CONST.theme.post_format_options_video[t]},set_attribute:function(t,e,i){(i=void 0===i?this.innerElement:i).attr("data-"+t,e)}})}},hooks:{"actions.js":function(t,e,i){e.exports={"tcb.button_styles":function(t){var o=TVE.tpl("controls/global/style-button"),e=TVE.CONST.theme.skin_styles.tve_global_button_styles,s=t.$(".theme-elements");e&&Object.values(e).length?(s.length?s.empty():(s=TVE.$('<div class="theme-elements"></div>')).insertAfter(t.$(".tcb-element-templates")).css("width","100%"),_.each(e,function(t,e){var i="tcb-global-button-"+e,n='<div class="tve-select-item global-style-preview click" data-value="'+i+'" data-fn="select">'+o({cls:i,text:t.name})+"</div>";s.append(n)}),s.prepend('<div class="full-width button-category-label">THEME STYLES</div>'),t.$("#tve-default-buttons").append(s)):s.remove()},"tcb.after-insert":function(t){if(t&&t.is(TVE.identifier("logo"))){var e=_.find(TVE.CONST.dynamic_links.Site.links[0],function(t){return t.url===TVE.CONST.theme.logo_url});e&&t.attr({"data-dynamic-link":"thrive_global_shortcode_url","data-shortcode-id":e.id,href:TVE.CONST.theme.logo_url})}},"tcb-ready":function(){if(TVE.CONST.landing_page)TVE.main.sidebar_extra.$('[data-fn="toggle_theme_css"]').hide();else{if(!["content_block","mec-events"].includes(TVE.CONST.post.post_type)){var i=!0;TVE.inner.$body.find("".concat(TVE.identifier("post_content"))).each(function(t,e){if(0===TVE.inner_$(e).closest(TVE.identifier("post_list")).length)return i=!1}),i&&(TVE.main.sidebar_extra.$(".add-element").addClass("tve-disabled"),TVE.main.$container.before(TVE.tpl("theme-main/no-post-content-notice")()),TVE.inner.$body.addClass("no-post-content-overlay"))}}TVE.inner_$(".tve_wp_shortcode .tve_shortcode_rendered + .tve_shortcode_rendered").remove()},"tcb.element.selected":function(){TVE.Theme.switch.resetCounter()},"tcb.editorActions.init":function(){TVE.$body.append('<div id="tt-loading-wrapper"></div>')}}},"filters.js":function(t,e,i){var n;n=jQuery,e.exports={"tcb.global.stylepicker.styles":function(i,n){if(!_.isEmpty(TVE.CONST.theme.skin_styles["tve_global_"+n+"_styles"])){var t=TVE.CONST.theme.skin_styles["tve_global_"+n+"_styles"];i["Theme Styles"]=[],_.each(t,function(t,e){t.cls="tcb-global-"+n+"-"+e,t.id=e,i["Theme Styles"].push(t)})}return i},"tcb.includes":function(t){return t.CONST.theme.is_theme_template||(n.extend(!0,t.Views.Components,i("../components/_includes")),n.extend(!0,t.Views.Controls,i("../controls/_includes"))),t},editor_wrapper:function(t){var e=TVE.inner_$(".tcb-post-content #tve_editor");return TVE.CONST.theme.is_theme_template||TVE.CONST.landing_page||!e.length||(t=e.first()),t},"tcb.froala.dropdown_container":function(t){return TVE.CONST.landing_page||(t=TVE.inner.$body),t},editor_loaded_callback:function(){new URLSearchParams(window.location.href).has("from_theme")&&(TVE.Theme.switch.greetingMessage("<span>Thrive Architect</span>Editing page <strong>".concat(TVE.CONST.post&&TVE.CONST.post.post_title,"</strong>"),2e3,["tar"]),history.pushState({},document.title,location.pathname+location.search.replace("&from_theme=1","")))},"tcb.click_blur":function(t,e){return e.is("html")||TVE.Theme.switch.tarBlur(),t},tcb_extend_landing_page_modal:function(t){return t.extend({events:function(){return _.extend({},t.prototype.events,{"mouseover .show-skin-tooltip":"toggleSkinTooltip","mouseleave .show-skin-tooltip":"toggleSkinTooltip"})},initialize:function(){t.prototype.initialize.call(this),this.skinTooltip=t.prototype.initTooltip.call(this,this.$el,"theme-main/lp-set-skin","theme-skin")},toggleSkinTooltip:function(t,e){this.skinTooltip&&this.skinTooltip["mouseover"===t.type?"open":"onCancel"](null,t.currentTarget)}})},tcb_landing_page_set_before_show:function(t){return _.sortBy(t,"order")},tcb_default_landing_page_set:function(t){return n.extend(!0,{fromSkin:0},t)},tcb_category_landing_page_set:function(t,e){return n.extend(!0,{fromSkin:e.from_skin},t)},"tcb.extend-sidebar-right":function(){return i("../views/sidebar-right")},allow_dragenter:function(t,e,i){return 0===e.closest(TVE.Editor_Page.editor).length&&(t=!1),t}}}},"init.js":function(t,e,i){jQuery(window).on("tcb_main_ready",function(){TVE.Theme.views={SwitchConfirmation:i("../architect/main/modals/switch-confirmation"),TarLightNotice:i("../architect/main/modals/tar-light-notice")},TVE.main.on("element_selected",function(t,e){TVE.CONST.dynamic_links.Site.links[0].map(function(t){t.url===TVE.CONST.theme.logo_url&&(t.show="logo"===e)})})}).on("tcb.register-hooks",function(){TVE.Theme=_objectSpread({},TVE.Theme||{},{switch:i("../architect/main/switch-editor"),constants:i("../architect/main/constants"),modals:{},views:{}}),_.each(i("./hooks/actions"),function(t,e){return TVE.add_action(e,t)}),_.each(i("./hooks/filters"),function(t,e){return TVE.add_filter(e,t)}),_.each(i("../everywhere/actions"),function(t,e){return TVE.add_action(e,t)}),_.each(i("../everywhere/filters"),function(t,e){return TVE.add_filter(e,t)})})},views:{"sidebar-right.js":function(t,e,i){e.exports={switchClickedFromArchitect:function(t){window.onbeforeunload&&(t.preventDefault(),TVE.Theme.switch.showConfirmationModal(t.currentTarget.href,TVE.Theme.constants.ARCHITECT_CONTEXT))},openLightNotice:function(){TVE.Theme.modals.TarLightNotice||(TVE.Theme.modals.TarLightNotice=new TVE.Theme.views.TarLightNotice({el:TVE.modal.get_element("tar-light-notice")})),TVE.Theme.modals.TarLightNotice.open()}}}}},everywhere:{"actions.js":function(t,e,i){e.exports={tcb_after_cloud_template_css_inserted:function(t){t.is("".concat(TVE.identifier("contentblock"),",").concat(TVE.identifier("lpblock")))&&t.find(TVE.identifier("post_list")).each(function(t,e){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(e))})}}},"filters.js":function(t,e,i){var n;n=jQuery,e.exports={"tcb.palette_changed":function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t&&(e.previous_template_data&&e.active_template_data&&(e.previous_skin_data=e.previous_template_data,e.active_skin_data=e.active_template_data),n.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/change_palette"),type:"POST",data:e,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).success(function(){TVE.outer&&TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_palette_changed",data:e},"*")}).error(function(t){t.responseJSON&&TVE.page_message(t.responseJSON.message,!0,5e3)})),t},"tcb.palette_reset":function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t&&n.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/reset_palette"),type:"POST",data:e,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}),t},"tcb.variable.panel.save.data":function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return 1<arguments.length&&arguments[1],t.external_palettes&&(t.type="colors",t.key="color",n.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/skin_variables"),type:"POST",data:t,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).error(function(t){t.responseJSON&&TVE.page_message(t.responseJSON.message,!0,5e3)})),t}}}}}}}}})("workspace/inc/assets/js/editor/init");